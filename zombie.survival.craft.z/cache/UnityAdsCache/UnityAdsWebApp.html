<!DOCTYPE html>
<html lang="en">
<head>
  <title>Unity Ads WebView</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />

  <style type="text/css">html{width:100%;height:100%;background-color:transparent;font-size:16px}body.iphone,body.ipad,body.android{margin:0;padding:0;width:100%;height:100%;background-color:transparent;color:#000;font-family:Helvetica,sans-serif;-webkit-text-size-adjust:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-user-drag:none}#overlay{width:100%;height:100%;background-color:transparent;color:#fff;pointer-events:none;}#overlay .skip-hit-area{position:fixed;top:0;left:0;width:70px;height:55px;pointer-events:auto}#overlay .skip{position:absolute;top:10px;left:10px;width:36px;height:36px}#overlay .skip-icon{position:absolute;top:50%;left:15%;width:27px;height:29px;font-size:27px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#overlay .skip .circle-left,#overlay .skip .circle-right{border:4px solid #777}#overlay .skip .skip-icon{color:#777}#overlay .skip.enabled .circle-left,#overlay .skip.enabled .circle-right{border:4px solid #fff}#overlay .skip.enabled .skip-icon{color:#fff}#overlay .mute-button{position:fixed;bottom:0;left:0;display:none;width:70px;height:55px;pointer-events:auto;}#overlay .mute-button .mute-icon,#overlay .mute-button .unmute-icon{position:absolute;bottom:10px;left:10px;height:27px;font-size:27px}#overlay .mute-button .unmute-icon{display:none}#overlay .mute-button.muted .mute-icon{display:none}#overlay .mute-button.muted .unmute-icon{display:block}#overlay .call-button{position:fixed;right:10px;bottom:10px;display:none;font-weight:bold;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);pointer-events:auto}#overlay .buffering-spinner{position:absolute;top:0;right:0;bottom:0;left:0;display:none;margin:auto;width:100px;height:65px}#overlay .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}#overlay .debug-message-text{position:absolute;top:50%;right:10px;display:none;pointer-events:auto}#overlay .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}#overlay .progress{position:fixed;top:0;right:0;display:none;padding:10px;width:36px;height:36px}#overlay .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#overlay .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;content:attr(data-seconds);font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#overlay .circle-base,#overlay .circle-left,#overlay .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#overlay .circle-base{border:4px solid rgba(105,105,105,0.4)}#overlay .circle-left,#overlay .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#overlay .progress-wrapper,#overlay .circle-left,#overlay .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fade{opacity:0;-webkit-transition:opacity .45s ease-in-out;transition:opacity .45s ease-in-out}.slide-up{-webkit-transform:translateY(-150%);transform:translateY(-150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-down{-webkit-transform:translateY(150%);transform:translateY(150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-back-in-place{-webkit-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out, -webkit-transform .2s ease-in-out}@-webkit-keyframes right-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes right-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@-webkit-keyframes left-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes left-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes close-progress-wrapper{to{clip:rect(auto,auto,auto,auto)}}@keyframes close-progress-wrapper{to{clip:rect(auto,auto,auto,auto)}}#interstitial-overlay{width:100%;height:100%;background-color:transparent;color:#fff;pointer-events:none;}#interstitial-overlay .mute-button{position:fixed;bottom:0;left:0;display:none;width:70px;height:55px;pointer-events:auto;}#interstitial-overlay .mute-button .mute-icon,#interstitial-overlay .mute-button .unmute-icon{position:absolute;bottom:10px;left:10px;height:27px;font-size:27px}#interstitial-overlay .mute-button .unmute-icon{display:none}#interstitial-overlay .mute-button.muted .mute-icon{display:none}#interstitial-overlay .mute-button.muted .unmute-icon{display:block}#interstitial-overlay .call-button{position:fixed;right:10px;bottom:10px;display:none;font-weight:bold;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);pointer-events:auto}#interstitial-overlay .buffering-spinner{position:absolute;top:0;right:0;bottom:0;left:0;display:none;margin:auto;width:100px;height:65px}#interstitial-overlay .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}#interstitial-overlay .debug-message-text{position:absolute;top:50%;right:10px;display:none;pointer-events:auto}#interstitial-overlay .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}#interstitial-overlay .close-region{position:fixed;top:2px;right:2px;width:50px;height:50px;opacity:.4;pointer-events:auto}#interstitial-overlay .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#interstitial-overlay .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#interstitial-overlay .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#interstitial-overlay .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#interstitial-overlay .circle-base,#interstitial-overlay .circle-left,#interstitial-overlay .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#interstitial-overlay .circle-base{border:4px solid #696969}#interstitial-overlay .circle-left,#interstitial-overlay .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#interstitial-overlay .progress-wrapper,#interstitial-overlay .circle-left,#interstitial-overlay .circle-right{-webkit-animation-iteration-count:1;-webkit-animation-fill-mode:forwards;-webkit-animation-timing-function:linear;-webkit-animation-duration:.01s}@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.slide-up{-webkit-transform:translateY(-150%);transform:translateY(-150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-down{-webkit-transform:translateY(150%);transform:translateY(150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-back-in-place{-webkit-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out, -webkit-transform .2s ease-in-out}body.landscape #end-screen.combined-end-screen .underlay{width:50%}body.landscape #end-screen.combined-end-screen .end-screen-info-background{position:absolute;left:50%}body.landscape #end-screen.combined-end-screen .unityads-logo{width:100%}body.landscape #end-screen.combined-end-screen .privacy-button{left:0}body.portrait #end-screen.combined-end-screen .end-screen-info{position:relative;top:1.5rem}body.portrait #end-screen.combined-end-screen .underlay{height:45%}body.portrait #end-screen.combined-end-screen .download-container{top:.5rem}body.portrait #end-screen.combined-end-screen .row-container{bottom:1.5rem}#end-screen.combined-end-screen{overflow:hidden;}#end-screen.combined-end-screen .btn-close-region{z-index:100}#end-screen.combined-end-screen .game-rating-mask{color:#167dfb}#end-screen.combined-end-screen .icon-star{font-size:1.25rem}#end-screen.combined-end-screen .name-container{font-size:1.25rem}#end-screen.combined-end-screen .row-container{z-index:20}#end-screen.combined-end-screen .campaign-container .end-screen-info-background,#end-screen.combined-end-screen .campaign-container .game-background{z-index:10}#end-screen.combined-end-screen .campaign-container .end-screen-info-background{background-color:#fff}#end-screen.combined-end-screen .campaign-container .download-container{width:12rem;position:relative;z-index:20;margin:0 auto;border-radius:5rem;background-color:#046ff2;font-size:.9375rem}#end-screen.combined-end-screen .campaign-container .game-background-landscape,#end-screen.combined-end-screen .campaign-container .game-background-portrait{position:relative;border-radius:.2rem;-webkit-box-shadow:0 0 100px 5px rgba(0,0,0,0.75);box-shadow:0 0 100px 5px rgba(0,0,0,0.75)}#end-screen.combined-end-screen .campaign-container .game-background-landscape{top:5%;right:2.5%;margin-left:5%;width:45%;height:90%}#end-screen.combined-end-screen .campaign-container .game-background-portrait{top:2.75rem;margin:0 auto;width:90%}#end-screen.combined-end-screen .campaign-container .end-screen-info{z-index:20}#end-screen.combined-end-screen .campaign-container .underlay{position:absolute;z-index:5;width:100%;height:100%;-webkit-filter:brightness(100%) blur(20px);filter:brightness(100%) blur(20px);background-position:center;background-size:cover;background-repeat:no-repeat;-webkit-transform:scale(1.5) translateZ(0);transform:scale(1.5) translateZ(0);-webkit-perspective:1000;perspective:1000;-webkit-backface-visibility:hidden;backface-visibility:hidden;}#end-screen.combined-end-screen .campaign-container .underlay:before{position:absolute;top:0;right:0;bottom:0;left:0;background-image:-webkit-gradient(linear,left top, left bottom,from(rgba(255,255,255,0)),color-stop(80%, #000));background-image:linear-gradient(rgba(255,255,255,0),#000 80%);content:""}#end-screen.combined-end-screen .campaign-container .store-container{margin-top:.25rem}#end-screen.combined-end-screen.gold .game-rating-mask{color:#ff8e00}body.android #end-screen.combined-end-screen.gold .campaign-container .download-container{border-radius:.75rem}#end-screen.combined-end-screen.filter-fallback .underlay{display:none}body.portrait #end-screen .game-background-portrait{display:block}body.portrait #end-screen .game-background-landscape{display:none}body.portrait #end-screen .row-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}body.portrait #end-screen .column-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}body.portrait #end-screen .game-background{width:100%;height:50%}body.portrait #end-screen .end-screen-info-background{width:100%;height:50%}body.portrait #end-screen .privacy-button{left:0}body.portrait #end-screen .game-icon{-ms-flex-item-align:center;align-self:center}body.landscape #end-screen .game-background-portrait{display:none}body.landscape #end-screen .game-background-landscape{display:block}body.landscape #end-screen .end-screen-info{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}body.landscape #end-screen .end-screen-info .game-icon{margin:0 auto}body.landscape #end-screen .game-background{width:50%;height:100%}body.landscape #end-screen .campaign-container{display:-webkit-box;display:-ms-flexbox;display:flex}body.landscape #end-screen .end-screen-info-background{width:50%;height:100%;text-align:center}body.landscape #end-screen .privacy-button{left:50%}body.landscape #end-screen .unityads-logo{width:50%}body .row-container{position:relative}#end-screen{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background-color:transparent;}#end-screen .campaign-container{width:100%;height:100%;background:#fff}#end-screen .game-background{background-color:#000;background-position:center;background-size:cover;background-repeat:no-repeat}#end-screen .end-screen-info-background{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:center;align-content:center;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#end-screen .btn-close-region{width:2.1875rem;font-size:1.25rem;line-height:2.1875rem;position:absolute;right:0;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;padding:.25rem}#end-screen .download-container{padding:.75rem 0;width:14rem;border-radius:.75rem;font-size:1.25rem;background:#167dfb;color:#fff;text-align:center}#end-screen .game-rating{font-size:1.5rem;position:relative;display:inline-block;color:#e6e6e6;vertical-align:middle;letter-spacing:5px;text-align:center}#end-screen .game-rating-mask{position:absolute;left:0;overflow:hidden;width:0;height:100%;color:#ff8e00;text-align:center;white-space:nowrap}#end-screen .game-rating-count{color:#7c7c7c;font-size:1rem}#end-screen .game-icon{width:4.5rem;height:4.5rem;border-radius:.75rem;background-position:center;background-size:cover;background-repeat:no-repeat}#end-screen .unityads-logo{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAAAgCAYAAADJ9TDRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABwdJREFUeNrsmwuQTmUYx89nbbGrxG4TXUzUphu6uA2FVpZUIyrdyExKqpGKGS0Jle7SRelGNRTVtC4VMstEyTWVlRVKF0Jyz+667dfzTr8z+8zbOd+u9fn24Dwz//nOOe97Lt/7/t/n+T/Pd75INBp1QgvNzyqFQxBaSJDQym2V43GRsxo0j+czNRA0EWQJTPy7JZymg7ef8xYEhyCHaKcIWgraCpoKLhYk0VYkqC3YEE75EexBymGtBZmCKwTnC9J8+lWBMCFBjiGC1BfMFBzn0bZTcIIgoo4ZIk0Lp+rYEanPKXLsECwWjBS0Ebzs0b95gp+vm2CW4ENBCsdu4FgOBA49SBzNiMyLEJzpaIqnBQsFSwTr6GcGfhzeY62gkPBzqeBswZoEjUkjvJaxuwUF3N8c2+Pj+UKClNPuFLyl9ocLegmKPfo+JTiD7X6CuoIR6JBmCSTIVELdP5DDgawOx/aEBImP3SV4U+1n4zm87BJWq7FvBJPUKnZF7fs+GVBVJvIvq62m4EQmdIugFt7pN0ENrmk+/xZ8LdjGeYsEeYL99K8jOJk2k13VE+RzvSTItNW69/G0mxC+GWLZdibPtcs6niy4UFCN/QIWxw6fsTud7M+Ew58I2YHXIPdZ5BgcgxyuZ6nMpPTj2GIVfrKUHtA2VvCjYLRH22DaPiZULWM/m/A2ifONx1gqaMV5DwrWC+ajf1YLBtJ2kuA7QSfBM1zvC4+w01+wgnvW9Xi2FIjYz2fCp/AcfQVDBZ8JHvXo+7DgE8HVgsaCJ/leNYJMEBNCRqn9YYInYvTvLOjA9kSBW+HZhTdxWMUXeJybymCn+qTIKazEJDROKoOYIdikVrZZzeNZ+UmcV506zHLBRvodEKwkE5tGv8aKXK5XvpG2ZRDFtmvweC3xGPZzG4/RBXF8LTruMmtc2wnuYPx6Ch7gmPGIrwWVIL0Fb7C9j1U8NEb/qmgPY9sFQ6z2L/mMMGG2HbA+tRWrtijeyb1PZya5IavVQf8YV71bTXQ+InmEyroux3vMUMTpqu7bgOs6eNEDPplSf56lvdUW9ZibdXitdpDK4dM8w5/W+UMJvYEjSG/L1c8TzEFLtPVAJuSoT/9nBb9Y15zB52yuFQ8zq3Ayk72WiSqiraHPhEYt4u1npeaoNDid7e4QeguhwbZzyOTMd5suuLWMz13I/bqpENxRcKrVbz1eJ1Ai1cTS561jRgTOLeP5xhW/4HH8V4gxAI90KOYW3+xsaCMCtTYhZl+Mc+1FNZaQWoPVPQHvZOxTSOLlPeapPub8NJ++XuN0Pdufk90ZEuayvwgi7Q6aB6lZyqCWZmYF7/VZuUUq3fS7R7SUVR/rO1dSfQ/25ZhvmRS33pOFnnFUqLUzlCzlaTeTMZX1B8l9TsnvVA7C9WaODxJ8Jbj/IMc+IR5kEBOs9cZsKqNVfB44ivruTuy/x0NcncaADke0RX10hhdB46bkS7EPBC1AbY59D3lsa4FYTlKiOx+vMKoM96rusZBWMf4OWddISPpQ0Oogw5jAYephJ1qFMsdDY7RBIA5GG2jRlQW5riNTmOMRgtw6SiakdMgsshJEkBy+c5pT8qPjGJ9Q1YVQMsDyfhmI27xS7tWeMONmQvNU/cYhAzQhblZQs5jHVL6egoq/N0b/HRDDobA00GrP9MhYtE1XhakpTFYOREpPEEE2WGJ0F7UI29LQKTcJeghuBz1YSD0s72pXm03W0kQtuD4QzkvMFge5DvI4RHHtVYSYn41Xoq0nVUQ3BW7BtvEqP3icO1VlEtVYPZ3RLTMVUSupekOyh45JVW3JqsYSsc5J9QmXbysCzyKTsM0Q43fH+9WFCXjJalzHhMxz8SwNWWTvUevYpIqLj6BBahG6TEFwXDyrqYer1D6EWOkWyF7ni4/xqWUMZNVXIRvqQJioR59c5/8laVe0dSXNbE2lcxW6YC/Fpa2kz7dBlPnWNQooOKWgG4opYhUqcTyFWsQen+fQVd7RPmNSl8XiJ3an8X3NTwF/OP9VnqOMzxpS13x1zlxI14uF5XodQ9CX4jWRkXi81R7jlcNBVhW1TwwxNp5JdKiTnKf6mgl8xwmuTaaQtZoVX5Tg+6ewuLa5Qv5IeeXQuEFTzm7EfiuEVi5uME+tyP60pbMCCpWXWBBgcjRShal3K4AcrhcsOBwXTsT7ILa7M7n6i2ybmLwcvZCLqM1WOsRNGVcGmCCdENumOPWRc5RZRbxy2FfVCOqAjrjGjXxqIbiwHAWsRJqp9byCVtgZEuTQbSmFoavIUjLIEiKq0ORYBbcg23bnKLaKeqvdrVeY+5sfr64k42iGR9FZyhIntGOOIK6ZX0VXAOOqzRtgTZ2SP07tdEpeGgqtAiwS/nk7tFgW/jc3tJAgoZXf/hVgADewrBV76/fXAAAAAElFTkSuQmCC");width:100%;height:1rem;border-radius:0;background-position:center;background-size:contain;background-repeat:no-repeat;bottom:.25rem;position:absolute;z-index:5}#end-screen .name-container{max-width:12.5rem;font-size:1.5rem;display:-webkit-box;overflow:hidden;color:#000;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}#end-screen .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;margin:0 0 0 .25rem}body.portrait #end-screen .column-container{margin-left:.5rem}body.portrait #end-screen .download-container{margin:.75rem auto}body.landscape #end-screen .column-container{margin:.5rem 0}body.landscape #end-screen .btn-close-region{color:#7c7c7c}body #end-screen .store-container{margin-top:.4rem}body #end-screen .row-container{bottom:1rem}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXiedrYAAAu0AAAAHEdERUYAOgAGAAALlAAAACBPUy8yL5pMRQAAAVgAAABWY21hcMAaI74AAAHUAAABSmdhc3D//wADAAALjAAAAAhnbHlmyZ6l+gAAAzwAAAYYaGVhZA1/FNoAAADcAAAANmhoZWEEFAIFAAABFAAAACRobXR4Bu0BXwAAAbAAAAAibG9jYQkQClYAAAMgAAAAHG1heHAAVQBxAAABOAAAACBuYW1lXr/KkQAACVQAAAGtcG9zdD/V5FMAAAsEAAAAhgABAAAAAQAAy16SO18PPPUACwIAAAAAANYwafMAAAAA1jBp8wASAAAB7gH3AAAACAACAAAAAAAAAAEAAAH3AAAALgIAAAAAAAHuAAEAAAAAAAAAAAAAAAAAAAAEAAEAAAANAG4ABgAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgCQHg/+AALgH3AAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAAAAAAAAwAAAAMAAAAcAAEAAAAAAEQAAwABAAAAHAAEACgAAAAGAAQAAQACAADgCf//AAAAAOAA//8AACADAAEAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGOAgICRAJ6AqQC2gMMAAYANwAAAckB2wALABcAJgBGAF4AbQAAEzI3NjQnJiMiBhQWMzI2NCYjIgcGFBcWBjIWHQEUBwYiJyY9ATQ3JRUUBwYrARUUBwYiJyY9ASMVFAcGIicmNScjIicmPQE3FhcWFSE0NzY3JyY3Nh8BNjIXNzYXFgcXFRQHBiInJj0BNDYyFxbEBAQDAwQEBQYGfQUGBgUEBAMDBfIaEAgJGAkICAFECQkNFQkJGAkIKAgJGAkIARUNCQnEIRAS/vgSESAUAgMEAhUbPBsVAgQDAnQICRgJCBAaCAgBdgMDCgMDBgoGBgoGAwMKAwM1EA17DQcJCQgMewsKA74MCwlBDQcJCQgMQUEMCAkJCAxBCQoNvnQSGh0hIhwaEiUFAQEDJgwMJgMBAQWxewwICQkHDXsNEAgKAAAAAAEAEgAxAe4B9wAjAAABFA8BFxUUBwYjIi8BBwYjIicmNTQ/AScmNTQ/AjYyHwIWAe4IZxgDAwUECICACAQGAwMBGGgHEJBABhAGQJAQAUcGCGWPBQcDBQRDQwQFAwcDAo9lCwMLAhWCDAyCFQIAAAAEACAAIAHgAeAACQAVACEAMwAAATI2NTQmIgYUFjciBhUUFjMyNjU0JgMiJjU0NjMyFhUUBic0JisBIgYVMxUUFjsBMjY1IwEADhITGhMTDVyEhFxdg4NdQl5eQkNdXSMUDCAMFCAUDCAMFCABQBIODRMTGhOghFxdg4NdXIT+gF1DQl5eQkNdoAwUFAxgDBQUDAAAAwAmAE0B2gGzABsANwBOAAABIycjJg8BBh8CNRUeAQc1DwEGHwEWPwEjNjQnNScmByMVBzEHBh8BMxYUDwExBwYfARY/ATY0JyIPAiMxIh0BFDMxMx8BFjMyPQERJgGUAQkBCQkRBwcBCTcBNwkBBwgRCQkKAUZ3CgoIARABBwcKARsbCQEICRIJCAopfwQBaShKCAhKO1UEAgsCAakKCAkRCQkBCQEBN503AQkBCwgRBwcKRsYCAQoHCAEQAQgJChxMHAkBCQkSBwcKK3ZLAT0XCGkIIjECCgIBDgkAAAAFACYASAHYAbgAEwAlACwAPwBOAAABFR8BFgcXNiYnMScmByMxBzEHBjcjJyMmDwEGHwIxHgEHFzYmJyYjIg8BFycjMSIdARQzMTMfARYzMj0CJwUBMSYHFQcGFwEWPwE1NgE1CgEjCikRECAKCggBEAEHZgEJAQkJEQcHAQkqFRglJhW0AgkDAiw8oUoICEo7VQIEC5gBNv61CQkSCQkBSwkJEgkBTAEJASMvKSdYIAoHCBABCFQKCAkSCAkBCSp2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAEsBsQG1ACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAZEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAEUBpgG7ACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggLyyYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAIcBugF5ABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEABgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAHwBeAGFACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR7AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAEAB4AHAAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAggAEAQIDgIICAgCABYCBggP6gIIAAAAAADACWAAEAAAAAAAEACgAWAAEAAAAAAAIABwAxAAEAAAAAAAMAJwCJAAEAAAAAAAQACgDHAAEAAAAAAAUACwDqAAEAAAAAAAYACgEMAAMAAQQJAAEAFAAAAAMAAQQJAAIADgAhAAMAAQQJAAMATgA5AAMAAQQJAAQAFACxAAMAAQQJAAUAFgDSAAMAAQQJAAYAFAD2AHUAbgBpAHQAeQBpAGMAbwBuAHMAAHVuaXR5aWNvbnMAAFIAZQBnAHUAbABhAHIAAFJlZ3VsYXIAAEYAbwBuAHQARgBvAHIAZwBlACAAMgAuADAAIAA6ACAAdQBuAGkAdAB5AGkAYwBvAG4AcwAgADoAIAAxADQALQAxADEALQAyADAAMQA3AABGb250Rm9yZ2UgMi4wIDogdW5pdHlpY29ucyA6IDE0LTExLTIwMTcAAHUAbgBpAHQAeQBpAGMAbwBuAHMAAHVuaXR5aWNvbnMAAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAVmVyc2lvbiAxLjAAAHUAbgBpAHQAeQBpAGMAbwBuAHMAAHVuaXR5aWNvbnMAAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAgECAQMBBAEFAQYBBwEIAQkBCgELB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwAAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADAABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1jBp8wAAAADWMGnz") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}#mraid #mraid-iframe{position:absolute;top:0;left:0;width:100vw;height:100vh;border:none}#mraid .close-region{position:absolute;top:0;right:0;z-index:9999;width:50px;height:50px;opacity:.4}#mraid .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#mraid .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#mraid .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#mraid .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#mraid .circle-base,#mraid .circle-left,#mraid .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#mraid .circle-base{border:4px solid #696969}#mraid .circle-left,#mraid .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#mraid .progress-wrapper,#mraid .circle-left,#mraid .circle-right{-webkit-animation-iteration-count:1;-webkit-animation-fill-mode:forwards;-webkit-animation-timing-function:linear;-webkit-animation-duration:.01s}#mraid .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;left:0;margin:0 0 0 .25rem}#moat{width:100vw;height:100vh;}#moat #moat-iframe{position:absolute;top:0;left:0;display:none;width:100vw;height:100vh;border:none}#privacy{position:fixed;top:0;left:0;z-index:9999;width:100vw;height:100vh;background-color:rgba(0,0,0,0.75);}#privacy .pop-up{margin:20px;padding:10px 15px;border:3px solid #fff;border-radius:10px;background-color:#fff;-webkit-box-shadow:0 0 5px #fff;box-shadow:0 0 5px #fff;letter-spacing:1px}#privacy .privacy-text,#privacy .privacy-simple-text,#privacy .build-information-container{color:#000;text-align:justify;font-size:12px;line-height:17px}#privacy .ok-button{margin:5px 0;padding:5px;border-radius:10px;background:#167dfb;color:#fff;text-align:center;font-size:18px;line-height:20px}#privacy .build-information-link{margin-top:20px;background:#fff;color:#167dfb;text-align:center;text-decoration:underline;font-size:12px}#privacy .build-information-container{display:none;overflow:scroll;text-align:left;word-wrap:break-word;font-size:.75rem;line-height:1rem}#privacy.show-build-information .build-information-container{display:block;}#privacy.show-build-information .build-information-container .build-information-key{font-weight:800}#privacy.show-build-information .pop-up .privacy-text,#privacy.show-build-information .pop-up .privacy-simple-text{display:none}body.portrait #privacy .build-information-container{max-height:20rem}body.landscape #privacy .build-information-container{max-height:11rem}@media only screen and (max-device-width:736px) and (orientation:portrait){#display-interstitial #display-iframe{width:320px;height:480px}#display-interstitial .iframe-click-catcher{width:320px;height:480px}}@media only screen and (max-device-width:736px) and (orientation:landscape){#display-interstitial #display-iframe{width:480px;height:320px}#display-interstitial .iframe-click-catcher{width:480px;height:320px}}@media only screen and (min-device-width:737px) and (orientation:portrait){#display-interstitial #display-iframe{width:768px;height:1024px}#display-interstitial .iframe-click-catcher{width:768px;height:1024px}}@media only screen and (min-device-width:737px) and (orientation:landscape){#display-interstitial #display-iframe{width:1024px;height:768px}#display-interstitial .iframe-click-catcher{width:1024px;height:768px}}#display-interstitial{width:100vw;height:100vh;}#display-interstitial .iframe-click-catcher{position:absolute;top:50%;left:50%;z-index:1;margin:0 -50% 0 0;padding:0;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#display-interstitial #display-iframe{position:absolute;top:50%;left:50%;margin-right:-50%;border:1px solid #fff;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#display-interstitial .close-region{position:absolute;top:2px;right:2px;z-index:9999;width:50px;height:50px;opacity:.4}#display-interstitial .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#display-interstitial .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#display-interstitial .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#display-interstitial .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#display-interstitial .circle-base,#display-interstitial .circle-left,#display-interstitial .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#display-interstitial .circle-base{border:4px solid #696969}#display-interstitial .circle-left,#display-interstitial .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#display-interstitial .progress-wrapper,#display-interstitial .circle-left,#display-interstitial .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#playable-mraid .game-rating{position:relative;display:inline-block;color:#e6e6e6;vertical-align:middle;letter-spacing:5px;font-size:20px}#playable-mraid .game-rating-mask{position:absolute;left:0;overflow:hidden;width:0;height:100%;color:#ff8e00;white-space:nowrap;font-size:inherit}#playable-mraid .game-rating-count{color:#7c7c7c;font-size:17px}#playable-mraid .game-icon{margin-bottom:20px;width:75px;height:75px;border-radius:18pt;background-color:#fff;background-size:cover}#playable-mraid .unityads-logo{position:absolute;bottom:10px;left:50%;width:68px;height:16px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAAAgCAYAAADJ9TDRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABwdJREFUeNrsmwuQTmUYx89nbbGrxG4TXUzUphu6uA2FVpZUIyrdyExKqpGKGS0Jle7SRelGNRTVtC4VMstEyTWVlRVKF0Jyz+667dfzTr8z+8zbOd+u9fn24Dwz//nOOe97Lt/7/t/n+T/Pd75INBp1QgvNzyqFQxBaSJDQym2V43GRsxo0j+czNRA0EWQJTPy7JZymg7ef8xYEhyCHaKcIWgraCpoKLhYk0VYkqC3YEE75EexBymGtBZmCKwTnC9J8+lWBMCFBjiGC1BfMFBzn0bZTcIIgoo4ZIk0Lp+rYEanPKXLsECwWjBS0Ebzs0b95gp+vm2CW4ENBCsdu4FgOBA49SBzNiMyLEJzpaIqnBQsFSwTr6GcGfhzeY62gkPBzqeBswZoEjUkjvJaxuwUF3N8c2+Pj+UKClNPuFLyl9ocLegmKPfo+JTiD7X6CuoIR6JBmCSTIVELdP5DDgawOx/aEBImP3SV4U+1n4zm87BJWq7FvBJPUKnZF7fs+GVBVJvIvq62m4EQmdIugFt7pN0ENrmk+/xZ8LdjGeYsEeYL99K8jOJk2k13VE+RzvSTItNW69/G0mxC+GWLZdibPtcs6niy4UFCN/QIWxw6fsTud7M+Ew58I2YHXIPdZ5BgcgxyuZ6nMpPTj2GIVfrKUHtA2VvCjYLRH22DaPiZULWM/m/A2ifONx1gqaMV5DwrWC+ajf1YLBtJ2kuA7QSfBM1zvC4+w01+wgnvW9Xi2FIjYz2fCp/AcfQVDBZ8JHvXo+7DgE8HVgsaCJ/leNYJMEBNCRqn9YYInYvTvLOjA9kSBW+HZhTdxWMUXeJybymCn+qTIKazEJDROKoOYIdikVrZZzeNZ+UmcV506zHLBRvodEKwkE5tGv8aKXK5XvpG2ZRDFtmvweC3xGPZzG4/RBXF8LTruMmtc2wnuYPx6Ch7gmPGIrwWVIL0Fb7C9j1U8NEb/qmgPY9sFQ6z2L/mMMGG2HbA+tRWrtijeyb1PZya5IavVQf8YV71bTXQ+InmEyroux3vMUMTpqu7bgOs6eNEDPplSf56lvdUW9ZibdXitdpDK4dM8w5/W+UMJvYEjSG/L1c8TzEFLtPVAJuSoT/9nBb9Y15zB52yuFQ8zq3Ayk72WiSqiraHPhEYt4u1npeaoNDid7e4QeguhwbZzyOTMd5suuLWMz13I/bqpENxRcKrVbz1eJ1Ai1cTS561jRgTOLeP5xhW/4HH8V4gxAI90KOYW3+xsaCMCtTYhZl+Mc+1FNZaQWoPVPQHvZOxTSOLlPeapPub8NJ++XuN0Pdufk90ZEuayvwgi7Q6aB6lZyqCWZmYF7/VZuUUq3fS7R7SUVR/rO1dSfQ/25ZhvmRS33pOFnnFUqLUzlCzlaTeTMZX1B8l9TsnvVA7C9WaODxJ8Jbj/IMc+IR5kEBOs9cZsKqNVfB44ivruTuy/x0NcncaADke0RX10hhdB46bkS7EPBC1AbY59D3lsa4FYTlKiOx+vMKoM96rusZBWMf4OWddISPpQ0Oogw5jAYephJ1qFMsdDY7RBIA5GG2jRlQW5riNTmOMRgtw6SiakdMgsshJEkBy+c5pT8qPjGJ9Q1YVQMsDyfhmI27xS7tWeMONmQvNU/cYhAzQhblZQs5jHVL6egoq/N0b/HRDDobA00GrP9MhYtE1XhakpTFYOREpPEEE2WGJ0F7UI29LQKTcJeghuBz1YSD0s72pXm03W0kQtuD4QzkvMFge5DvI4RHHtVYSYn41Xoq0nVUQ3BW7BtvEqP3icO1VlEtVYPZ3RLTMVUSupekOyh45JVW3JqsYSsc5J9QmXbysCzyKTsM0Q43fH+9WFCXjJalzHhMxz8SwNWWTvUevYpIqLj6BBahG6TEFwXDyrqYer1D6EWOkWyF7ni4/xqWUMZNVXIRvqQJioR59c5/8laVe0dSXNbE2lcxW6YC/Fpa2kz7dBlPnWNQooOKWgG4opYhUqcTyFWsQen+fQVd7RPmNSl8XiJ3an8X3NTwF/OP9VnqOMzxpS13x1zlxI14uF5XodQ9CX4jWRkXi81R7jlcNBVhW1TwwxNp5JdKiTnKf6mgl8xwmuTaaQtZoVX5Tg+6ewuLa5Qv5IeeXQuEFTzm7EfiuEVi5uME+tyP60pbMCCpWXWBBgcjRShal3K4AcrhcsOBwXTsT7ILa7M7n6i2ybmLwcvZCLqM1WOsRNGVcGmCCdENumOPWRc5RZRbxy2FfVCOqAjrjGjXxqIbiwHAWsRJqp9byCVtgZEuTQbSmFoavIUjLIEiKq0ORYBbcg23bnKLaKeqvdrVeY+5sfr64k42iGR9FZyhIntGOOIK6ZX0VXAOOqzRtgTZ2SP07tdEpeGgqtAiwS/nk7tFgW/jc3tJAgoZXf/hVgADewrBV76/fXAAAAAElFTkSuQmCC");background-position:center;background-size:cover;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}#playable-mraid .name-container{overflow:hidden;color:#000;text-overflow:ellipsis;font-size:17pt}#playable-mraid #mraid-iframe{position:absolute;top:0;left:0;width:100vw;height:100vh;border:none}#playable-mraid .close-region{position:absolute;top:0;right:0;z-index:9999;width:50px;height:50px;opacity:.4;display:none}#playable-mraid .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#playable-mraid .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#playable-mraid .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#playable-mraid .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#playable-mraid .circle-base,#playable-mraid .circle-left,#playable-mraid .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#playable-mraid .circle-base{border:4px solid #696969}#playable-mraid .circle-left,#playable-mraid .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#playable-mraid .progress-wrapper,#playable-mraid .circle-left,#playable-mraid .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:linear;animation-timing-function:linear}#playable-mraid .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;left:0;margin:0 0 0 .25rem}#playable-mraid .loading-screen{position:absolute;top:0;left:0;z-index:100;display:none;width:100vw;height:100vh;background-color:#fff;opacity:1;}#playable-mraid .loading-screen.hidden{-webkit-transition:opacity 200ms ease-out;transition:opacity 200ms ease-out;-webkit-transition-delay:1.5s;transition-delay:1.5s;opacity:0;pointer-events:none}#playable-mraid .loading-screen .container{position:absolute;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;margin:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-box-pack:center;-webkit-box-align:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;}#playable-mraid .loading-screen .container .user-text,#playable-mraid .loading-screen .container .game-icon,#playable-mraid .loading-screen .container .store-container,#playable-mraid .loading-screen .container .name-container,#playable-mraid .loading-screen .container .progress-bar{-ms-flex-item-align:center;align-self:center;margin:10px}#playable-mraid .loading-screen .container .user-text,#playable-mraid .loading-screen .container .name-container{text-align:center}#playable-mraid .loading-screen .user-text{color:#000;font-weight:300;font-size:14.5pt}#playable-mraid .loading-screen .progress-bar{overflow:hidden;width:60%;height:3pt;background-color:#e6e6e6;}#playable-mraid .loading-screen .progress-bar .filling{position:relative;left:0;display:block;width:18%;height:5pt;background-color:#167dfb;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-animation:progress-bar-dynamic 1s linear infinite;animation:progress-bar-dynamic 1s linear infinite;will-change:left}@media screen and (min-height:568px){.loading-screen .game-icon{width:96px;height:96px}}@media screen and (max-height:240px){.loading-screen .container > div{margin:3px}.loading-screen .name-container{font-size:12pt}.loading-screen .game-rating{font-size:10pt}.loading-screen .user-text{font-size:10.5pt}}@media screen and (min-height:768px) and (min-width:1024px),screen and (min-height:1024px) and (min-width:768px){.loading-screen .user-text{font-size:18.5pt}.loading-screen .game-icon{width:150px;height:150px}.loading-screen .progress-bar{width:48%}.loading-screen .game-rating{font-size:20pt}.loading-screen .name-container{font-size:30pt}.loading-screen .unityads-logo{bottom:20px;width:136px;height:32px}}@-webkit-keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@-webkit-keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@media (min-width:1025px){html{font-size:43.2px}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){html #mraid #mraid-iframe,html #playable-mraid #mraid-iframe{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #mraid .close-region,html #playable-mraid .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #mraid .privacy-button,html #playable-mraid .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #end-screen,html #vast-end-screen{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #end-screen .btn-close-region,html #vast-end-screen .btn-close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #end-screen .privacy-button,html #vast-end-screen .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #end-screen .unityads-logo{bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}html #privacy{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #display-interstitial .close-region,html #interstitial-overlay .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay,html #interstitial-overlay{position:absolute;top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #overlay .skip-hit-area,html #interstitial-overlay .skip-hit-area{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #overlay .progress,html #interstitial-overlay .progress{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay .mute-button,html #interstitial-overlay .mute-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #overlay .call-button,html #interstitial-overlay .call-button{right:constant(safe-area-inset-right);bottom:constant(safe-area-inset-bottom);right:env(safe-area-inset-right);bottom:env(safe-area-inset-bottom)}.slide-up{-webkit-transform:translateY(-250%);transform:translateY(-250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-down{-webkit-transform:translateY(250%);transform:translateY(250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}}@media (orientation:portrait) and (min-width:960px) and (max-width:1024px){html{font-size:40px}}@media (orientation:portrait) and (min-width:801px) and (max-width:959px){html{font-size:38.4px}}@media (orientation:portrait) and (min-width:769px) and (max-width:800px){html{font-size:35.2px}}@media (orientation:portrait) and (min-width:569px) and (max-width:768px){html{font-size:32px}}@media (orientation:portrait) and (min-width:481px) and (max-width:568px){html{font-size:22.4px}}@media (orientation:portrait) and (min-width:414px) and (max-width:480px){html{font-size:20.8px}}@media (orientation:portrait) and (min-width:360px) and (max-width:413px){html{font-size:19.2px}}@media (orientation:portrait) and (min-width:321px) and (max-width:359px){html{font-size:16px}}@media only screen and (orientation:portrait) and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){html{font-size:20px}}@media (orientation:landscape) and (min-width:960px) and (max-width:1024px){html{font-size:32px}}@media (orientation:landscape) and (min-width:569px) and (max-width:768px){html{font-size:20px}}@media only screen and (orientation:landscape) and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){html{font-size:20px}}#vpaid{width:100vw;height:100vh;}#vpaid #vpaid-iframe{margin:0;padding:0;width:100%;height:100%;border:none}#vpaid .companion-container{position:absolute;bottom:0;display:none;width:100vw;text-align:center}.loading-container{position:absolute;top:50%;left:50%;margin-right:-50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}.loading-container .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}.loading-container .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}#admob #admob-iframe{width:100vw;height:100vh;border:none}#vast-end-screen{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;}#vast-end-screen .campaign-container{width:100%;height:100%}#vast-end-screen .game-background{width:100%;height:100%;background-color:#000;background-position:center;background-size:contain;background-repeat:no-repeat}body.portrait #vast-end-screen .game-background-portrait{display:block}body.portrait #vast-end-screen .game-background-landscape{display:none}body.landscape #vast-end-screen .game-background-portrait{display:none}body.landscape #vast-end-screen .game-background-landscape{display:block}#vast-end-screen .btn-close-region{width:2.1875rem;font-size:1.25rem;line-height:2.1875rem;position:absolute;right:0;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;padding:.25rem}#vast-end-screen .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;margin:0 0 0 .25rem}</style>
  <script type="text/javascript">/*!
 * protobuf.js v6.8.0 (c) 2016, daniel wirtz
 * compiled fri, 09 jun 2017 21:00:38 utc
 * licensed under the bsd-3-clause license
 * see: https://github.com/dcodeio/protobuf.js for details
 */
(function(global,undefined){"use strict";(function prelude(modules, cache, entries) {

    // This is the prelude used to bundle protobuf.js for the browser. Wraps up the CommonJS
    // sources through a conflict-free require shim and is again wrapped within an iife that
    // provides a unified `global` and a minification-friendly `undefined` var plus a global
    // "use strict" directive so that minification can remove the directives of each module.

    function $require(name) {
        var $module = cache[name];
        if (!$module)
            modules[name][0].call($module = cache[name] = { exports: {} }, $require, $module, $module.exports);
        return $module.exports;
    }

    // Expose globally
    var protobuf = global.protobuf = $require(entries[0]);

    // Be nice to AMD
    if (typeof define === "function" && define.amd)
        define(["long"], function(Long) {
            if (Long && Long.isLong) {
                protobuf.util.Long = Long;
                protobuf.configure();
            }
            return protobuf;
        });

    // Be nice to CommonJS
    if (typeof module === "object" && module && module.exports)
        module.exports = protobuf;

})/* end of prelude */({1:[function(require,module,exports){
"use strict";
module.exports = asPromise;

/**
 * Callback as used by {@link util.asPromise}.
 * @typedef asPromiseCallback
 * @type {function}
 * @param {Error|null} error Error, if any
 * @param {...*} params Additional arguments
 * @returns {undefined}
 */

/**
 * Returns a promise from a node-style callback function.
 * @memberof util
 * @param {asPromiseCallback} fn Function to call
 * @param {*} ctx Function context
 * @param {...*} params Function arguments
 * @returns {Promise<*>} Promisified function
 */
function asPromise(fn, ctx/*, varargs */) {
    var params  = new Array(arguments.length - 1),
        offset  = 0,
        index   = 2,
        pending = true;
    while (index < arguments.length)
        params[offset++] = arguments[index++];
    return new Promise(function executor(resolve, reject) {
        params[offset] = function callback(err/*, varargs */) {
            if (pending) {
                pending = false;
                if (err)
                    reject(err);
                else {
                    var params = new Array(arguments.length - 1),
                        offset = 0;
                    while (offset < params.length)
                        params[offset++] = arguments[offset];
                    resolve.apply(null, params);
                }
            }
        };
        try {
            fn.apply(ctx || null, params);
        } catch (err) {
            if (pending) {
                pending = false;
                reject(err);
            }
        }
    });
}

},{}],2:[function(require,module,exports){
"use strict";

/**
 * A minimal base64 implementation for number arrays.
 * @memberof util
 * @namespace
 */
var base64 = exports;

/**
 * Calculates the byte length of a base64 encoded string.
 * @param {string} string Base64 encoded string
 * @returns {number} Byte length
 */
base64.length = function length(string) {
    var p = string.length;
    if (!p)
        return 0;
    var n = 0;
    while (--p % 4 > 1 && string.charAt(p) === "=")
        ++n;
    return Math.ceil(string.length * 3) / 4 - n;
};

// Base64 encoding table
var b64 = new Array(64);

// Base64 decoding table
var s64 = new Array(123);

// 65..90, 97..122, 48..57, 43, 47
for (var i = 0; i < 64;)
    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;

/**
 * Encodes a buffer to a base64 encoded string.
 * @param {Uint8Array} buffer Source buffer
 * @param {number} start Source start
 * @param {number} end Source end
 * @returns {string} Base64 encoded string
 */
base64.encode = function encode(buffer, start, end) {
    var parts = null,
        chunk = [];
    var i = 0, // output index
        j = 0, // goto index
        t;     // temporary
    while (start < end) {
        var b = buffer[start++];
        switch (j) {
            case 0:
                chunk[i++] = b64[b >> 2];
                t = (b & 3) << 4;
                j = 1;
                break;
            case 1:
                chunk[i++] = b64[t | b >> 4];
                t = (b & 15) << 2;
                j = 2;
                break;
            case 2:
                chunk[i++] = b64[t | b >> 6];
                chunk[i++] = b64[b & 63];
                j = 0;
                break;
        }
        if (i > 8191) {
            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
            i = 0;
        }
    }
    if (j) {
        chunk[i++] = b64[t];
        chunk[i++] = 61;
        if (j === 1)
            chunk[i++] = 61;
    }
    if (parts) {
        if (i)
            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
        return parts.join("");
    }
    return String.fromCharCode.apply(String, chunk.slice(0, i));
};

var invalidEncoding = "invalid encoding";

/**
 * Decodes a base64 encoded string to a buffer.
 * @param {string} string Source string
 * @param {Uint8Array} buffer Destination buffer
 * @param {number} offset Destination offset
 * @returns {number} Number of bytes written
 * @throws {Error} If encoding is invalid
 */
base64.decode = function decode(string, buffer, offset) {
    var start = offset;
    var j = 0, // goto index
        t;     // temporary
    for (var i = 0; i < string.length;) {
        var c = string.charCodeAt(i++);
        if (c === 61 && j > 1)
            break;
        if ((c = s64[c]) === undefined)
            throw Error(invalidEncoding);
        switch (j) {
            case 0:
                t = c;
                j = 1;
                break;
            case 1:
                buffer[offset++] = t << 2 | (c & 48) >> 4;
                t = c;
                j = 2;
                break;
            case 2:
                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;
                t = c;
                j = 3;
                break;
            case 3:
                buffer[offset++] = (t & 3) << 6 | c;
                j = 0;
                break;
        }
    }
    if (j === 1)
        throw Error(invalidEncoding);
    return offset - start;
};

/**
 * Tests if the specified string appears to be base64 encoded.
 * @param {string} string String to test
 * @returns {boolean} `true` if probably base64 encoded, otherwise false
 */
base64.test = function test(string) {
    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
};

},{}],3:[function(require,module,exports){
"use strict";
module.exports = EventEmitter;

/**
 * Constructs a new event emitter instance.
 * @classdesc A minimal event emitter.
 * @memberof util
 * @constructor
 */
function EventEmitter() {

    /**
     * Registered listeners.
     * @type {Object.<string,*>}
     * @private
     */
    this._listeners = {};
}

/**
 * Registers an event listener.
 * @param {string} evt Event name
 * @param {function} fn Listener
 * @param {*} [ctx] Listener context
 * @returns {util.EventEmitter} `this`
 */
EventEmitter.prototype.on = function on(evt, fn, ctx) {
    (this._listeners[evt] || (this._listeners[evt] = [])).push({
        fn  : fn,
        ctx : ctx || this
    });
    return this;
};

/**
 * Removes an event listener or any matching listeners if arguments are omitted.
 * @param {string} [evt] Event name. Removes all listeners if omitted.
 * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.
 * @returns {util.EventEmitter} `this`
 */
EventEmitter.prototype.off = function off(evt, fn) {
    if (evt === undefined)
        this._listeners = {};
    else {
        if (fn === undefined)
            this._listeners[evt] = [];
        else {
            var listeners = this._listeners[evt];
            for (var i = 0; i < listeners.length;)
                if (listeners[i].fn === fn)
                    listeners.splice(i, 1);
                else
                    ++i;
        }
    }
    return this;
};

/**
 * Emits an event by calling its listeners with the specified arguments.
 * @param {string} evt Event name
 * @param {...*} args Arguments
 * @returns {util.EventEmitter} `this`
 */
EventEmitter.prototype.emit = function emit(evt) {
    var listeners = this._listeners[evt];
    if (listeners) {
        var args = [],
            i = 1;
        for (; i < arguments.length;)
            args.push(arguments[i++]);
        for (i = 0; i < listeners.length;)
            listeners[i].fn.apply(listeners[i++].ctx, args);
    }
    return this;
};

},{}],4:[function(require,module,exports){
"use strict";

module.exports = factory(factory);

/**
 * Reads / writes floats / doubles from / to buffers.
 * @name util.float
 * @namespace
 */

/**
 * Writes a 32 bit float to a buffer using little endian byte order.
 * @name util.float.writeFloatLE
 * @function
 * @param {number} val Value to write
 * @param {Uint8Array} buf Target buffer
 * @param {number} pos Target buffer offset
 * @returns {undefined}
 */

/**
 * Writes a 32 bit float to a buffer using big endian byte order.
 * @name util.float.writeFloatBE
 * @function
 * @param {number} val Value to write
 * @param {Uint8Array} buf Target buffer
 * @param {number} pos Target buffer offset
 * @returns {undefined}
 */

/**
 * Reads a 32 bit float from a buffer using little endian byte order.
 * @name util.float.readFloatLE
 * @function
 * @param {Uint8Array} buf Source buffer
 * @param {number} pos Source buffer offset
 * @returns {number} Value read
 */

/**
 * Reads a 32 bit float from a buffer using big endian byte order.
 * @name util.float.readFloatBE
 * @function
 * @param {Uint8Array} buf Source buffer
 * @param {number} pos Source buffer offset
 * @returns {number} Value read
 */

/**
 * Writes a 64 bit double to a buffer using little endian byte order.
 * @name util.float.writeDoubleLE
 * @function
 * @param {number} val Value to write
 * @param {Uint8Array} buf Target buffer
 * @param {number} pos Target buffer offset
 * @returns {undefined}
 */

/**
 * Writes a 64 bit double to a buffer using big endian byte order.
 * @name util.float.writeDoubleBE
 * @function
 * @param {number} val Value to write
 * @param {Uint8Array} buf Target buffer
 * @param {number} pos Target buffer offset
 * @returns {undefined}
 */

/**
 * Reads a 64 bit double from a buffer using little endian byte order.
 * @name util.float.readDoubleLE
 * @function
 * @param {Uint8Array} buf Source buffer
 * @param {number} pos Source buffer offset
 * @returns {number} Value read
 */

/**
 * Reads a 64 bit double from a buffer using big endian byte order.
 * @name util.float.readDoubleBE
 * @function
 * @param {Uint8Array} buf Source buffer
 * @param {number} pos Source buffer offset
 * @returns {number} Value read
 */

// Factory function for the purpose of node-based testing in modified global environments
function factory(exports) {

    // float: typed array
    if (typeof Float32Array !== "undefined") (function() {

        var f32 = new Float32Array([ -0 ]),
            f8b = new Uint8Array(f32.buffer),
            le  = f8b[3] === 128;

        function writeFloat_f32_cpy(val, buf, pos) {
            f32[0] = val;
            buf[pos    ] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
        }

        function writeFloat_f32_rev(val, buf, pos) {
            f32[0] = val;
            buf[pos    ] = f8b[3];
            buf[pos + 1] = f8b[2];
            buf[pos + 2] = f8b[1];
            buf[pos + 3] = f8b[0];
        }

        /* istanbul ignore next */
        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
        /* istanbul ignore next */
        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;

        function readFloat_f32_cpy(buf, pos) {
            f8b[0] = buf[pos    ];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            return f32[0];
        }

        function readFloat_f32_rev(buf, pos) {
            f8b[3] = buf[pos    ];
            f8b[2] = buf[pos + 1];
            f8b[1] = buf[pos + 2];
            f8b[0] = buf[pos + 3];
            return f32[0];
        }

        /* istanbul ignore next */
        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
        /* istanbul ignore next */
        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;

    // float: ieee754
    })(); else (function() {

        function writeFloat_ieee754(writeUint, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
                val = -val;
            if (val === 0)
                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);
            else if (isNaN(val))
                writeUint(2143289344, buf, pos);
            else if (val > 3.4028234663852886e+38) // +-Infinity
                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);
            else if (val < 1.1754943508222875e-38) // denormal
                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);
            else {
                var exponent = Math.floor(Math.log(val) / Math.LN2),
                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);
            }
        }

        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);

        function readFloat_ieee754(readUint, buf, pos) {
            var uint = readUint(buf, pos),
                sign = (uint >> 31) * 2 + 1,
                exponent = uint >>> 23 & 255,
                mantissa = uint & 8388607;
            return exponent === 255
                ? mantissa
                ? NaN
                : sign * Infinity
                : exponent === 0 // denormal
                ? sign * 1.401298464324817e-45 * mantissa
                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
        }

        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);

    })();

    // double: typed array
    if (typeof Float64Array !== "undefined") (function() {

        var f64 = new Float64Array([-0]),
            f8b = new Uint8Array(f64.buffer),
            le  = f8b[7] === 128;

        function writeDouble_f64_cpy(val, buf, pos) {
            f64[0] = val;
            buf[pos    ] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
            buf[pos + 4] = f8b[4];
            buf[pos + 5] = f8b[5];
            buf[pos + 6] = f8b[6];
            buf[pos + 7] = f8b[7];
        }

        function writeDouble_f64_rev(val, buf, pos) {
            f64[0] = val;
            buf[pos    ] = f8b[7];
            buf[pos + 1] = f8b[6];
            buf[pos + 2] = f8b[5];
            buf[pos + 3] = f8b[4];
            buf[pos + 4] = f8b[3];
            buf[pos + 5] = f8b[2];
            buf[pos + 6] = f8b[1];
            buf[pos + 7] = f8b[0];
        }

        /* istanbul ignore next */
        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
        /* istanbul ignore next */
        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;

        function readDouble_f64_cpy(buf, pos) {
            f8b[0] = buf[pos    ];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            f8b[4] = buf[pos + 4];
            f8b[5] = buf[pos + 5];
            f8b[6] = buf[pos + 6];
            f8b[7] = buf[pos + 7];
            return f64[0];
        }

        function readDouble_f64_rev(buf, pos) {
            f8b[7] = buf[pos    ];
            f8b[6] = buf[pos + 1];
            f8b[5] = buf[pos + 2];
            f8b[4] = buf[pos + 3];
            f8b[3] = buf[pos + 4];
            f8b[2] = buf[pos + 5];
            f8b[1] = buf[pos + 6];
            f8b[0] = buf[pos + 7];
            return f64[0];
        }

        /* istanbul ignore next */
        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
        /* istanbul ignore next */
        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;

    // double: ieee754
    })(); else (function() {

        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
                val = -val;
            if (val === 0) {
                writeUint(0, buf, pos + off0);
                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);
            } else if (isNaN(val)) {
                writeUint(0, buf, pos + off0);
                writeUint(2146959360, buf, pos + off1);
            } else if (val > 1.7976931348623157e+308) { // +-Infinity
                writeUint(0, buf, pos + off0);
                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);
            } else {
                var mantissa;
                if (val < 2.2250738585072014e-308) { // denormal
                    mantissa = val / 5e-324;
                    writeUint(mantissa >>> 0, buf, pos + off0);
                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);
                } else {
                    var exponent = Math.floor(Math.log(val) / Math.LN2);
                    if (exponent === 1024)
                        exponent = 1023;
                    mantissa = val * Math.pow(2, -exponent);
                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);
                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);
                }
            }
        }

        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);

        function readDouble_ieee754(readUint, off0, off1, buf, pos) {
            var lo = readUint(buf, pos + off0),
                hi = readUint(buf, pos + off1);
            var sign = (hi >> 31) * 2 + 1,
                exponent = hi >>> 20 & 2047,
                mantissa = 4294967296 * (hi & 1048575) + lo;
            return exponent === 2047
                ? mantissa
                ? NaN
                : sign * Infinity
                : exponent === 0 // denormal
                ? sign * 5e-324 * mantissa
                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
        }

        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);

    })();

    return exports;
}

// uint helpers

function writeUintLE(val, buf, pos) {
    buf[pos    ] =  val        & 255;
    buf[pos + 1] =  val >>> 8  & 255;
    buf[pos + 2] =  val >>> 16 & 255;
    buf[pos + 3] =  val >>> 24;
}

function writeUintBE(val, buf, pos) {
    buf[pos    ] =  val >>> 24;
    buf[pos + 1] =  val >>> 16 & 255;
    buf[pos + 2] =  val >>> 8  & 255;
    buf[pos + 3] =  val        & 255;
}

function readUintLE(buf, pos) {
    return (buf[pos    ]
          | buf[pos + 1] << 8
          | buf[pos + 2] << 16
          | buf[pos + 3] << 24) >>> 0;
}

function readUintBE(buf, pos) {
    return (buf[pos    ] << 24
          | buf[pos + 1] << 16
          | buf[pos + 2] << 8
          | buf[pos + 3]) >>> 0;
}

},{}],5:[function(require,module,exports){
"use strict";
module.exports = inquire;

/**
 * Requires a module only if available.
 * @memberof util
 * @param {string} moduleName Module to require
 * @returns {?Object} Required module if available and not empty, otherwise `null`
 */
function inquire(moduleName) {
    try {
        var mod = eval("quire".replace(/^/,"re"))(moduleName); // eslint-disable-line no-eval
        if (mod && (mod.length || Object.keys(mod).length))
            return mod;
    } catch (e) {} // eslint-disable-line no-empty
    return null;
}

},{}],6:[function(require,module,exports){
"use strict";
module.exports = pool;

/**
 * An allocator as used by {@link util.pool}.
 * @typedef PoolAllocator
 * @type {function}
 * @param {number} size Buffer size
 * @returns {Uint8Array} Buffer
 */

/**
 * A slicer as used by {@link util.pool}.
 * @typedef PoolSlicer
 * @type {function}
 * @param {number} start Start offset
 * @param {number} end End offset
 * @returns {Uint8Array} Buffer slice
 * @this {Uint8Array}
 */

/**
 * A general purpose buffer pool.
 * @memberof util
 * @function
 * @param {PoolAllocator} alloc Allocator
 * @param {PoolSlicer} slice Slicer
 * @param {number} [size=8192] Slab size
 * @returns {PoolAllocator} Pooled allocator
 */
function pool(alloc, slice, size) {
    var SIZE   = size || 8192;
    var MAX    = SIZE >>> 1;
    var slab   = null;
    var offset = SIZE;
    return function pool_alloc(size) {
        if (size < 1 || size > MAX)
            return alloc(size);
        if (offset + size > SIZE) {
            slab = alloc(SIZE);
            offset = 0;
        }
        var buf = slice.call(slab, offset, offset += size);
        if (offset & 7) // align to 32 bit
            offset = (offset | 7) + 1;
        return buf;
    };
}

},{}],7:[function(require,module,exports){
"use strict";

/**
 * A minimal UTF8 implementation for number arrays.
 * @memberof util
 * @namespace
 */
var utf8 = exports;

/**
 * Calculates the UTF8 byte length of a string.
 * @param {string} string String
 * @returns {number} Byte length
 */
utf8.length = function utf8_length(string) {
    var len = 0,
        c = 0;
    for (var i = 0; i < string.length; ++i) {
        c = string.charCodeAt(i);
        if (c < 128)
            len += 1;
        else if (c < 2048)
            len += 2;
        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {
            ++i;
            len += 4;
        } else
            len += 3;
    }
    return len;
};

/**
 * Reads UTF8 bytes as a string.
 * @param {Uint8Array} buffer Source buffer
 * @param {number} start Source start
 * @param {number} end Source end
 * @returns {string} String read
 */
utf8.read = function utf8_read(buffer, start, end) {
    var len = end - start;
    if (len < 1)
        return "";
    var parts = null,
        chunk = [],
        i = 0, // char offset
        t;     // temporary
    while (start < end) {
        t = buffer[start++];
        if (t < 128)
            chunk[i++] = t;
        else if (t > 191 && t < 224)
            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;
        else if (t > 239 && t < 365) {
            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;
            chunk[i++] = 0xD800 + (t >> 10);
            chunk[i++] = 0xDC00 + (t & 1023);
        } else
            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;
        if (i > 8191) {
            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
            i = 0;
        }
    }
    if (parts) {
        if (i)
            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
        return parts.join("");
    }
    return String.fromCharCode.apply(String, chunk.slice(0, i));
};

/**
 * Writes a string as UTF8 bytes.
 * @param {string} string Source string
 * @param {Uint8Array} buffer Destination buffer
 * @param {number} offset Destination offset
 * @returns {number} Bytes written
 */
utf8.write = function utf8_write(string, buffer, offset) {
    var start = offset,
        c1, // character 1
        c2; // character 2
    for (var i = 0; i < string.length; ++i) {
        c1 = string.charCodeAt(i);
        if (c1 < 128) {
            buffer[offset++] = c1;
        } else if (c1 < 2048) {
            buffer[offset++] = c1 >> 6       | 192;
            buffer[offset++] = c1       & 63 | 128;
        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {
            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);
            ++i;
            buffer[offset++] = c1 >> 18      | 240;
            buffer[offset++] = c1 >> 12 & 63 | 128;
            buffer[offset++] = c1 >> 6  & 63 | 128;
            buffer[offset++] = c1       & 63 | 128;
        } else {
            buffer[offset++] = c1 >> 12      | 224;
            buffer[offset++] = c1 >> 6  & 63 | 128;
            buffer[offset++] = c1       & 63 | 128;
        }
    }
    return offset - start;
};

},{}],8:[function(require,module,exports){
"use strict";
var protobuf = exports;

/**
 * Build type, one of `"full"`, `"light"` or `"minimal"`.
 * @name build
 * @type {string}
 * @const
 */
protobuf.build = "minimal";

// Serialization
protobuf.Writer       = require(16);
protobuf.BufferWriter = require(17);
protobuf.Reader       = require(9);
protobuf.BufferReader = require(10);

// Utility
protobuf.util         = require(15);
protobuf.rpc          = require(12);
protobuf.roots        = require(11);
protobuf.configure    = configure;

/* istanbul ignore next */
/**
 * Reconfigures the library according to the environment.
 * @returns {undefined}
 */
function configure() {
    protobuf.Reader._configure(protobuf.BufferReader);
    protobuf.util._configure();
}

// Configure serialization
protobuf.Writer._configure(protobuf.BufferWriter);
configure();

},{"10":10,"11":11,"12":12,"15":15,"16":16,"17":17,"9":9}],9:[function(require,module,exports){
"use strict";
module.exports = Reader;

var util      = require(15);

var BufferReader; // cyclic

var LongBits  = util.LongBits,
    utf8      = util.utf8;

/* istanbul ignore next */
function indexOutOfRange(reader, writeLength) {
    return RangeError("index out of range: " + reader.pos + " + " + (writeLength || 1) + " > " + reader.len);
}

/**
 * Constructs a new reader instance using the specified buffer.
 * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.
 * @constructor
 * @param {Uint8Array} buffer Buffer to read from
 */
function Reader(buffer) {

    /**
     * Read buffer.
     * @type {Uint8Array}
     */
    this.buf = buffer;

    /**
     * Read buffer position.
     * @type {number}
     */
    this.pos = 0;

    /**
     * Read buffer length.
     * @type {number}
     */
    this.len = buffer.length;
}

var create_array = typeof Uint8Array !== "undefined"
    ? function create_typed_array(buffer) {
        if (buffer instanceof Uint8Array || Array.isArray(buffer))
            return new Reader(buffer);
        throw Error("illegal buffer");
    }
    /* istanbul ignore next */
    : function create_array(buffer) {
        if (Array.isArray(buffer))
            return new Reader(buffer);
        throw Error("illegal buffer");
    };

/**
 * Creates a new reader using the specified buffer.
 * @function
 * @param {Uint8Array|Buffer} buffer Buffer to read from
 * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}
 * @throws {Error} If `buffer` is not a valid buffer
 */
Reader.create = util.Buffer
    ? function create_buffer_setup(buffer) {
        return (Reader.create = function create_buffer(buffer) {
            return util.Buffer.isBuffer(buffer)
                ? new BufferReader(buffer)
                /* istanbul ignore next */
                : create_array(buffer);
        })(buffer);
    }
    /* istanbul ignore next */
    : create_array;

Reader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;

/**
 * Reads a varint as an unsigned 32 bit value.
 * @function
 * @returns {number} Value read
 */
Reader.prototype.uint32 = (function read_uint32_setup() {
    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)
    return function read_uint32() {
        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;
        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;
        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;
        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;
        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;

        /* istanbul ignore if */
        if ((this.pos += 5) > this.len) {
            this.pos = this.len;
            throw indexOutOfRange(this, 10);
        }
        return value;
    };
})();

/**
 * Reads a varint as a signed 32 bit value.
 * @returns {number} Value read
 */
Reader.prototype.int32 = function read_int32() {
    return this.uint32() | 0;
};

/**
 * Reads a zig-zag encoded varint as a signed 32 bit value.
 * @returns {number} Value read
 */
Reader.prototype.sint32 = function read_sint32() {
    var value = this.uint32();
    return value >>> 1 ^ -(value & 1) | 0;
};

/* eslint-disable no-invalid-this */

function readLongVarint() {
    // tends to deopt with local vars for octet etc.
    var bits = new LongBits(0, 0);
    var i = 0;
    if (this.len - this.pos > 4) { // fast route (lo)
        for (; i < 4; ++i) {
            // 1st..4th
            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
            if (this.buf[this.pos++] < 128)
                return bits;
        }
        // 5th
        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;
        if (this.buf[this.pos++] < 128)
            return bits;
        i = 0;
    } else {
        for (; i < 3; ++i) {
            /* istanbul ignore if */
            if (this.pos >= this.len)
                throw indexOutOfRange(this);
            // 1st..3th
            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
            if (this.buf[this.pos++] < 128)
                return bits;
        }
        // 4th
        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;
        return bits;
    }
    if (this.len - this.pos > 4) { // fast route (hi)
        for (; i < 5; ++i) {
            // 6th..10th
            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
            if (this.buf[this.pos++] < 128)
                return bits;
        }
    } else {
        for (; i < 5; ++i) {
            /* istanbul ignore if */
            if (this.pos >= this.len)
                throw indexOutOfRange(this);
            // 6th..10th
            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
            if (this.buf[this.pos++] < 128)
                return bits;
        }
    }
    /* istanbul ignore next */
    throw Error("invalid varint encoding");
}

/* eslint-enable no-invalid-this */

/**
 * Reads a varint as a signed 64 bit value.
 * @name Reader#int64
 * @function
 * @returns {Long} Value read
 */

/**
 * Reads a varint as an unsigned 64 bit value.
 * @name Reader#uint64
 * @function
 * @returns {Long} Value read
 */

/**
 * Reads a zig-zag encoded varint as a signed 64 bit value.
 * @name Reader#sint64
 * @function
 * @returns {Long} Value read
 */

/**
 * Reads a varint as a boolean.
 * @returns {boolean} Value read
 */
Reader.prototype.bool = function read_bool() {
    return this.uint32() !== 0;
};

function readFixed32_end(buf, end) { // note that this uses `end`, not `pos`
    return (buf[end - 4]
          | buf[end - 3] << 8
          | buf[end - 2] << 16
          | buf[end - 1] << 24) >>> 0;
}

/**
 * Reads fixed 32 bits as an unsigned 32 bit integer.
 * @returns {number} Value read
 */
Reader.prototype.fixed32 = function read_fixed32() {

    /* istanbul ignore if */
    if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);

    return readFixed32_end(this.buf, this.pos += 4);
};

/**
 * Reads fixed 32 bits as a signed 32 bit integer.
 * @returns {number} Value read
 */
Reader.prototype.sfixed32 = function read_sfixed32() {

    /* istanbul ignore if */
    if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);

    return readFixed32_end(this.buf, this.pos += 4) | 0;
};

/* eslint-disable no-invalid-this */

function readFixed64(/* this: Reader */) {

    /* istanbul ignore if */
    if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 8);

    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));
}

/* eslint-enable no-invalid-this */

/**
 * Reads fixed 64 bits.
 * @name Reader#fixed64
 * @function
 * @returns {Long} Value read
 */

/**
 * Reads zig-zag encoded fixed 64 bits.
 * @name Reader#sfixed64
 * @function
 * @returns {Long} Value read
 */

/**
 * Reads a float (32 bit) as a number.
 * @function
 * @returns {number} Value read
 */
Reader.prototype.float = function read_float() {

    /* istanbul ignore if */
    if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);

    var value = util.float.readFloatLE(this.buf, this.pos);
    this.pos += 4;
    return value;
};

/**
 * Reads a double (64 bit float) as a number.
 * @function
 * @returns {number} Value read
 */
Reader.prototype.double = function read_double() {

    /* istanbul ignore if */
    if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 4);

    var value = util.float.readDoubleLE(this.buf, this.pos);
    this.pos += 8;
    return value;
};

/**
 * Reads a sequence of bytes preceeded by its length as a varint.
 * @returns {Uint8Array} Value read
 */
Reader.prototype.bytes = function read_bytes() {
    var length = this.uint32(),
        start  = this.pos,
        end    = this.pos + length;

    /* istanbul ignore if */
    if (end > this.len)
        throw indexOutOfRange(this, length);

    this.pos += length;
    if (Array.isArray(this.buf)) // plain array
        return this.buf.slice(start, end);
    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1
        ? new this.buf.constructor(0)
        : this._slice.call(this.buf, start, end);
};

/**
 * Reads a string preceeded by its byte length as a varint.
 * @returns {string} Value read
 */
Reader.prototype.string = function read_string() {
    var bytes = this.bytes();
    return utf8.read(bytes, 0, bytes.length);
};

/**
 * Skips the specified number of bytes if specified, otherwise skips a varint.
 * @param {number} [length] Length if known, otherwise a varint is assumed
 * @returns {Reader} `this`
 */
Reader.prototype.skip = function skip(length) {
    if (typeof length === "number") {
        /* istanbul ignore if */
        if (this.pos + length > this.len)
            throw indexOutOfRange(this, length);
        this.pos += length;
    } else {
        do {
            /* istanbul ignore if */
            if (this.pos >= this.len)
                throw indexOutOfRange(this);
        } while (this.buf[this.pos++] & 128);
    }
    return this;
};

/**
 * Skips the next element of the specified wire type.
 * @param {number} wireType Wire type received
 * @returns {Reader} `this`
 */
Reader.prototype.skipType = function(wireType) {
    switch (wireType) {
        case 0:
            this.skip();
            break;
        case 1:
            this.skip(8);
            break;
        case 2:
            this.skip(this.uint32());
            break;
        case 3:
            do { // eslint-disable-line no-constant-condition
                if ((wireType = this.uint32() & 7) === 4)
                    break;
                this.skipType(wireType);
            } while (true);
            break;
        case 5:
            this.skip(4);
            break;

        /* istanbul ignore next */
        default:
            throw Error("invalid wire type " + wireType + " at offset " + this.pos);
    }
    return this;
};

Reader._configure = function(BufferReader_) {
    BufferReader = BufferReader_;

    var fn = util.Long ? "toLong" : /* istanbul ignore next */ "toNumber";
    util.merge(Reader.prototype, {

        int64: function read_int64() {
            return readLongVarint.call(this)[fn](false);
        },

        uint64: function read_uint64() {
            return readLongVarint.call(this)[fn](true);
        },

        sint64: function read_sint64() {
            return readLongVarint.call(this).zzDecode()[fn](false);
        },

        fixed64: function read_fixed64() {
            return readFixed64.call(this)[fn](true);
        },

        sfixed64: function read_sfixed64() {
            return readFixed64.call(this)[fn](false);
        }

    });
};

},{"15":15}],10:[function(require,module,exports){
"use strict";
module.exports = BufferReader;

// extends Reader
var Reader = require(9);
(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;

var util = require(15);

/**
 * Constructs a new buffer reader instance.
 * @classdesc Wire format reader using node buffers.
 * @extends Reader
 * @constructor
 * @param {Buffer} buffer Buffer to read from
 */
function BufferReader(buffer) {
    Reader.call(this, buffer);

    /**
     * Read buffer.
     * @name BufferReader#buf
     * @type {Buffer}
     */
}

/* istanbul ignore else */
if (util.Buffer)
    BufferReader.prototype._slice = util.Buffer.prototype.slice;

/**
 * @override
 */
BufferReader.prototype.string = function read_string_buffer() {
    var len = this.uint32(); // modifies pos
    return this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len));
};

/**
 * Reads a sequence of bytes preceeded by its length as a varint.
 * @name BufferReader#bytes
 * @function
 * @returns {Buffer} Value read
 */

},{"15":15,"9":9}],11:[function(require,module,exports){
"use strict";
module.exports = {};

/**
 * Named roots.
 * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).
 * Can also be used manually to make roots available accross modules.
 * @name roots
 * @type {Object.<string,Root>}
 * @example
 * // pbjs -r myroot -o compiled.js ...
 *
 * // in another module:
 * require("./compiled.js");
 *
 * // in any subsequent module:
 * var root = protobuf.roots["myroot"];
 */

},{}],12:[function(require,module,exports){
"use strict";

/**
 * Streaming RPC helpers.
 * @namespace
 */
var rpc = exports;

/**
 * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.
 * @typedef RPCImpl
 * @type {function}
 * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called
 * @param {Uint8Array} requestData Request data
 * @param {RPCImplCallback} callback Callback function
 * @returns {undefined}
 * @example
 * function rpcImpl(method, requestData, callback) {
 *     if (protobuf.util.lcFirst(method.name) !== "myMethod") // compatible with static code
 *         throw Error("no such method");
 *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {
 *         callback(err, responseData);
 *     });
 * }
 */

/**
 * Node-style callback as used by {@link RPCImpl}.
 * @typedef RPCImplCallback
 * @type {function}
 * @param {Error|null} error Error, if any, otherwise `null`
 * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error
 * @returns {undefined}
 */

rpc.Service = require(13);

},{"13":13}],13:[function(require,module,exports){
"use strict";
module.exports = Service;

var util = require(15);

// Extends EventEmitter
(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;

/**
 * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.
 *
 * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.
 * @typedef rpc.ServiceMethodCallback
 * @template TRes extends Message<TRes>
 * @type {function}
 * @param {Error|null} error Error, if any
 * @param {TRes} [response] Response message
 * @returns {undefined}
 */

/**
 * A service method part of a {@link rpc.Service} as created by {@link Service.create}.
 * @typedef rpc.ServiceMethod
 * @template TReq extends Message<TReq>
 * @template TRes extends Message<TRes>
 * @type {function}
 * @param {TReq|Properties<TReq>} request Request message or plain object
 * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message
 * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`
 */

/**
 * Constructs a new RPC service instance.
 * @classdesc An RPC service as returned by {@link Service#create}.
 * @exports rpc.Service
 * @extends util.EventEmitter
 * @constructor
 * @param {RPCImpl} rpcImpl RPC implementation
 * @param {boolean} [requestDelimited=false] Whether requests are length-delimited
 * @param {boolean} [responseDelimited=false] Whether responses are length-delimited
 */
function Service(rpcImpl, requestDelimited, responseDelimited) {

    if (typeof rpcImpl !== "function")
        throw TypeError("rpcImpl must be a function");

    util.EventEmitter.call(this);

    /**
     * RPC implementation. Becomes `null` once the service is ended.
     * @type {RPCImpl|null}
     */
    this.rpcImpl = rpcImpl;

    /**
     * Whether requests are length-delimited.
     * @type {boolean}
     */
    this.requestDelimited = Boolean(requestDelimited);

    /**
     * Whether responses are length-delimited.
     * @type {boolean}
     */
    this.responseDelimited = Boolean(responseDelimited);
}

/**
 * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.
 * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method
 * @param {Constructor<TReq>} requestCtor Request constructor
 * @param {Constructor<TRes>} responseCtor Response constructor
 * @param {TReq|Properties<TReq>} request Request message or plain object
 * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback
 * @returns {undefined}
 * @template TReq extends Message<TReq>
 * @template TRes extends Message<TRes>
 */
Service.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {

    if (!request)
        throw TypeError("request must be specified");

    var self = this;
    if (!callback)
        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);

    if (!self.rpcImpl) {
        setTimeout(function() { callback(Error("already ended")); }, 0);
        return undefined;
    }

    try {
        return self.rpcImpl(
            method,
            requestCtor[self.requestDelimited ? "encodeDelimited" : "encode"](request).finish(),
            function rpcCallback(err, response) {

                if (err) {
                    self.emit("error", err, method);
                    return callback(err);
                }

                if (response === null) {
                    self.end(/* endedByRPC */ true);
                    return undefined;
                }

                if (!(response instanceof responseCtor)) {
                    try {
                        response = responseCtor[self.responseDelimited ? "decodeDelimited" : "decode"](response);
                    } catch (err) {
                        self.emit("error", err, method);
                        return callback(err);
                    }
                }

                self.emit("data", response, method);
                return callback(null, response);
            }
        );
    } catch (err) {
        self.emit("error", err, method);
        setTimeout(function() { callback(err); }, 0);
        return undefined;
    }
};

/**
 * Ends this service and emits the `end` event.
 * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.
 * @returns {rpc.Service} `this`
 */
Service.prototype.end = function end(endedByRPC) {
    if (this.rpcImpl) {
        if (!endedByRPC) // signal end to rpcImpl
            this.rpcImpl(null, null, null);
        this.rpcImpl = null;
        this.emit("end").off();
    }
    return this;
};

},{"15":15}],14:[function(require,module,exports){
"use strict";
module.exports = LongBits;

var util = require(15);

/**
 * Constructs new long bits.
 * @classdesc Helper class for working with the low and high bits of a 64 bit value.
 * @memberof util
 * @constructor
 * @param {number} lo Low 32 bits, unsigned
 * @param {number} hi High 32 bits, unsigned
 */
function LongBits(lo, hi) {

    // note that the casts below are theoretically unnecessary as of today, but older statically
    // generated converter code might still call the ctor with signed 32bits. kept for compat.

    /**
     * Low bits.
     * @type {number}
     */
    this.lo = lo >>> 0;

    /**
     * High bits.
     * @type {number}
     */
    this.hi = hi >>> 0;
}

/**
 * Zero bits.
 * @memberof util.LongBits
 * @type {util.LongBits}
 */
var zero = LongBits.zero = new LongBits(0, 0);

zero.toNumber = function() { return 0; };
zero.zzEncode = zero.zzDecode = function() { return this; };
zero.length = function() { return 1; };

/**
 * Zero hash.
 * @memberof util.LongBits
 * @type {string}
 */
var zeroHash = LongBits.zeroHash = "\0\0\0\0\0\0\0\0";

/**
 * Constructs new long bits from the specified number.
 * @param {number} value Value
 * @returns {util.LongBits} Instance
 */
LongBits.fromNumber = function fromNumber(value) {
    if (value === 0)
        return zero;
    var sign = value < 0;
    if (sign)
        value = -value;
    var lo = value >>> 0,
        hi = (value - lo) / 4294967296 >>> 0;
    if (sign) {
        hi = ~hi >>> 0;
        lo = ~lo >>> 0;
        if (++lo > 4294967295) {
            lo = 0;
            if (++hi > 4294967295)
                hi = 0;
        }
    }
    return new LongBits(lo, hi);
};

/**
 * Constructs new long bits from a number, long or string.
 * @param {Long|number|string} value Value
 * @returns {util.LongBits} Instance
 */
LongBits.from = function from(value) {
    if (typeof value === "number")
        return LongBits.fromNumber(value);
    if (util.isString(value)) {
        /* istanbul ignore else */
        if (util.Long)
            value = util.Long.fromString(value);
        else
            return LongBits.fromNumber(parseInt(value, 10));
    }
    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;
};

/**
 * Converts this long bits to a possibly unsafe JavaScript number.
 * @param {boolean} [unsigned=false] Whether unsigned or not
 * @returns {number} Possibly unsafe number
 */
LongBits.prototype.toNumber = function toNumber(unsigned) {
    if (!unsigned && this.hi >>> 31) {
        var lo = ~this.lo + 1 >>> 0,
            hi = ~this.hi     >>> 0;
        if (!lo)
            hi = hi + 1 >>> 0;
        return -(lo + hi * 4294967296);
    }
    return this.lo + this.hi * 4294967296;
};

/**
 * Converts this long bits to a long.
 * @param {boolean} [unsigned=false] Whether unsigned or not
 * @returns {Long} Long
 */
LongBits.prototype.toLong = function toLong(unsigned) {
    return util.Long
        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))
        /* istanbul ignore next */
        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };
};

var charCodeAt = String.prototype.charCodeAt;

/**
 * Constructs new long bits from the specified 8 characters long hash.
 * @param {string} hash Hash
 * @returns {util.LongBits} Bits
 */
LongBits.fromHash = function fromHash(hash) {
    if (hash === zeroHash)
        return zero;
    return new LongBits(
        ( charCodeAt.call(hash, 0)
        | charCodeAt.call(hash, 1) << 8
        | charCodeAt.call(hash, 2) << 16
        | charCodeAt.call(hash, 3) << 24) >>> 0
    ,
        ( charCodeAt.call(hash, 4)
        | charCodeAt.call(hash, 5) << 8
        | charCodeAt.call(hash, 6) << 16
        | charCodeAt.call(hash, 7) << 24) >>> 0
    );
};

/**
 * Converts this long bits to a 8 characters long hash.
 * @returns {string} Hash
 */
LongBits.prototype.toHash = function toHash() {
    return String.fromCharCode(
        this.lo        & 255,
        this.lo >>> 8  & 255,
        this.lo >>> 16 & 255,
        this.lo >>> 24      ,
        this.hi        & 255,
        this.hi >>> 8  & 255,
        this.hi >>> 16 & 255,
        this.hi >>> 24
    );
};

/**
 * Zig-zag encodes this long bits.
 * @returns {util.LongBits} `this`
 */
LongBits.prototype.zzEncode = function zzEncode() {
    var mask =   this.hi >> 31;
    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;
    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;
    return this;
};

/**
 * Zig-zag decodes this long bits.
 * @returns {util.LongBits} `this`
 */
LongBits.prototype.zzDecode = function zzDecode() {
    var mask = -(this.lo & 1);
    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;
    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;
    return this;
};

/**
 * Calculates the length of this longbits when encoded as a varint.
 * @returns {number} Length
 */
LongBits.prototype.length = function length() {
    var part0 =  this.lo,
        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,
        part2 =  this.hi >>> 24;
    return part2 === 0
         ? part1 === 0
           ? part0 < 16384
             ? part0 < 128 ? 1 : 2
             : part0 < 2097152 ? 3 : 4
           : part1 < 16384
             ? part1 < 128 ? 5 : 6
             : part1 < 2097152 ? 7 : 8
         : part2 < 128 ? 9 : 10;
};

},{"15":15}],15:[function(require,module,exports){
"use strict";
var util = exports;

// used to return a Promise where callback is omitted
util.asPromise = require(1);

// converts to / from base64 encoded strings
util.base64 = require(2);

// base class of rpc.Service
util.EventEmitter = require(3);

// float handling accross browsers
util.float = require(4);

// requires modules optionally and hides the call from bundlers
util.inquire = require(5);

// converts to / from utf8 encoded strings
util.utf8 = require(7);

// provides a node-like buffer pool in the browser
util.pool = require(6);

// utility to work with the low and high bits of a 64 bit value
util.LongBits = require(14);

/**
 * An immuable empty array.
 * @memberof util
 * @type {Array.<*>}
 * @const
 */
util.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes

/**
 * An immutable empty object.
 * @type {Object}
 * @const
 */
util.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes

/**
 * Whether running within node or not.
 * @memberof util
 * @type {boolean}
 * @const
 */
util.isNode = Boolean(global.process && global.process.versions && global.process.versions.node);

/**
 * Tests if the specified value is an integer.
 * @function
 * @param {*} value Value to test
 * @returns {boolean} `true` if the value is an integer
 */
util.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {
    return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
};

/**
 * Tests if the specified value is a string.
 * @param {*} value Value to test
 * @returns {boolean} `true` if the value is a string
 */
util.isString = function isString(value) {
    return typeof value === "string" || value instanceof String;
};

/**
 * Tests if the specified value is a non-null object.
 * @param {*} value Value to test
 * @returns {boolean} `true` if the value is a non-null object
 */
util.isObject = function isObject(value) {
    return value && typeof value === "object";
};

/**
 * Checks if a property on a message is considered to be present.
 * This is an alias of {@link util.isSet}.
 * @function
 * @param {Object} obj Plain object or message instance
 * @param {string} prop Property name
 * @returns {boolean} `true` if considered to be present, otherwise `false`
 */
util.isset =

/**
 * Checks if a property on a message is considered to be present.
 * @param {Object} obj Plain object or message instance
 * @param {string} prop Property name
 * @returns {boolean} `true` if considered to be present, otherwise `false`
 */
util.isSet = function isSet(obj, prop) {
    var value = obj[prop];
    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins
        return typeof value !== "object" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;
    return false;
};

/**
 * Any compatible Buffer instance.
 * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.
 * @interface Buffer
 * @extends Uint8Array
 */

/**
 * Node's Buffer class if available.
 * @type {Constructor<Buffer>}
 */
util.Buffer = (function() {
    try {
        var Buffer = util.inquire("buffer").Buffer;
        // refuse to use non-node buffers if not explicitly assigned (perf reasons):
        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;
    } catch (e) {
        /* istanbul ignore next */
        return null;
    }
})();

// Internal alias of or polyfull for Buffer.from.
util._Buffer_from = null;

// Internal alias of or polyfill for Buffer.allocUnsafe.
util._Buffer_allocUnsafe = null;

/**
 * Creates a new buffer of whatever type supported by the environment.
 * @param {number|number[]} [sizeOrArray=0] Buffer size or number array
 * @returns {Uint8Array|Buffer} Buffer
 */
util.newBuffer = function newBuffer(sizeOrArray) {
    /* istanbul ignore next */
    return typeof sizeOrArray === "number"
        ? util.Buffer
            ? util._Buffer_allocUnsafe(sizeOrArray)
            : new util.Array(sizeOrArray)
        : util.Buffer
            ? util._Buffer_from(sizeOrArray)
            : typeof Uint8Array === "undefined"
                ? sizeOrArray
                : new Uint8Array(sizeOrArray);
};

/**
 * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.
 * @type {Constructor<Uint8Array>}
 */
util.Array = typeof Uint8Array !== "undefined" ? Uint8Array /* istanbul ignore next */ : Array;

/**
 * Any compatible Long instance.
 * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.
 * @interface Long
 * @property {number} low Low bits
 * @property {number} high High bits
 * @property {boolean} unsigned Whether unsigned or not
 */

/**
 * Long.js's Long class if available.
 * @type {Constructor<Long>}
 */
util.Long = /* istanbul ignore next */ global.dcodeIO && /* istanbul ignore next */ global.dcodeIO.Long || util.inquire("long");

/**
 * Regular expression used to verify 2 bit (`bool`) map keys.
 * @type {RegExp}
 * @const
 */
util.key2Re = /^true|false|0|1$/;

/**
 * Regular expression used to verify 32 bit (`int32` etc.) map keys.
 * @type {RegExp}
 * @const
 */
util.key32Re = /^-?(?:0|[1-9][0-9]*)$/;

/**
 * Regular expression used to verify 64 bit (`int64` etc.) map keys.
 * @type {RegExp}
 * @const
 */
util.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;

/**
 * Converts a number or long to an 8 characters long hash string.
 * @param {Long|number} value Value to convert
 * @returns {string} Hash
 */
util.longToHash = function longToHash(value) {
    return value
        ? util.LongBits.from(value).toHash()
        : util.LongBits.zeroHash;
};

/**
 * Converts an 8 characters long hash string to a long or number.
 * @param {string} hash Hash
 * @param {boolean} [unsigned=false] Whether unsigned or not
 * @returns {Long|number} Original value
 */
util.longFromHash = function longFromHash(hash, unsigned) {
    var bits = util.LongBits.fromHash(hash);
    if (util.Long)
        return util.Long.fromBits(bits.lo, bits.hi, unsigned);
    return bits.toNumber(Boolean(unsigned));
};

/**
 * Merges the properties of the source object into the destination object.
 * @memberof util
 * @param {Object.<string,*>} dst Destination object
 * @param {Object.<string,*>} src Source object
 * @param {boolean} [ifNotSet=false] Merges only if the key is not already set
 * @returns {Object.<string,*>} Destination object
 */
function merge(dst, src, ifNotSet) { // used by converters
    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
        if (dst[keys[i]] === undefined || !ifNotSet)
            dst[keys[i]] = src[keys[i]];
    return dst;
}

util.merge = merge;

/**
 * Converts the first character of a string to lower case.
 * @param {string} str String to convert
 * @returns {string} Converted string
 */
util.lcFirst = function lcFirst(str) {
    return str.charAt(0).toLowerCase() + str.substring(1);
};

/**
 * Creates a custom error constructor.
 * @memberof util
 * @param {string} name Error name
 * @returns {Constructor<Error>} Custom error constructor
 */
function newError(name) {

    function CustomError(message, properties) {

        if (!(this instanceof CustomError))
            return new CustomError(message, properties);

        // Error.call(this, message);
        // ^ just returns a new error instance because the ctor can be called as a function

        Object.defineProperty(this, "message", { get: function() { return message; } });

        /* istanbul ignore next */
        if (Error.captureStackTrace) // node
            Error.captureStackTrace(this, CustomError);
        else
            Object.defineProperty(this, "stack", { value: (new Error()).stack || "" });

        if (properties)
            merge(this, properties);
    }

    (CustomError.prototype = Object.create(Error.prototype)).constructor = CustomError;

    Object.defineProperty(CustomError.prototype, "name", { get: function() { return name; } });

    CustomError.prototype.toString = function toString() {
        return this.name + ": " + this.message;
    };

    return CustomError;
}

util.newError = newError;

/**
 * Constructs a new protocol error.
 * @classdesc Error subclass indicating a protocol specifc error.
 * @memberof util
 * @extends Error
 * @template T extends Message<T>
 * @constructor
 * @param {string} message Error message
 * @param {Object.<string,*>} [properties] Additional properties
 * @example
 * try {
 *     MyMessage.decode(someBuffer); // throws if required fields are missing
 * } catch (e) {
 *     if (e instanceof ProtocolError && e.instance)
 *         console.log("decoded so far: " + JSON.stringify(e.instance));
 * }
 */
util.ProtocolError = newError("ProtocolError");

/**
 * So far decoded message instance.
 * @name util.ProtocolError#instance
 * @type {Message<T>}
 */

/**
 * A OneOf getter as returned by {@link util.oneOfGetter}.
 * @typedef OneOfGetter
 * @type {function}
 * @returns {string|undefined} Set field name, if any
 */

/**
 * Builds a getter for a oneof's present field name.
 * @param {string[]} fieldNames Field names
 * @returns {OneOfGetter} Unbound getter
 */
util.oneOfGetter = function getOneOf(fieldNames) {
    var fieldMap = {};
    for (var i = 0; i < fieldNames.length; ++i)
        fieldMap[fieldNames[i]] = 1;

    /**
     * @returns {string|undefined} Set field name, if any
     * @this Object
     * @ignore
     */
    return function() { // eslint-disable-line consistent-return
        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)
            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)
                return keys[i];
    };
};

/**
 * A OneOf setter as returned by {@link util.oneOfSetter}.
 * @typedef OneOfSetter
 * @type {function}
 * @param {string|undefined} value Field name
 * @returns {undefined}
 */

/**
 * Builds a setter for a oneof's present field name.
 * @param {string[]} fieldNames Field names
 * @returns {OneOfSetter} Unbound setter
 */
util.oneOfSetter = function setOneOf(fieldNames) {

    /**
     * @param {string} name Field name
     * @returns {undefined}
     * @this Object
     * @ignore
     */
    return function(name) {
        for (var i = 0; i < fieldNames.length; ++i)
            if (fieldNames[i] !== name)
                delete this[fieldNames[i]];
    };
};

/**
 * Default conversion options used for {@link Message#toJSON} implementations.
 *
 * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:
 *
 * - Longs become strings
 * - Enums become string keys
 * - Bytes become base64 encoded strings
 * - (Sub-)Messages become plain objects
 * - Maps become plain objects with all string keys
 * - Repeated fields become arrays
 * - NaN and Infinity for float and double fields become strings
 *
 * @type {IConversionOptions}
 * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json
 */
util.toJSONOptions = {
    longs: String,
    enums: String,
    bytes: String,
    json: true
};

util._configure = function() {
    var Buffer = util.Buffer;
    /* istanbul ignore if */
    if (!Buffer) {
        util._Buffer_from = util._Buffer_allocUnsafe = null;
        return;
    }
    // because node 4.x buffers are incompatible & immutable
    // see: https://github.com/dcodeIO/protobuf.js/pull/665
    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||
        /* istanbul ignore next */
        function Buffer_from(value, encoding) {
            return new Buffer(value, encoding);
        };
    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||
        /* istanbul ignore next */
        function Buffer_allocUnsafe(size) {
            return new Buffer(size);
        };
};

},{"1":1,"14":14,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7}],16:[function(require,module,exports){
"use strict";
module.exports = Writer;

var util      = require(15);

var BufferWriter; // cyclic

var LongBits  = util.LongBits,
    base64    = util.base64,
    utf8      = util.utf8;

/**
 * Constructs a new writer operation instance.
 * @classdesc Scheduled writer operation.
 * @constructor
 * @param {function(*, Uint8Array, number)} fn Function to call
 * @param {number} len Value byte length
 * @param {*} val Value to write
 * @ignore
 */
function Op(fn, len, val) {

    /**
     * Function to call.
     * @type {function(Uint8Array, number, *)}
     */
    this.fn = fn;

    /**
     * Value byte length.
     * @type {number}
     */
    this.len = len;

    /**
     * Next operation.
     * @type {Writer.Op|undefined}
     */
    this.next = undefined;

    /**
     * Value to write.
     * @type {*}
     */
    this.val = val; // type varies
}

/* istanbul ignore next */
function noop() {} // eslint-disable-line no-empty-function

/**
 * Constructs a new writer state instance.
 * @classdesc Copied writer state.
 * @memberof Writer
 * @constructor
 * @param {Writer} writer Writer to copy state from
 * @ignore
 */
function State(writer) {

    /**
     * Current head.
     * @type {Writer.Op}
     */
    this.head = writer.head;

    /**
     * Current tail.
     * @type {Writer.Op}
     */
    this.tail = writer.tail;

    /**
     * Current buffer length.
     * @type {number}
     */
    this.len = writer.len;

    /**
     * Next state.
     * @type {State|null}
     */
    this.next = writer.states;
}

/**
 * Constructs a new writer instance.
 * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.
 * @constructor
 */
function Writer() {

    /**
     * Current length.
     * @type {number}
     */
    this.len = 0;

    /**
     * Operations head.
     * @type {Object}
     */
    this.head = new Op(noop, 0, 0);

    /**
     * Operations tail
     * @type {Object}
     */
    this.tail = this.head;

    /**
     * Linked forked states.
     * @type {Object|null}
     */
    this.states = null;

    // When a value is written, the writer calculates its byte length and puts it into a linked
    // list of operations to perform when finish() is called. This both allows us to allocate
    // buffers of the exact required size and reduces the amount of work we have to do compared
    // to first calculating over objects and then encoding over objects. In our case, the encoding
    // part is just a linked list walk calling operations with already prepared values.
}

/**
 * Creates a new writer.
 * @function
 * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}
 */
Writer.create = util.Buffer
    ? function create_buffer_setup() {
        return (Writer.create = function create_buffer() {
            return new BufferWriter();
        })();
    }
    /* istanbul ignore next */
    : function create_array() {
        return new Writer();
    };

/**
 * Allocates a buffer of the specified size.
 * @param {number} size Buffer size
 * @returns {Uint8Array} Buffer
 */
Writer.alloc = function alloc(size) {
    return new util.Array(size);
};

// Use Uint8Array buffer pool in the browser, just like node does with buffers
/* istanbul ignore else */
if (util.Array !== Array)
    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);

/**
 * Pushes a new operation to the queue.
 * @param {function(Uint8Array, number, *)} fn Function to call
 * @param {number} len Value byte length
 * @param {number} val Value to write
 * @returns {Writer} `this`
 * @private
 */
Writer.prototype._push = function push(fn, len, val) {
    this.tail = this.tail.next = new Op(fn, len, val);
    this.len += len;
    return this;
};

function writeByte(val, buf, pos) {
    buf[pos] = val & 255;
}

function writeVarint32(val, buf, pos) {
    while (val > 127) {
        buf[pos++] = val & 127 | 128;
        val >>>= 7;
    }
    buf[pos] = val;
}

/**
 * Constructs a new varint writer operation instance.
 * @classdesc Scheduled varint writer operation.
 * @extends Op
 * @constructor
 * @param {number} len Value byte length
 * @param {number} val Value to write
 * @ignore
 */
function VarintOp(len, val) {
    this.len = len;
    this.next = undefined;
    this.val = val;
}

VarintOp.prototype = Object.create(Op.prototype);
VarintOp.prototype.fn = writeVarint32;

/**
 * Writes an unsigned 32 bit value as a varint.
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.uint32 = function write_uint32(value) {
    // here, the call to this.push has been inlined and a varint specific Op subclass is used.
    // uint32 is by far the most frequently used operation and benefits significantly from this.
    this.len += (this.tail = this.tail.next = new VarintOp(
        (value = value >>> 0)
                < 128       ? 1
        : value < 16384     ? 2
        : value < 2097152   ? 3
        : value < 268435456 ? 4
        :                     5,
    value)).len;
    return this;
};

/**
 * Writes a signed 32 bit value as a varint.
 * @function
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.int32 = function write_int32(value) {
    return value < 0
        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec
        : this.uint32(value);
};

/**
 * Writes a 32 bit value as a varint, zig-zag encoded.
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.sint32 = function write_sint32(value) {
    return this.uint32((value << 1 ^ value >> 31) >>> 0);
};

function writeVarint64(val, buf, pos) {
    while (val.hi) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;
        val.hi >>>= 7;
    }
    while (val.lo > 127) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = val.lo >>> 7;
    }
    buf[pos++] = val.lo;
}

/**
 * Writes an unsigned 64 bit value as a varint.
 * @param {Long|number|string} value Value to write
 * @returns {Writer} `this`
 * @throws {TypeError} If `value` is a string and no long library is present.
 */
Writer.prototype.uint64 = function write_uint64(value) {
    var bits = LongBits.from(value);
    return this._push(writeVarint64, bits.length(), bits);
};

/**
 * Writes a signed 64 bit value as a varint.
 * @function
 * @param {Long|number|string} value Value to write
 * @returns {Writer} `this`
 * @throws {TypeError} If `value` is a string and no long library is present.
 */
Writer.prototype.int64 = Writer.prototype.uint64;

/**
 * Writes a signed 64 bit value as a varint, zig-zag encoded.
 * @param {Long|number|string} value Value to write
 * @returns {Writer} `this`
 * @throws {TypeError} If `value` is a string and no long library is present.
 */
Writer.prototype.sint64 = function write_sint64(value) {
    var bits = LongBits.from(value).zzEncode();
    return this._push(writeVarint64, bits.length(), bits);
};

/**
 * Writes a boolish value as a varint.
 * @param {boolean} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.bool = function write_bool(value) {
    return this._push(writeByte, 1, value ? 1 : 0);
};

function writeFixed32(val, buf, pos) {
    buf[pos    ] =  val         & 255;
    buf[pos + 1] =  val >>> 8   & 255;
    buf[pos + 2] =  val >>> 16  & 255;
    buf[pos + 3] =  val >>> 24;
}

/**
 * Writes an unsigned 32 bit value as fixed 32 bits.
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.fixed32 = function write_fixed32(value) {
    return this._push(writeFixed32, 4, value >>> 0);
};

/**
 * Writes a signed 32 bit value as fixed 32 bits.
 * @function
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.sfixed32 = Writer.prototype.fixed32;

/**
 * Writes an unsigned 64 bit value as fixed 64 bits.
 * @param {Long|number|string} value Value to write
 * @returns {Writer} `this`
 * @throws {TypeError} If `value` is a string and no long library is present.
 */
Writer.prototype.fixed64 = function write_fixed64(value) {
    var bits = LongBits.from(value);
    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
};

/**
 * Writes a signed 64 bit value as fixed 64 bits.
 * @function
 * @param {Long|number|string} value Value to write
 * @returns {Writer} `this`
 * @throws {TypeError} If `value` is a string and no long library is present.
 */
Writer.prototype.sfixed64 = Writer.prototype.fixed64;

/**
 * Writes a float (32 bit).
 * @function
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.float = function write_float(value) {
    return this._push(util.float.writeFloatLE, 4, value);
};

/**
 * Writes a double (64 bit float).
 * @function
 * @param {number} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.double = function write_double(value) {
    return this._push(util.float.writeDoubleLE, 8, value);
};

var writeBytes = util.Array.prototype.set
    ? function writeBytes_set(val, buf, pos) {
        buf.set(val, pos); // also works for plain array values
    }
    /* istanbul ignore next */
    : function writeBytes_for(val, buf, pos) {
        for (var i = 0; i < val.length; ++i)
            buf[pos + i] = val[i];
    };

/**
 * Writes a sequence of bytes.
 * @param {Uint8Array|string} value Buffer or base64 encoded string to write
 * @returns {Writer} `this`
 */
Writer.prototype.bytes = function write_bytes(value) {
    var len = value.length >>> 0;
    if (!len)
        return this._push(writeByte, 1, 0);
    if (util.isString(value)) {
        var buf = Writer.alloc(len = base64.length(value));
        base64.decode(value, buf, 0);
        value = buf;
    }
    return this.uint32(len)._push(writeBytes, len, value);
};

/**
 * Writes a string.
 * @param {string} value Value to write
 * @returns {Writer} `this`
 */
Writer.prototype.string = function write_string(value) {
    var len = utf8.length(value);
    return len
        ? this.uint32(len)._push(utf8.write, len, value)
        : this._push(writeByte, 1, 0);
};

/**
 * Forks this writer's state by pushing it to a stack.
 * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.
 * @returns {Writer} `this`
 */
Writer.prototype.fork = function fork() {
    this.states = new State(this);
    this.head = this.tail = new Op(noop, 0, 0);
    this.len = 0;
    return this;
};

/**
 * Resets this instance to the last state.
 * @returns {Writer} `this`
 */
Writer.prototype.reset = function reset() {
    if (this.states) {
        this.head   = this.states.head;
        this.tail   = this.states.tail;
        this.len    = this.states.len;
        this.states = this.states.next;
    } else {
        this.head = this.tail = new Op(noop, 0, 0);
        this.len  = 0;
    }
    return this;
};

/**
 * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.
 * @returns {Writer} `this`
 */
Writer.prototype.ldelim = function ldelim() {
    var head = this.head,
        tail = this.tail,
        len  = this.len;
    this.reset().uint32(len);
    if (len) {
        this.tail.next = head.next; // skip noop
        this.tail = tail;
        this.len += len;
    }
    return this;
};

/**
 * Finishes the write operation.
 * @returns {Uint8Array} Finished buffer
 */
Writer.prototype.finish = function finish() {
    var head = this.head.next, // skip noop
        buf  = this.constructor.alloc(this.len),
        pos  = 0;
    while (head) {
        head.fn(head.val, buf, pos);
        pos += head.len;
        head = head.next;
    }
    // this.head = this.tail = null;
    return buf;
};

Writer._configure = function(BufferWriter_) {
    BufferWriter = BufferWriter_;
};

},{"15":15}],17:[function(require,module,exports){
"use strict";
module.exports = BufferWriter;

// extends Writer
var Writer = require(16);
(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;

var util = require(15);

var Buffer = util.Buffer;

/**
 * Constructs a new buffer writer instance.
 * @classdesc Wire format writer using node buffers.
 * @extends Writer
 * @constructor
 */
function BufferWriter() {
    Writer.call(this);
}

/**
 * Allocates a buffer of the specified size.
 * @param {number} size Buffer size
 * @returns {Buffer} Buffer
 */
BufferWriter.alloc = function alloc_buffer(size) {
    return (BufferWriter.alloc = util._Buffer_allocUnsafe)(size);
};

var writeBytesBuffer = Buffer && Buffer.prototype instanceof Uint8Array && Buffer.prototype.set.name === "set"
    ? function writeBytesBuffer_set(val, buf, pos) {
        buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)
                           // also works for plain array values
    }
    /* istanbul ignore next */
    : function writeBytesBuffer_copy(val, buf, pos) {
        if (val.copy) // Buffer values
            val.copy(buf, pos, 0, val.length);
        else for (var i = 0; i < val.length;) // plain array values
            buf[pos++] = val[i++];
    };

/**
 * @override
 */
BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
    if (util.isString(value))
        value = util._Buffer_from(value, "base64");
    var len = value.length >>> 0;
    this.uint32(len);
    if (len)
        this._push(writeBytesBuffer, len, value);
    return this;
};

function writeStringBuffer(val, buf, pos) {
    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)
        util.utf8.write(val, buf, pos);
    else
        buf.utf8Write(val, pos);
}

/**
 * @override
 */
BufferWriter.prototype.string = function write_string_buffer(value) {
    var len = Buffer.byteLength(value);
    this.uint32(len);
    if (len)
        this._push(writeStringBuffer, len, value);
    return this;
};


/**
 * Finishes the write operation.
 * @name BufferWriter#finish
 * @function
 * @returns {Buffer} Finished buffer
 */

},{"15":15,"16":16}]},{},[8])

})(typeof window==="object"&&window||typeof self==="object"&&self||this);
//# sourceMappingURL=protobuf.js.map
</script>
  <script type="text/javascript">
    /*
     * A TypeScript implementation of the Secure Hash Algorithm, SHA-1, as defined
     * in FIPS PUB 180-1
     *
     * This file is derived from JavaScript MD5 project ( http://pajhome.org.uk/crypt/md5/ )
     * and is modified for oauth-typescript project.
     *
     * Copyright 2000-2002 Paul Johnston.
     * (Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet)
     * Copyright 2015 NOBUOKA Yu.
     *
     * Licensed under the BSD License.
     *
     *   1. Redistributions of source code must retain the above copyright notice,
     *     this list of conditions and the following disclaimer.
     *   2. Redistributions in binary form must reproduce the above copyright notice,
     *     this list of conditions and the following disclaimer in the documentation
     *     and/or other materials provided with the distribution.
     *   3. Neither the name of the copyright holder nor the names of its contributors
     *     may be used to endorse or promote products derived from this software
     *     without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
     * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
     * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
     * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
     * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
     * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
     * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
     * POSSIBILITY OF SUCH DAMAGE.
     */
  document.addEventListener('DOMContentLoaded', function() { /*
 @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   4.1.1
*/
(function(ra) {
  function zb() {
    lb || (lb = !0, "function" === typeof Ab ? Ab(Bb) : setTimeout(Bb, 100));
  }
  function Bb() {
    var c = 1 <= window.innerWidth / window.innerHeight ? "landscape" : "portrait";
    "undefined" === typeof window.orientation || "ios" !== mb || Cb || (c = 90 === Math.abs(window.orientation) ? "landscape" : "portrait");
    document.body.classList.remove("landscape");
    document.body.classList.remove("portrait");
    document.body.classList.add(c);
    lb = !1;
  }
  function ka(c, b) {
    var a = (c & 65535) + (b & 65535);
    return (c >> 16) + (b >> 16) + (a >> 16) << 16 | a & 65535;
  }
  (function(c, b) {
    "object" === typeof exports && "undefined" !== typeof module ? module.exports = b() : "function" === typeof define && define.amd ? define(b) : c.ES6Promise = b();
  })(window, function() {
    function c(a, b) {
      I[v] = a;
      I[v + 1] = b;
      v += 2;
      2 === v && (D ? D(l) : Q());
    }
    function b() {
      return function() {
        return process.nextTick(l);
      };
    }
    function a() {
      return "undefined" !== typeof G ? function() {
        G(l);
      } : g();
    }
    function d() {
      var a = 0, b = new L(l), d = document.createTextNode("");
      b.observe(d, {characterData:!0});
      return function() {
        d.data = a = ++a % 2;
      };
    }
    function f() {
      var a = new MessageChannel;
      a.port1.onmessage = l;
      return function() {
        return a.port2.postMessage(0);
      };
    }
    function g() {
      var a = setTimeout;
      return function() {
        return a(l, 1);
      };
    }
    function l() {
      for (var a = 0; a < v; a += 2) {
        (0,I[a])(I[a + 1]), I[a] = void 0, I[a + 1] = void 0;
      }
      v = 0;
    }
    function e() {
      try {
        var b = require("vertx");
        G = b.runOnLoop || b.runOnContext;
        return a();
      } catch (Db) {
        return g();
      }
    }
    function m(a, b) {
      var d = arguments, f = this, g = new this.constructor(h);
      void 0 === g[N] && C(g);
      var l = f._state;
      l ? function() {
        var a = d[l - 1];
        c(function() {
          return A(l, g, a, f._result);
        });
      }() : r(f, g, a, b);
      return g;
    }
    function w(a) {
      if (a && "object" === typeof a && a.constructor === this) {
        return a;
      }
      var b = new this(h);
      u(b, a);
      return b;
    }
    function h() {
    }
    function n(a) {
      try {
        return a.then;
      } catch (Db) {
        return O.error = Db, O;
      }
    }
    function sa(a, b, d, c) {
      try {
        a.call(b, d, c);
      } catch (ic) {
        return ic;
      }
    }
    function Ca(a, b, d) {
      c(function(a) {
        var c = !1, f = sa(d, b, function(d) {
          c || (c = !0, b !== d ? u(a, d) : la(a, d));
        }, function(b) {
          c || (c = !0, T(a, b));
        }, "Settle: " + (a._label || " unknown promise"));
        !c && f && (c = !0, T(a, f));
      }, a);
    }
    function B(a, b) {
      b._state === M ? la(a, b._result) : b._state === K ? T(a, b._result) : r(b, void 0, function(b) {
        return u(a, b);
      }, function(b) {
        return T(a, b);
      });
    }
    function t(a, b, d) {
      b.constructor === a.constructor && d === m && b.constructor.resolve === w ? B(a, b) : d === O ? (T(a, O.error), O.error = null) : void 0 === d ? la(a, b) : "function" === typeof d ? Ca(a, b, d) : la(a, b);
    }
    function u(a, b) {
      if (a === b) {
        T(a, new TypeError("You cannot resolve a promise with itself"));
      } else {
        var d = typeof b;
        null === b || "object" !== d && "function" !== d ? la(a, b) : t(a, b, n(b));
      }
    }
    function ta(a) {
      a._onerror && a._onerror(a._result);
      q(a);
    }
    function la(a, b) {
      a._state === J && (a._result = b, a._state = M, 0 !== a._subscribers.length && c(q, a));
    }
    function T(a, b) {
      a._state === J && (a._state = K, a._result = b, c(ta, a));
    }
    function r(a, b, d, f) {
      var g = a._subscribers, l = g.length;
      a._onerror = null;
      g[l] = b;
      g[l + M] = d;
      g[l + K] = f;
      0 === l && a._state && c(q, a);
    }
    function q(a) {
      var b = a._subscribers, d = a._state;
      if (0 !== b.length) {
        for (var c, f, g = a._result, l = 0; l < b.length; l += 3) {
          c = b[l], f = b[l + d], c ? A(d, c, f, g) : f(g);
        }
        a._subscribers.length = 0;
      }
    }
    function y() {
      this.error = null;
    }
    function A(a, b, d, c) {
      var f = "function" === typeof d, g = void 0, l = void 0, e = void 0, k = void 0;
      if (f) {
        try {
          g = d(c);
        } catch (jc) {
          R.error = jc, g = R;
        }
        g === R ? (k = !0, l = g.error, g.error = null) : e = !0;
        if (b === g) {
          T(b, new TypeError("A promises callback cannot return that same promise."));
          return;
        }
      } else {
        g = c, e = !0;
      }
      b._state === J && (f && e ? u(b, g) : k ? T(b, l) : a === M ? la(b, g) : a === K && T(b, g));
    }
    function F(a, b) {
      try {
        b(function(b) {
          u(a, b);
        }, function(b) {
          T(a, b);
        });
      } catch (gc) {
        T(a, gc);
      }
    }
    function C(a) {
      a[N] = S++;
      a._state = void 0;
      a._result = void 0;
      a._subscribers = [];
    }
    function x(a, b) {
      this._instanceConstructor = a;
      this.promise = new a(h);
      this.promise[N] || C(this.promise);
      H(b) ? (this._remaining = this.length = b.length, this._result = Array(this.length), 0 === this.length ? la(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(b), 0 === this._remaining && la(this.promise, this._result))) : T(this.promise, Error("Array Methods must be provided an Array"));
    }
    function p(a) {
      this[N] = S++;
      this._result = this._state = void 0;
      this._subscribers = [];
      if (h !== a) {
        if ("function" !== typeof a) {
          throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
        }
        if (this instanceof p) {
          F(this, a);
        } else {
          throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
        }
      }
    }
    var E = void 0, H = E = Array.isArray ? Array.isArray : function(a) {
      return "[object Array]" === Object.prototype.toString.call(a);
    }, v = 0, G = void 0, D = void 0, z = (E = "undefined" !== typeof window ? window : void 0) || {}, L = z.MutationObserver || z.WebKitMutationObserver;
    z = "undefined" === typeof self && "undefined" !== typeof process && "[object process]" === {}.toString.call(process);
    var P = "undefined" !== typeof Uint8ClampedArray && "undefined" !== typeof importScripts && "undefined" !== typeof MessageChannel, I = Array(1000), Q = void 0;
    Q = z ? b() : L ? d() : P ? f() : void 0 === E && "function" === typeof require ? e() : g();
    var N = Math.random().toString(36).substring(16), J = void 0, M = 1, K = 2, O = new y, R = new y, S = 0;
    x.prototype._enumerate = function(a) {
      for (var b = 0; this._state === J && b < a.length; b++) {
        this._eachEntry(a[b], b);
      }
    };
    x.prototype._eachEntry = function(a, b) {
      var d = this._instanceConstructor, c = d.resolve;
      c === w ? (c = n(a), c === m && a._state !== J ? this._settledAt(a._state, b, a._result) : "function" !== typeof c ? (this._remaining--, this._result[b] = a) : d === p ? (d = new d(h), t(d, a, c), this._willSettleAt(d, b)) : this._willSettleAt(new d(function(b) {
        return b(a);
      }), b)) : this._willSettleAt(c(a), b);
    };
    x.prototype._settledAt = function(a, b, d) {
      var c = this.promise;
      c._state === J && (this._remaining--, a === K ? T(c, d) : this._result[b] = d);
      0 === this._remaining && la(c, this._result);
    };
    x.prototype._willSettleAt = function(a, b) {
      var d = this;
      r(a, void 0, function(a) {
        return d._settledAt(M, b, a);
      }, function(a) {
        return d._settledAt(K, b, a);
      });
    };
    p.all = function(a) {
      return (new x(this, a)).promise;
    };
    p.race = function(a) {
      var b = this;
      return H(a) ? new b(function(d, c) {
        for (var f = a.length, g = 0; g < f; g++) {
          b.resolve(a[g]).then(d, c);
        }
      }) : new b(function(a, b) {
        return b(new TypeError("You must pass an array to race."));
      });
    };
    p.resolve = w;
    p.reject = function(a) {
      var b = new this(h);
      T(b, a);
      return b;
    };
    p._setScheduler = function(a) {
      D = a;
    };
    p._setAsap = function(a) {
      c = a;
    };
    p._asap = c;
    p.prototype = {constructor:p, then:m, "catch":function(a) {
      return this.then(null, a);
    }};
    p.polyfill = function() {
      var a = void 0;
      if ("undefined" !== typeof global) {
        a = global;
      } else {
        if ("undefined" !== typeof self) {
          a = self;
        } else {
          try {
            a = Function("return this")();
          } catch (hc) {
            throw Error("polyfill failed because global object is unavailable in this environment");
          }
        }
      }
      var b = a.Promise;
      if (b) {
        var d = null;
        try {
          d = Object.prototype.toString.call(b.resolve());
        } catch (hc) {
        }
        if ("[object Promise]" === d && !b.cast) {
          return;
        }
      }
      a.Promise = p;
    };
    p.Promise = p;
    p.polyfill();
    return p;
  });
  var Eb = function() {
    function c() {
    }
    c.parseFromString = function(b, a) {
      if (/^\s*text\/html\s*(?:;|$)/i.test(a)) {
        var d = document.implementation.createHTMLDocument("");
        -1 < b.toLowerCase().indexOf("<!doctype") ? d.documentElement.innerHTML = b : d.body.innerHTML = b;
        return d;
      }
      return c.nativeParse.apply(new DOMParser, arguments);
    };
    c.nativeParse = DOMParser.prototype.parseFromString;
    return c;
  }();
  Array.prototype.forEach || (Array.prototype.forEach = function(c, b) {
    if ("function" !== typeof c) {
      throw new TypeError(c + " is not a function!");
    }
    for (var a = this.length, d = 0; d < a; d++) {
      c.call(b, this[d], d, this);
    }
  });
  Number.isInteger || (Number.isInteger = function(c) {
    return "number" === typeof c && isFinite(c) && Math.floor(c) === c;
  });
  "classList" in document.documentElement || !Object.defineProperty || "undefined" === typeof HTMLElement || Object.defineProperty(HTMLElement.prototype, "classList", {get:function() {
    function c(a) {
      return function(d) {
        var c = b.className.split(/\s+/), f = c.indexOf(d);
        a(c, f, d);
        b.className = c.join(" ");
      };
    }
    var b = this, a = {add:c(function(a, b, c) {
      ~b || c && a.push(c);
    }), remove:c(function(a, b) {
      ~b && a.splice(b, 1);
    }), toggle:c(function(a, b, c) {
      ~b ? a.splice(b, 1) : c && a.push(c);
    }), contains:function(a) {
      return !!~b.className.split(/\s+/).indexOf(a);
    }, item:function(a) {
      return b.className.split(/\s+/)[a] || null;
    }};
    Object.defineProperty(a, "length", {get:function() {
      return b.className.split(/\s+/).length;
    }});
    return a;
  }});
  (function(c) {
    try {
      if ((new c).parseFromString("", "text/html")) {
        return;
      }
    } catch (b) {
    }
    c.prototype.parseFromString = Eb.parseFromString;
  })(DOMParser);
  var h;
  (function(c) {
    c[c.ANDROID = 0] = "ANDROID";
    c[c.IOS = 1] = "IOS";
    c[c.TEST = 2] = "TEST";
  })(h || (h = {}));
  var Fb = function() {
    function c(b) {
      this._batch = [];
      this._nativeBridge = b;
    }
    c.prototype.queue = function(b, a, d) {
      void 0 === d && (d = []);
      switch(this._nativeBridge.getPlatform()) {
        case h.ANDROID:
          return this.rawQueue("com.unity3d.ads.api." + b, a, d);
        case h.IOS:
          return this.rawQueue("UADSApi" + b, a, d);
        default:
          return this.rawQueue(b, a, d);
      }
    };
    c.prototype.rawQueue = function(b, a, d) {
      var c = this;
      void 0 === d && (d = []);
      return new Promise(function(f, l) {
        f = c._nativeBridge.registerCallback(f, l);
        c._batch.push([b, a, d, f.toString()]);
      });
    };
    c.prototype.getBatch = function() {
      return this._batch;
    };
    return c;
  }(), C = function() {
    function c(b, a) {
      this._nativeBridge = b;
      this._apiClass = a;
    }
    c.prototype.handleEvent = function(b) {
      throw Error(this._apiClass + " event " + b + " does not have an observable");
    };
    return c;
  }(), Da = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Ea = function() {
    function c() {
      this._observers = [];
    }
    c.prototype.subscribe = function(b) {
      this._observers.push(b);
      return b;
    };
    c.prototype.unsubscribe = function(b) {
      this._observers.length && (this._observers = "undefined" !== typeof b ? this._observers.filter(function(a) {
        return a !== b;
      }) : []);
    };
    return c;
  }(), x = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function() {
      this._observers.forEach(function(a) {
        return a();
      });
    };
    return b;
  }(Ea), r = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function(a) {
      this._observers.forEach(function(b) {
        return b(a);
      });
    };
    return b;
  }(Ea), U = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function(a, b) {
      this._observers.forEach(function(d) {
        return d(a, b);
      });
    };
    return b;
  }(Ea), ua = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function(a, b, c) {
      this._observers.forEach(function(d) {
        return d(a, b, c);
      });
    };
    return b;
  }(Ea), nb = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function(a, b, c, g) {
      this._observers.forEach(function(d) {
        return d(a, b, c, g);
      });
    };
    return b;
  }(Ea), ob = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function(a, b, c, g, l) {
      this._observers.forEach(function(d) {
        return d(a, b, c, g, l);
      });
    };
    return b;
  }(Ea), Gb = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Da(b, c);
    b.prototype.trigger = function(a, b, c, g, l, e) {
      this._observers.forEach(function(d) {
        return d(a, b, c, g, l, e);
      });
    };
    return b;
  }(Ea), kc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Ya;
  (function(c) {
    c[c.ACTION = 0] = "ACTION";
  })(Ya || (Ya = {}));
  var lc = function(c) {
    function b(a) {
      a = c.call(this, a, "Broadcast") || this;
      a.onBroadcastAction = new nb;
      return a;
    }
    kc(b, c);
    b.prototype.addBroadcastListener = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "addBroadcastListener", [a, b]);
    };
    b.prototype.addDataSchemeBroadcastListener = function(a, b, c) {
      return this._nativeBridge.invoke(this._apiClass, "addBroadcastListener", [a, b, c]);
    };
    b.prototype.removeBroadcastListener = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "removeBroadcastListener", [a]);
    };
    b.prototype.removeAllBroadcastListeners = function() {
      return this._nativeBridge.invoke(this._apiClass, "removeAllBroadcastListeners", []);
    };
    b.prototype.handleEvent = function(a, b) {
      a === Ya[Ya.ACTION] ? this.onBroadcastAction.trigger(b[0], b[1], b[2], b[3]) : c.prototype.handleEvent.call(this, a, b);
    };
    return b;
  }(C), mc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), nc = function(c) {
    function b(a) {
      return c.call(this, a, "Cache") || this;
    }
    mc(b, c);
    b.prototype.getMetaData = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "getMetaData", [a, b]);
    };
    return b;
  }(C), oc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), pc = function(c) {
    function b(a) {
      return c.call(this, a, "Cache") || this;
    }
    oc(b, c);
    b.prototype.getVideoInfo = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getVideoInfo", [a]);
    };
    return b;
  }(C), qc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), O;
  (function(c) {
    c[c.FILE_IO_ERROR = 0] = "FILE_IO_ERROR";
    c[c.FILE_NOT_FOUND = 1] = "FILE_NOT_FOUND";
    c[c.FILE_ALREADY_CACHING = 2] = "FILE_ALREADY_CACHING";
    c[c.NOT_CACHING = 3] = "NOT_CACHING";
    c[c.JSON_ERROR = 4] = "JSON_ERROR";
    c[c.NO_INTERNET = 5] = "NO_INTERNET";
    c[c.MALFORMED_URL = 6] = "MALFORMED_URL";
    c[c.NETWORK_ERROR = 7] = "NETWORK_ERROR";
    c[c.ILLEGAL_STATE = 8] = "ILLEGAL_STATE";
    c[c.INVALID_ARGUMENT = 9] = "INVALID_ARGUMENT";
  })(O || (O = {}));
  var W;
  (function(c) {
    c[c.DOWNLOAD_STARTED = 0] = "DOWNLOAD_STARTED";
    c[c.DOWNLOAD_PROGRESS = 1] = "DOWNLOAD_PROGRESS";
    c[c.DOWNLOAD_END = 2] = "DOWNLOAD_END";
    c[c.DOWNLOAD_STOPPED = 3] = "DOWNLOAD_STOPPED";
    c[c.DOWNLOAD_ERROR = 4] = "DOWNLOAD_ERROR";
  })(W || (W = {}));
  var rc = function(c) {
    function b(a) {
      var b = c.call(this, a, "Cache") || this;
      b.onDownloadStarted = new ob;
      b.onDownloadProgress = new ua;
      b.onDownloadEnd = new Gb;
      b.onDownloadStopped = new Gb;
      b.onDownloadError = new ua;
      a.getPlatform() === h.IOS ? b.Ios = new pc(a) : b.Android = new nc(a);
      return b;
    }
    qc(b, c);
    b.prototype.download = function(a, b, c) {
      return this._nativeBridge.invoke(this._apiClass, "download", [a, b, c]);
    };
    b.prototype.stop = function() {
      return this._nativeBridge.invoke(this._apiClass, "stop");
    };
    b.prototype.isCaching = function() {
      return this._nativeBridge.invoke(this._apiClass, "isCaching");
    };
    b.prototype.getFiles = function() {
      return this._nativeBridge.invoke(this._apiClass, "getFiles");
    };
    b.prototype.getFileInfo = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getFileInfo", [a]);
    };
    b.prototype.getFilePath = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getFilePath", [a]);
    };
    b.prototype.getHash = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getHash", [a]);
    };
    b.prototype.deleteFile = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "deleteFile", [a]);
    };
    b.prototype.setProgressInterval = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setProgressInterval", [a]);
    };
    b.prototype.getProgressInterval = function() {
      return this._nativeBridge.invoke(this._apiClass, "getProgressInterval");
    };
    b.prototype.setTimeouts = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "setTimeouts", [a, b]);
    };
    b.prototype.getTimeouts = function() {
      return this._nativeBridge.invoke(this._apiClass, "getTimeouts");
    };
    b.prototype.getFreeSpace = function() {
      return this._nativeBridge.invoke(this._apiClass, "getFreeSpace");
    };
    b.prototype.getTotalSpace = function() {
      return this._nativeBridge.invoke(this._apiClass, "getTotalSpace");
    };
    b.prototype.getFileContent = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "getFileContent", [a, b]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case W[W.DOWNLOAD_STARTED]:
          this.onDownloadStarted.trigger(b[0], b[1], b[2], b[3], b[4]);
          break;
        case W[W.DOWNLOAD_PROGRESS]:
          this.onDownloadProgress.trigger(b[0], b[1], b[2]);
          break;
        case W[W.DOWNLOAD_END]:
          this.onDownloadEnd.trigger(b[0], b[1], b[2], b[3], b[4], b[5]);
          break;
        case W[W.DOWNLOAD_STOPPED]:
          this.onDownloadStopped.trigger(b[0], b[1], b[2], b[3], b[4], b[5]);
          break;
        case W[W.DOWNLOAD_ERROR]:
          this.onDownloadError.trigger(b[0], b[1], b[2]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), sc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), va;
  (function(c) {
    c[c.CONNECTED = 0] = "CONNECTED";
    c[c.DISCONNECTED = 1] = "DISCONNECTED";
    c[c.NETWORK_CHANGE = 2] = "NETWORK_CHANGE";
  })(va || (va = {}));
  var tc = function(c) {
    function b(a) {
      a = c.call(this, a, "Connectivity") || this;
      a.onConnected = new U;
      a.onDisconnected = new x;
      return a;
    }
    sc(b, c);
    b.prototype.setListeningStatus = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setConnectionMonitoring", [a]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case va[va.CONNECTED]:
          this.onConnected.trigger(b[0], b[1]);
          break;
        case va[va.DISCONNECTED]:
          this.onDisconnected.trigger();
          break;
        case va[va.NETWORK_CHANGE]:
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), uc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Pa;
  (function(c) {
    c[c.COMPLETE = 0] = "COMPLETE";
    c[c.FAILED = 1] = "FAILED";
  })(Pa || (Pa = {}));
  var vc = function(c) {
    function b(a) {
      a = c.call(this, a, "Request") || this;
      a.onComplete = new ob;
      a.onFailed = new ua;
      return a;
    }
    uc(b, c);
    b.prototype.get = function(a, b, c, g, l) {
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.invoke(this._apiClass, "get", [a, b, c, g]) : this._nativeBridge.invoke(this._apiClass, "get", [a, b, c, g, l]);
    };
    b.prototype.post = function(a, b, c, g, l, e) {
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.invoke(this._apiClass, "post", [a, b, c, g, l]) : this._nativeBridge.invoke(this._apiClass, "post", [a, b, c, g, l, e]);
    };
    b.prototype.head = function(a, b, c, g, l) {
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.invoke(this._apiClass, "head", [a, b, c, g]) : this._nativeBridge.invoke(this._apiClass, "head", [a, b, c, g, l]);
    };
    b.prototype.setConnectTimeout = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setConnectTimeout", [a]);
    };
    b.prototype.getConnectTimeout = function() {
      return this._nativeBridge.invoke(this._apiClass, "getConnectTimeout");
    };
    b.prototype.setReadTimeout = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setReadTimeout", [a]);
    };
    b.prototype.getReadTimeout = function() {
      return this._nativeBridge.invoke(this._apiClass, "getReadTimeout");
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case Pa[Pa.COMPLETE]:
          this.onComplete.trigger(b[0], b[1], b[2], b[3], b[4]);
          break;
        case Pa[Pa.FAILED]:
          this.onFailed.trigger(b[0], b[1], b[2]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), wc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), X;
  (function(c) {
    c[c.LIKELY_TO_KEEP_UP = 0] = "LIKELY_TO_KEEP_UP";
    c[c.BUFFER_EMPTY = 1] = "BUFFER_EMPTY";
    c[c.BUFFER_FULL = 2] = "BUFFER_FULL";
    c[c.GENERIC_ERROR = 3] = "GENERIC_ERROR";
    c[c.PREPARE_ERROR = 4] = "PREPARE_ERROR";
    c[c.VIDEOVIEW_NULL = 5] = "VIDEOVIEW_NULL";
  })(X || (X = {}));
  var xc = function(c) {
    function b(a) {
      a = c.call(this, a, "VideoPlayer") || this;
      a.onLikelyToKeepUp = new U;
      a.onBufferEmpty = new U;
      a.onBufferFull = new U;
      a.onGenericError = new U;
      a.onPrepareError = new r;
      return a;
    }
    wc(b, c);
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case X[X.LIKELY_TO_KEEP_UP]:
          this.onLikelyToKeepUp.trigger(b[0], b[1]);
          break;
        case X[X.BUFFER_EMPTY]:
          this.onBufferEmpty.trigger(b[0], b[1]);
          break;
        case X[X.BUFFER_FULL]:
          this.onBufferFull.trigger(b[0], b[1]);
          break;
        case X[X.GENERIC_ERROR]:
          this.onGenericError.trigger(b[0], b[1]);
          break;
        case X[X.PREPARE_ERROR]:
          this.onPrepareError.trigger(b[0]);
          break;
        default:
          throw Error("VideoPlayer event " + a + " does not have an observable");
      }
    };
    return b;
  }(C), yc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Za;
  (function(c) {
    c[c.INFO = 0] = "INFO";
  })(Za || (Za = {}));
  var Y;
  (function(c) {
    c[c.VIDEOVIEW_NULL = 0] = "VIDEOVIEW_NULL";
    c[c.API_LEVEL_ERROR = 1] = "API_LEVEL_ERROR";
    c[c.GENERIC_ERROR = 2] = "GENERIC_ERROR";
    c[c.PAUSE_ERROR = 3] = "PAUSE_ERROR";
    c[c.PREPARE_ERROR = 4] = "PREPARE_ERROR";
    c[c.SEEKTO_ERROR = 5] = "SEEKTO_ERROR";
    c[c.ILLEGAL_STATE = 6] = "ILLEGAL_STATE";
  })(Y || (Y = {}));
  var zc = function(c) {
    function b(a) {
      a = c.call(this, a, "VideoPlayer") || this;
      a.onInfo = new ua;
      a.onGenericError = new ua;
      a.onPrepareError = new r;
      a.onSeekToError = new r;
      a.onPauseError = new r;
      a.onIllegalStateError = new x;
      return a;
    }
    yc(b, c);
    b.prototype.setInfoListenerEnabled = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setInfoListenerEnabled", [a]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case Za[Za.INFO]:
          this.onInfo.trigger(b[0], b[1], b[2]);
          break;
        case Y[Y.GENERIC_ERROR]:
          this.onGenericError.trigger(b[0], b[1], b[2]);
          break;
        case Y[Y.PAUSE_ERROR]:
          this.onPauseError.trigger(b[0]);
          break;
        case Y[Y.PREPARE_ERROR]:
          this.onPrepareError.trigger(b[0]);
          break;
        case Y[Y.SEEKTO_ERROR]:
          this.onSeekToError.trigger(b[0]);
          break;
        case Y[Y.ILLEGAL_STATE]:
          this.onIllegalStateError.trigger();
          break;
        default:
          throw Error("VideoPlayer event " + a + " does not have an observable");
      }
    };
    return b;
  }(C), Ac = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), D;
  (function(c) {
    c[c.PROGRESS = 0] = "PROGRESS";
    c[c.COMPLETED = 1] = "COMPLETED";
    c[c.PREPARED = 2] = "PREPARED";
    c[c.PREPARE_TIMEOUT = 3] = "PREPARE_TIMEOUT";
    c[c.PLAY = 4] = "PLAY";
    c[c.PAUSE = 5] = "PAUSE";
    c[c.SEEKTO = 6] = "SEEKTO";
    c[c.STOP = 7] = "STOP";
  })(D || (D = {}));
  var Bc = function(c) {
    function b(a) {
      var b = c.call(this, a, "VideoPlayer") || this;
      b.onProgress = new r;
      b.onCompleted = new r;
      b.onPrepared = new nb;
      b.onPrepareTimeout = new r;
      b.onPlay = new r;
      b.onPause = new r;
      b.onSeek = new r;
      b.onStop = new r;
      a.getPlatform() === h.IOS ? b.Ios = new xc(a) : a.getPlatform() === h.ANDROID && (b.Android = new zc(a));
      return b;
    }
    Ac(b, c);
    b.prototype.setProgressEventInterval = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setProgressEventInterval", [a]);
    };
    b.prototype.getProgressEventInterval = function() {
      return this._nativeBridge.invoke(this._apiClass, "getProgressEventInterval");
    };
    b.prototype.prepare = function(a, b, c) {
      return this._nativeBridge.invoke(this._apiClass, "prepare", [a, b, c]);
    };
    b.prototype.play = function() {
      return this._nativeBridge.invoke(this._apiClass, "play");
    };
    b.prototype.pause = function() {
      return this._nativeBridge.invoke(this._apiClass, "pause");
    };
    b.prototype.stop = function() {
      return this._nativeBridge.invoke(this._apiClass, "stop");
    };
    b.prototype.seekTo = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "seekTo", [a]);
    };
    b.prototype.getCurrentPosition = function() {
      return this._nativeBridge.invoke(this._apiClass, "getCurrentPosition");
    };
    b.prototype.getVolume = function() {
      return this._nativeBridge.invoke(this._apiClass, "getVolume");
    };
    b.prototype.setVolume = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setVolume", [a]);
    };
    b.prototype.setAutomaticallyWaitsToMinimizeStalling = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setAutomaticallyWaitsToMinimizeStalling", [a]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case D[D.PROGRESS]:
          this.onProgress.trigger(b[0]);
          break;
        case D[D.COMPLETED]:
          this.onCompleted.trigger(b[0]);
          break;
        case D[D.PREPARED]:
          this.onPrepared.trigger(b[0], b[1], b[2], b[3]);
          break;
        case D[D.PREPARE_TIMEOUT]:
          this.onPrepareTimeout.trigger(b[0]);
          break;
        case D[D.PLAY]:
          this.onPlay.trigger(b[0]);
          break;
        case D[D.PAUSE]:
          this.onPause.trigger(b[0]);
          break;
        case D[D.SEEKTO]:
          this.onSeek.trigger(b[0]);
          break;
        case D[D.STOP]:
          this.onStop.trigger(b[0]);
          break;
        default:
          this._nativeBridge.getPlatform() === h.IOS ? this.Ios.handleEvent(a, b) : this._nativeBridge.getPlatform() === h.ANDROID && this.Android.handleEvent(a, b);
      }
    };
    return b;
  }(C), A;
  (function(c) {
    c[c.APPSHEET = 0] = "APPSHEET";
    c[c.ADUNIT = 1] = "ADUNIT";
    c[c.VIDEOPLAYER = 2] = "VIDEOPLAYER";
    c[c.CACHE = 3] = "CACHE";
    c[c.CONNECTIVITY = 4] = "CONNECTIVITY";
    c[c.STORAGE = 5] = "STORAGE";
    c[c.REQUEST = 6] = "REQUEST";
    c[c.RESOLVE = 7] = "RESOLVE";
    c[c.BROADCAST = 8] = "BROADCAST";
    c[c.NOTIFICATION = 9] = "NOTIFICATION";
    c[c.LIFECYCLE = 10] = "LIFECYCLE";
    c[c.DEVICEINFO = 11] = "DEVICEINFO";
  })(A || (A = {}));
  var Cc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Qa;
  (function(c) {
    c[c.COMPLETE = 0] = "COMPLETE";
    c[c.FAILED = 1] = "FAILED";
  })(Qa || (Qa = {}));
  var Dc = function(c) {
    function b(a) {
      a = c.call(this, a, "Resolve") || this;
      a.onComplete = new ua;
      a.onFailed = new nb;
      return a;
    }
    Cc(b, c);
    b.prototype.resolve = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "resolve", [a, b]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case Qa[Qa.COMPLETE]:
          this.onComplete.trigger(b[0], b[1], b[2]);
          break;
        case Qa[Qa.FAILED]:
          this.onFailed.trigger(b[0], b[1], b[2], b[3]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), Ec = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Fc = function(c) {
    function b(a) {
      return c.call(this, a, "Intent") || this;
    }
    Ec(b, c);
    b.prototype.launch = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "launch", [a]);
    };
    return b;
  }(C), u;
  (function(c) {
    c[c.COMPLETED = 0] = "COMPLETED";
    c[c.SKIPPED = 1] = "SKIPPED";
    c[c.ERROR = 2] = "ERROR";
  })(u || (u = {}));
  var Gc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Hc = function(c) {
    function b(a) {
      return c.call(this, a, "Listener") || this;
    }
    Gc(b, c);
    b.prototype.sendReadyEvent = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "sendReadyEvent", [a]);
    };
    b.prototype.sendStartEvent = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "sendStartEvent", [a]);
    };
    b.prototype.sendFinishEvent = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "sendFinishEvent", [a, u[b]]);
    };
    b.prototype.sendClickEvent = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "sendClickEvent", [a]);
    };
    b.prototype.sendPlacementStateChangedEvent = function(a, b, c) {
      return this._nativeBridge.invoke(this._apiClass, "sendPlacementStateChangedEvent", [a, b, c]);
    };
    b.prototype.sendErrorEvent = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "sendErrorEvent", [a, b]);
    };
    return b;
  }(C), Z = function() {
    return function(c, b) {
      this.message = c;
      this.name = b;
    };
  }(), aa = function() {
    function c() {
    }
    c.setRequest = function(b) {
      c._request = b;
    };
    c.setClientInfo = function(b) {
      c._clientInfo = b;
    };
    c.setDeviceInfo = function(b) {
      c._deviceInfo = b;
    };
    c.setConfiguration = function(b) {
      c._configuration = b;
    };
    c.sendEvent = function(b, a) {
      var d = [];
      d.push({type:"ads.sdk2." + b, msg:a});
      return c.createCommonObject(this._clientInfo, this._deviceInfo, this._configuration).then(function(b) {
        d.unshift(b);
        b = d.map(function(a) {
          return JSON.stringify(a);
        }).join("\n");
        if (c._request) {
          return c._request.post(c.KafkaBaseUrl, b);
        }
        console.dir(a);
        return Promise.resolve({});
      });
    };
    c.setTestBaseUrl = function(b) {
      c.KafkaBaseUrl = b + "/v1/events";
    };
    c.createCommonObject = function(b, a, d) {
      var f = {common:{client:b ? b.getDTO() : null, device:null, country:d ? d.getCountry() : null}};
      if (a && !c._deviceInfoUpdating) {
        return c._deviceInfoUpdating = !0, a.getDTO().then(function(a) {
          "undefined" !== typeof navigator && navigator.userAgent && (a.userAgent = navigator.userAgent);
          c._deviceInfoUpdating = !1;
          f.common.device = a;
          return f;
        }).catch(function() {
          c._deviceInfoUpdating = !1;
          f.common.device = a.getStaticDTO();
          return f;
        });
      }
      a && (f.common.device = a.getStaticDTO());
      return Promise.resolve(f);
    };
    c.KafkaBaseUrl = "https://httpkafka.unityads.unity3d.com/v1/events";
    c._deviceInfoUpdating = !1;
    return c;
  }(), t = function() {
    function c() {
    }
    c.trigger = function(b, a, d) {
      if (!a || "object" !== typeof a || Array.isArray(a)) {
        a = {value:a};
      }
      var c = {};
      c.type = b;
      c[b] = a;
      c.timestamp = Date.now();
      void 0 !== d && void 0 !== d.getAdPlan() && (c.adPlan = d.getAdPlan());
      return aa.sendEvent("diagnostics", c);
    };
    return c;
  }(), J = function() {
    function c(b, a, d) {
      void 0 === d && (d = {});
      this._data = {};
      this._schema = a;
      this._name = b;
      this.setModelValues(d);
    }
    c.prototype.set = function(b, a) {
      b in this._schema || this.handleError(new Z("model: " + this._name + " key:" + b + " not in schema", "SchemaError"));
      this.checkValue(a, this._schema[b]) ? this._data[b] = a : this.handleError(new Z("model: " + this._name + " key: " + b + " with value: " + a + ": " + this.getTypeOf(a) + " is not in: " + this._schema[b], "CheckValueError"));
    };
    c.prototype.setModelValues = function(b) {
      for (var a in b) {
        b.hasOwnProperty(a) && this.set(a, b[a]);
      }
    };
    c.prototype.get = function(b) {
      return this._data[b];
    };
    c.prototype.handleError = function(b) {
      t.trigger("set_model_value_failed", b);
      throw b;
    };
    c.prototype.getTypeOf = function(b) {
      var a = typeof b;
      Array.isArray(b) ? a = "array" : null === b ? a = "null" : "number" === a && Number.isInteger(b) && (a = "integer");
      return a;
    };
    c.prototype.checkValue = function(b, a) {
      for (var d = 0; d < a.length; d++) {
        var c = a[d], g = this.getTypeOf(b);
        if (g === c || "number" === c && "integer" === g) {
          return !0;
        }
      }
      return !1;
    };
    return c;
  }(), Ic = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), G;
  (function(c) {
    c[c.READY = 0] = "READY";
    c[c.NOT_AVAILABLE = 1] = "NOT_AVAILABLE";
    c[c.DISABLED = 2] = "DISABLED";
    c[c.WAITING = 3] = "WAITING";
    c[c.NO_FILL = 4] = "NO_FILL";
  })(G || (G = {}));
  var Jc = function(c) {
    function b(a) {
      var b = c.call(this, "Placement", {id:["string"], name:["string"], default:["boolean"], allowSkip:["boolean"], skipInSeconds:["number"], disableBackButton:["boolean"], muteVideo:["boolean"], adTypes:["array", "undefined"], state:["number"], previousState:["number"], placementStateChanged:["boolean"], currentCampaign:["object", "undefined"]}) || this;
      b.set("id", a.id);
      b.set("name", a.name);
      b.set("default", a.default);
      var f = a.allowSkip;
      b.set("allowSkip", f);
      f && b.set("skipInSeconds", a.skipInSeconds);
      b.set("disableBackButton", a.disableBackButton);
      b.set("muteVideo", a.muteVideo);
      b.set("adTypes", a.adTypes);
      b.set("state", G.NOT_AVAILABLE);
      return b;
    }
    Ic(b, c);
    b.prototype.getId = function() {
      return this.get("id");
    };
    b.prototype.getName = function() {
      return this.get("name");
    };
    b.prototype.isDefault = function() {
      return this.get("default");
    };
    b.prototype.allowSkip = function() {
      return this.get("allowSkip");
    };
    b.prototype.allowSkipInSeconds = function() {
      return this.get("skipInSeconds");
    };
    b.prototype.disableBackButton = function() {
      return this.get("disableBackButton");
    };
    b.prototype.muteVideo = function() {
      return this.get("muteVideo");
    };
    b.prototype.getAdTypes = function() {
      return this.get("adTypes");
    };
    b.prototype.getState = function() {
      return this.get("state");
    };
    b.prototype.setState = function(a) {
      this.getState() !== a && (this.set("previousState", this.getState()), this.setPlacementStateChanged(!0));
      this.set("state", a);
    };
    b.prototype.getPlacementStateChanged = function() {
      return this.get("placementStateChanged");
    };
    b.prototype.setPlacementStateChanged = function(a) {
      this.set("placementStateChanged", a);
    };
    b.prototype.getPreviousState = function() {
      return this.get("previousState");
    };
    b.prototype.getCurrentCampaign = function() {
      return this.get("currentCampaign");
    };
    b.prototype.setCurrentCampaign = function(a) {
      this.set("currentCampaign", a);
    };
    b.prototype.getDTO = function() {
      return {id:this.getId(), name:this.getName(), "default":this.isDefault(), allowSkip:this.allowSkip(), skipInSeconds:this.allowSkipInSeconds(), disableBackButton:this.disableBackButton(), muteVideo:this.muteVideo(), adTypes:this.getAdTypes(), state:G[this.getState()].toLowerCase()};
    };
    return b;
  }(J), Kc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Lc = function(c) {
    function b(a) {
      return c.call(this, a, "Placement") || this;
    }
    Kc(b, c);
    b.prototype.setDefaultPlacement = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setDefaultPlacement", [a]);
    };
    b.prototype.setPlacementState = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "setPlacementState", [a, G[b]]);
    };
    b.prototype.setPlacementAnalytics = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setPlacementAnalytics", [a]);
    };
    return b;
  }(C), Mc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Nc = function(c) {
    function b(a) {
      return c.call(this, a, "Sdk") || this;
    }
    Mc(b, c);
    b.prototype.loadComplete = function() {
      return this._nativeBridge.invoke(this._apiClass, "loadComplete");
    };
    b.prototype.initComplete = function() {
      return this._nativeBridge.invoke(this._apiClass, "initComplete");
    };
    b.prototype.setDebugMode = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setDebugMode", [a]);
    };
    b.prototype.getDebugMode = function() {
      return this._nativeBridge.invoke(this._apiClass, "getDebugMode");
    };
    b.prototype.logError = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "logError", [a]);
    };
    b.prototype.logWarning = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "logWarning", [a]);
    };
    b.prototype.logInfo = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "logInfo", [a]);
    };
    b.prototype.logDebug = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "logDebug", [a]);
    };
    b.prototype.setShowTimeout = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setShowTimeout", [a]);
    };
    b.prototype.reinitialize = function() {
      this._nativeBridge.invoke(this._apiClass, "reinitialize");
    };
    return b;
  }(C), Oc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), n;
  (function(c) {
    c[c.PRIVATE = 0] = "PRIVATE";
    c[c.PUBLIC = 1] = "PUBLIC";
  })(n || (n = {}));
  var z;
  (function(c) {
    c[c.COULDNT_SET_VALUE = 0] = "COULDNT_SET_VALUE";
    c[c.COULDNT_GET_VALUE = 1] = "COULDNT_GET_VALUE";
    c[c.COULDNT_WRITE_STORAGE_TO_CACHE = 2] = "COULDNT_WRITE_STORAGE_TO_CACHE";
    c[c.COULDNT_CLEAR_STORAGE = 3] = "COULDNT_CLEAR_STORAGE";
    c[c.COULDNT_GET_STORAGE = 4] = "COULDNT_GET_STORAGE";
    c[c.COULDNT_DELETE_VALUE = 5] = "COULDNT_DELETE_VALUE";
  })(z || (z = {}));
  var $a;
  (function(c) {
    c[c.SET = 0] = "SET";
  })($a || ($a = {}));
  var Pc = function(c) {
    function b(a) {
      a = c.call(this, a, "Storage") || this;
      a.onSet = new U;
      return a;
    }
    Oc(b, c);
    b.prototype.read = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "read", [n[a]]);
    };
    b.prototype.write = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "write", [n[a]]);
    };
    b.prototype.get = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "get", [n[a], b]);
    };
    b.prototype.set = function(a, b, c) {
      return this._nativeBridge.invoke(this._apiClass, "set", [n[a], b, c]);
    };
    b.prototype.delete = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "delete", [n[a], b]);
    };
    b.prototype.clear = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "clear", [n[a]]);
    };
    b.prototype.getKeys = function(a, b, c) {
      return this._nativeBridge.invoke(this._apiClass, "getKeys", [n[a], b, c]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case $a[$a.SET]:
          this.onSet.trigger(b[0], b[1]);
      }
    };
    return b;
  }(C), Qc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), wa;
  (function(c) {
    c[c.EXTERNAL = 0] = "EXTERNAL";
    c[c.INTERNAL = 1] = "INTERNAL";
  })(wa || (wa = {}));
  var Rc = function(c) {
    function b(a) {
      a = c.call(this, a, "DeviceInfo") || this;
      a.onVolumeChanged = new ua;
      return a;
    }
    Qc(b, c);
    b.prototype.getAndroidId = function() {
      return this._nativeBridge.invoke(this._apiClass, "getAndroidId");
    };
    b.prototype.getApiLevel = function() {
      return this._nativeBridge.invoke(this._apiClass, "getApiLevel");
    };
    b.prototype.getManufacturer = function() {
      return this._nativeBridge.invoke(this._apiClass, "getManufacturer");
    };
    b.prototype.getScreenLayout = function() {
      return this._nativeBridge.invoke(this._apiClass, "getScreenLayout");
    };
    b.prototype.getScreenDensity = function() {
      return this._nativeBridge.invoke(this._apiClass, "getScreenDensity");
    };
    b.prototype.isAppInstalled = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "isAppInstalled", [a]);
    };
    b.prototype.getInstalledPackages = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getInstalledPackages", [a]);
    };
    b.prototype.getPackageInfo = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getPackageInfo", [a]);
    };
    b.prototype.getSystemProperty = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "getSystemProperty", [a, b]);
    };
    b.prototype.getRingerMode = function() {
      return this._nativeBridge.invoke(this._apiClass, "getRingerMode");
    };
    b.prototype.getDeviceVolume = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getDeviceVolume", [a]);
    };
    b.prototype.getDeviceMaxVolume = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getDeviceMaxVolume", [a]);
    };
    b.prototype.registerVolumeChangeListener = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "registerVolumeChangeListener", [a]);
    };
    b.prototype.unregisterVolumeChangeListener = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "unregisterVolumeChangeListener", [a]);
    };
    b.prototype.getFreeSpace = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getFreeSpace", [wa[a]]);
    };
    b.prototype.getTotalSpace = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getTotalSpace", [wa[a]]);
    };
    b.prototype.getSensorList = function() {
      return this._nativeBridge.invoke(this._apiClass, "getSensorList");
    };
    b.prototype.getBoard = function() {
      return this._nativeBridge.invoke(this._apiClass, "getBoard");
    };
    b.prototype.getBootloader = function() {
      return this._nativeBridge.invoke(this._apiClass, "getBootloader");
    };
    b.prototype.getDevice = function() {
      return this._nativeBridge.invoke(this._apiClass, "getDevice");
    };
    b.prototype.getHardware = function() {
      return this._nativeBridge.invoke(this._apiClass, "getHardware");
    };
    b.prototype.getHost = function() {
      return this._nativeBridge.invoke(this._apiClass, "getHost");
    };
    b.prototype.getProduct = function() {
      return this._nativeBridge.invoke(this._apiClass, "getProduct");
    };
    b.prototype.getSupportedAbis = function() {
      return this._nativeBridge.invoke(this._apiClass, "getSupportedAbis");
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case Ra[Ra.VOLUME_CHANGED]:
          this.onVolumeChanged.trigger(b[0], b[1], b[2]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), Sc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Tc = function(c) {
    function b(a) {
      a = c.call(this, a, "DeviceInfo") || this;
      a.onVolumeChanged = new U;
      return a;
    }
    Sc(b, c);
    b.prototype.getScreenScale = function() {
      return this._nativeBridge.invoke(this._apiClass, "getScreenScale");
    };
    b.prototype.getUserInterfaceIdiom = function() {
      return this._nativeBridge.invoke(this._apiClass, "getUserInterfaceIdiom");
    };
    b.prototype.getDeviceVolume = function() {
      return this._nativeBridge.invoke(this._apiClass, "getDeviceVolume");
    };
    b.prototype.getFreeSpace = function() {
      return this._nativeBridge.invoke(this._apiClass, "getFreeSpace");
    };
    b.prototype.getTotalSpace = function() {
      return this._nativeBridge.invoke(this._apiClass, "getTotalSpace");
    };
    b.prototype.isSimulator = function() {
      return this._nativeBridge.invoke(this._apiClass, "isSimulator");
    };
    b.prototype.getSensorList = function() {
      return this._nativeBridge.invoke(this._apiClass, "getSensorList");
    };
    b.prototype.getStatusBarHeight = function() {
      return this._nativeBridge.invoke(this._apiClass, "getStatusBarHeight");
    };
    b.prototype.getDeviceMaxVolume = function() {
      return this._nativeBridge.invoke(this._apiClass, "getDeviceMaxVolume");
    };
    b.prototype.registerVolumeChangeListener = function() {
      return this._nativeBridge.invoke(this._apiClass, "registerVolumeChangeListener");
    };
    b.prototype.unregisterVolumeChangeListener = function() {
      return this._nativeBridge.invoke(this._apiClass, "unregisterVolumeChangeListener");
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case Ra[Ra.VOLUME_CHANGED]:
          this.onVolumeChanged.trigger(b[0], b[1]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), Uc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Ra;
  (function(c) {
    c[c.VOLUME_CHANGED = 0] = "VOLUME_CHANGED";
  })(Ra || (Ra = {}));
  var Vc = function(c) {
    function b(a) {
      var b = c.call(this, a, "DeviceInfo") || this;
      a.getPlatform() === h.IOS ? b.Ios = new Tc(a) : b.Android = new Rc(a);
      return b;
    }
    Uc(b, c);
    b.prototype.getAdvertisingTrackingId = function() {
      return this._nativeBridge.invoke(this._apiClass, "getAdvertisingTrackingId");
    };
    b.prototype.getLimitAdTrackingFlag = function() {
      return this._nativeBridge.invoke(this._apiClass, "getLimitAdTrackingFlag");
    };
    b.prototype.getOsVersion = function() {
      return this._nativeBridge.invoke(this._apiClass, "getOsVersion");
    };
    b.prototype.getModel = function() {
      return this._nativeBridge.invoke(this._apiClass, "getModel");
    };
    b.prototype.getScreenWidth = function() {
      return this._nativeBridge.invoke(this._apiClass, "getScreenWidth");
    };
    b.prototype.getScreenHeight = function() {
      return this._nativeBridge.invoke(this._apiClass, "getScreenHeight");
    };
    b.prototype.getTimeZone = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getTimeZone", [a]);
    };
    b.prototype.getConnectionType = function() {
      return this._nativeBridge.invoke(this._apiClass, "getConnectionType");
    };
    b.prototype.getNetworkType = function() {
      return this._nativeBridge.invoke(this._apiClass, "getNetworkType");
    };
    b.prototype.getNetworkOperator = function() {
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.invoke(this._apiClass, "getNetworkOperator").then(function(a) {
        return "string" === typeof a ? a : "";
      }) : this._nativeBridge.invoke(this._apiClass, "getNetworkOperator");
    };
    b.prototype.getNetworkOperatorName = function() {
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.invoke(this._apiClass, "getNetworkOperatorName").then(function(a) {
        return "string" === typeof a ? a : "";
      }) : this._nativeBridge.invoke(this._apiClass, "getNetworkOperatorName");
    };
    b.prototype.isRooted = function() {
      return this._nativeBridge.invoke(this._apiClass, "isRooted");
    };
    b.prototype.getUniqueEventId = function() {
      return this._nativeBridge.invoke(this._apiClass, "getUniqueEventId");
    };
    b.prototype.getHeadset = function() {
      return this._nativeBridge.invoke(this._apiClass, "getHeadset");
    };
    b.prototype.getSystemLanguage = function() {
      return this._nativeBridge.invoke(this._apiClass, "getSystemLanguage");
    };
    b.prototype.getScreenBrightness = function() {
      return this._nativeBridge.invoke(this._apiClass, "getScreenBrightness");
    };
    b.prototype.getBatteryLevel = function() {
      return this._nativeBridge.invoke(this._apiClass, "getBatteryLevel");
    };
    b.prototype.getBatteryStatus = function() {
      return this._nativeBridge.invoke(this._apiClass, "getBatteryStatus");
    };
    b.prototype.getFreeMemory = function() {
      return this._nativeBridge.invoke(this._apiClass, "getFreeMemory");
    };
    b.prototype.getTotalMemory = function() {
      return this._nativeBridge.invoke(this._apiClass, "getTotalMemory");
    };
    b.prototype.getGLVersion = function() {
      return this._nativeBridge.invoke(this._apiClass, "getGLVersion");
    };
    return b;
  }(C), Wc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ia;
  (function(c) {
    c[c.PREPARED = 0] = "PREPARED";
    c[c.OPENED = 1] = "OPENED";
    c[c.CLOSED = 2] = "CLOSED";
    c[c.FAILED = 3] = "FAILED";
  })(ia || (ia = {}));
  var Xc = function(c) {
    function b(a) {
      a = c.call(this, a, "AppSheet") || this;
      a.onPrepared = new r;
      a.onOpen = new r;
      a.onClose = new r;
      a.onError = new U;
      return a;
    }
    Wc(b, c);
    b.prototype.canOpen = function() {
      return this._nativeBridge.invoke(this._apiClass, "canOpen");
    };
    b.prototype.prepare = function(a, b) {
      void 0 === b && (b = 30000);
      return this._nativeBridge.invoke(this._apiClass, "prepare", [a, b]);
    };
    b.prototype.present = function(a, b) {
      void 0 === b && (b = !0);
      return this._nativeBridge.invoke(this._apiClass, "present", [a, b]);
    };
    b.prototype.destroy = function(a) {
      return "undefined" === typeof a ? this._nativeBridge.invoke(this._apiClass, "destroy") : this._nativeBridge.invoke(this._apiClass, "destroy", [a]);
    };
    b.prototype.setPrepareTimeout = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setPrepareTimeout", [a]);
    };
    b.prototype.getPrepareTimeout = function() {
      return this._nativeBridge.invoke(this._apiClass, "getPrepareTimeout");
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case ia[ia.PREPARED]:
          this.onPrepared.trigger(b[0]);
          break;
        case ia[ia.OPENED]:
          this.onOpen.trigger(b[0]);
          break;
        case ia[ia.CLOSED]:
          this.onClose.trigger(b[0]);
          break;
        case ia[ia.FAILED]:
          this.onError.trigger(b[0], b[1]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), pb = function() {
    return function(c, b) {
      this.resolve = c;
      this.reject = b;
    };
  }(), Yc = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), L;
  (function(c) {
    c[c.ON_START = 0] = "ON_START";
    c[c.ON_CREATE = 1] = "ON_CREATE";
    c[c.ON_RESUME = 2] = "ON_RESUME";
    c[c.ON_DESTROY = 3] = "ON_DESTROY";
    c[c.ON_PAUSE = 4] = "ON_PAUSE";
    c[c.KEY_DOWN = 5] = "KEY_DOWN";
    c[c.ON_RESTORE = 6] = "ON_RESTORE";
    c[c.ON_STOP = 7] = "ON_STOP";
  })(L || (L = {}));
  var Hb;
  (function(c) {
    c[c.ADUNIT_NULL = 0] = "ADUNIT_NULL";
    c[c.ACTIVITY_ID = 1] = "ACTIVITY_ID";
    c[c.GENERIC = 2] = "GENERIC";
    c[c.ORIENTATION = 3] = "ORIENTATION";
    c[c.SCREENVISIBILITY = 4] = "SCREENVISIBILITY";
    c[c.CORRUPTED_VIEWLIST = 5] = "CORRUPTED_VIEWLIST";
    c[c.CORRUPTED_KEYEVENTLIST = 6] = "CORRUPTED_KEYEVENTLIST";
    c[c.SYSTEM_UI_VISIBILITY = 7] = "SYSTEM_UI_VISIBILITY";
    c[c.UNKNOWN_VIEW = 8] = "UNKNOWN_VIEW";
  })(Hb || (Hb = {}));
  var Zc = function(c) {
    function b(a) {
      a = c.call(this, a, "AdUnit") || this;
      a.onStart = new r;
      a.onCreate = new r;
      a.onResume = new r;
      a.onDestroy = new U;
      a.onPause = new U;
      a.onKeyDown = new ob;
      a.onRestore = new r;
      a.onStop = new r;
      return a;
    }
    Yc(b, c);
    b.prototype.open = function(a, b, c, g, l, e, m) {
      void 0 === g && (g = []);
      void 0 === l && (l = 0);
      void 0 === e && (e = !0);
      void 0 === m && (m = !1);
      return this._nativeBridge.invoke(this._apiClass, "open", [a, b, c, g, l, e, m]);
    };
    b.prototype.close = function() {
      return this._nativeBridge.invoke(this._apiClass, "close");
    };
    b.prototype.setViews = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setViews", [a]);
    };
    b.prototype.getViews = function() {
      return this._nativeBridge.invoke(this._apiClass, "getViews");
    };
    b.prototype.setOrientation = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setOrientation", [a]);
    };
    b.prototype.getOrientation = function() {
      return this._nativeBridge.invoke(this._apiClass, "getOrientation");
    };
    b.prototype.setKeepScreenOn = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setKeepScreenOn", [a]);
    };
    b.prototype.setSystemUiVisibility = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setSystemUiVisibility", [a]);
    };
    b.prototype.setKeyEventList = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setKeyEventList", [a]);
    };
    b.prototype.setViewFrame = function(a, b, c, g, l) {
      return this._nativeBridge.invoke(this._apiClass, "setViewFrame", [a, b, c, g, l]);
    };
    b.prototype.getViewFrame = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getViewFrame", [a]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case L[L.ON_START]:
          this.onStart.trigger(b[0]);
          break;
        case L[L.ON_CREATE]:
          this.onCreate.trigger(b[0]);
          break;
        case L[L.ON_RESUME]:
          this.onResume.trigger(b[0]);
          break;
        case L[L.ON_DESTROY]:
          this.onDestroy.trigger(b[0], b[1]);
          break;
        case L[L.ON_PAUSE]:
          this.onPause.trigger(b[0], b[1]);
          break;
        case L[L.KEY_DOWN]:
          this.onKeyDown.trigger(b[0], b[1], b[2], b[3], b[4]);
          break;
        case L[L.ON_RESTORE]:
          this.onRestore.trigger(b[0]);
          break;
        case L[L.ON_STOP]:
          this.onStop.trigger(b[0]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), $c = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), R;
  (function(c) {
    c[c.VIEW_CONTROLLER_INIT = 0] = "VIEW_CONTROLLER_INIT";
    c[c.VIEW_CONTROLLER_DID_LOAD = 1] = "VIEW_CONTROLLER_DID_LOAD";
    c[c.VIEW_CONTROLLER_DID_APPEAR = 2] = "VIEW_CONTROLLER_DID_APPEAR";
    c[c.VIEW_CONTROLLER_WILL_DISAPPEAR = 3] = "VIEW_CONTROLLER_WILL_DISAPPEAR";
    c[c.VIEW_CONTROLLER_DID_DISAPPEAR = 4] = "VIEW_CONTROLLER_DID_DISAPPEAR";
    c[c.VIEW_CONTROLLER_DID_RECEIVE_MEMORY_WARNING = 5] = "VIEW_CONTROLLER_DID_RECEIVE_MEMORY_WARNING";
  })(R || (R = {}));
  var Ib;
  (function(c) {
    c[c.ADUNIT_NULL = 0] = "ADUNIT_NULL";
    c[c.NO_ROTATION_Z = 1] = "NO_ROTATION_Z";
    c[c.UNKNOWN_VIEW = 2] = "UNKNOWN_VIEW";
  })(Ib || (Ib = {}));
  var ad = function(c) {
    function b(a) {
      a = c.call(this, a, "AdUnit") || this;
      a.onViewControllerInit = new x;
      a.onViewControllerDidLoad = new x;
      a.onViewControllerDidAppear = new x;
      a.onViewControllerWillDisappear = new x;
      a.onViewControllerDidDisappear = new x;
      a.onViewControllerDidReceiveMemoryWarning = new x;
      return a;
    }
    $c(b, c);
    b.prototype.open = function(a, b, c, g, l, e) {
      return this._nativeBridge.invoke(this._apiClass, "open", [a, b, c, g, l, e]);
    };
    b.prototype.close = function() {
      return this._nativeBridge.invoke(this._apiClass, "close");
    };
    b.prototype.setViews = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setViews", [a]);
    };
    b.prototype.getViews = function() {
      return this._nativeBridge.invoke(this._apiClass, "getViews");
    };
    b.prototype.setSupportedOrientations = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setSupportedOrientations", [a]);
    };
    b.prototype.getSupportedOrientations = function() {
      return this._nativeBridge.invoke(this._apiClass, "getSupportedOrientations");
    };
    b.prototype.setKeepScreenOn = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setKeepScreenOn", [a]);
    };
    b.prototype.setStatusBarHidden = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setStatusBarHidden", [a]);
    };
    b.prototype.getStatusBarHidden = function() {
      return this._nativeBridge.invoke(this._apiClass, "getStatusBarHidden");
    };
    b.prototype.setShouldAutorotate = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setShouldAutorotate", [a]);
    };
    b.prototype.getShouldAutorotate = function() {
      return this._nativeBridge.invoke(this._apiClass, "getShouldAutorotate");
    };
    b.prototype.setTransform = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "setTransform", [a]);
    };
    b.prototype.getTransform = function() {
      return this._nativeBridge.invoke(this._apiClass, "getTransform");
    };
    b.prototype.setViewFrame = function(a, b, c, g, l) {
      return this._nativeBridge.invoke(this._apiClass, "setViewFrame", [a, b, c, g, l]);
    };
    b.prototype.getViewFrame = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "getViewFrame", [a]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case R[R.VIEW_CONTROLLER_INIT]:
          this.onViewControllerInit.trigger();
          break;
        case R[R.VIEW_CONTROLLER_DID_LOAD]:
          this.onViewControllerDidLoad.trigger();
          break;
        case R[R.VIEW_CONTROLLER_DID_APPEAR]:
          this.onViewControllerDidAppear.trigger();
          break;
        case R[R.VIEW_CONTROLLER_WILL_DISAPPEAR]:
          this.onViewControllerWillDisappear.trigger();
          break;
        case R[R.VIEW_CONTROLLER_DID_DISAPPEAR]:
          this.onViewControllerDidDisappear.trigger();
          break;
        case R[R.VIEW_CONTROLLER_DID_RECEIVE_MEMORY_WARNING]:
          this.onViewControllerDidReceiveMemoryWarning.trigger();
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), bd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ab;
  (function(c) {
    c[c.ACTION = 0] = "ACTION";
  })(ab || (ab = {}));
  var cd = function(c) {
    function b(a) {
      a = c.call(this, a, "Notification") || this;
      a.onNotification = new U;
      return a;
    }
    bd(b, c);
    b.prototype.addNotificationObserver = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "addNotificationObserver", [a, b]);
    };
    b.prototype.removeNotificationObserver = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "removeNotificationObserver", [a]);
    };
    b.prototype.removeAllNotificationObservers = function() {
      return this._nativeBridge.invoke(this._apiClass, "removeAllNotificationObservers");
    };
    b.prototype.addAVNotificationObserver = function(a, b) {
      return this._nativeBridge.invoke(this._apiClass, "addAVNotificationObserver", [a, b]);
    };
    b.prototype.removeAVNotificationObserver = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "removeAVNotificationObserver", [a]);
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case ab[ab.ACTION]:
          this.onNotification.trigger(b[0], b[1]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), dd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ed = function(c) {
    function b(a) {
      return c.call(this, a, "UrlScheme") || this;
    }
    dd(b, c);
    b.prototype.open = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "open", [a]);
    };
    return b;
  }(C), fd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Jb;
  (function(c) {
    c[c.APPLICATION_NULL = 0] = "APPLICATION_NULL";
    c[c.LISTENER_NOT_NULL = 1] = "LISTENER_NOT_NULL";
    c[c.JSON_ERROR = 2] = "JSON_ERROR";
  })(Jb || (Jb = {}));
  var Q;
  (function(c) {
    c[c.CREATED = 0] = "CREATED";
    c[c.STARTED = 1] = "STARTED";
    c[c.RESUMED = 2] = "RESUMED";
    c[c.PAUSED = 3] = "PAUSED";
    c[c.STOPPED = 4] = "STOPPED";
    c[c.SAVE_INSTANCE_STATE = 5] = "SAVE_INSTANCE_STATE";
    c[c.DESTROYED = 6] = "DESTROYED";
  })(Q || (Q = {}));
  var gd = function(c) {
    function b(a) {
      a = c.call(this, a, "Lifecycle") || this;
      a.onActivityCreated = new r;
      a.onActivityStarted = new r;
      a.onActivityResumed = new r;
      a.onActivityPaused = new r;
      a.onActivityStopped = new r;
      a.onActivitySaveInstanceState = new r;
      a.onActivityDestroyed = new r;
      return a;
    }
    fd(b, c);
    b.prototype.register = function(a) {
      return this._nativeBridge.invoke(this._apiClass, "register", [a]);
    };
    b.prototype.unregister = function() {
      return this._nativeBridge.invoke(this._apiClass, "unregister");
    };
    b.prototype.handleEvent = function(a, b) {
      switch(a) {
        case Q[Q.CREATED]:
          this.onActivityCreated.trigger(b[0]);
          break;
        case Q[Q.STARTED]:
          this.onActivityStarted.trigger(b[0]);
          break;
        case Q[Q.RESUMED]:
          this.onActivityResumed.trigger(b[0]);
          break;
        case Q[Q.PAUSED]:
          this.onActivityPaused.trigger(b[0]);
          break;
        case Q[Q.STOPPED]:
          this.onActivityStopped.trigger(b[0]);
          break;
        case Q[Q.SAVE_INSTANCE_STATE]:
          this.onActivitySaveInstanceState.trigger(b[0]);
          break;
        case Q[Q.DESTROYED]:
          this.onActivityDestroyed.trigger(b[0]);
          break;
        default:
          c.prototype.handleEvent.call(this, a, b);
      }
    };
    return b;
  }(C), ba;
  (function(c) {
    c[c.OK = 0] = "OK";
    c[c.ERROR = 1] = "ERROR";
  })(ba || (ba = {}));
  var qb = function() {
    function c(b, a, d) {
      void 0 === a && (a = h.TEST);
      void 0 === d && (d = !0);
      this._callbackId = 1;
      this._callbackTable = {};
      this._autoBatchInterval = 50;
      this._autoBatchEnabled = d;
      this._platform = a;
      this._backend = b;
      this.AppSheet = new Xc(this);
      a === h.IOS ? this.IosAdUnit = new ad(this) : this.AndroidAdUnit = new Zc(this);
      this.Broadcast = new lc(this);
      this.Cache = new rc(this);
      this.Connectivity = new tc(this);
      this.DeviceInfo = new Vc(this);
      this.Intent = new Fc(this);
      this.Listener = new Hc(this);
      this.Lifecycle = new gd(this);
      this.Notification = new cd(this);
      this.Placement = new Lc(this);
      this.Request = new vc(this);
      this.Resolve = new Dc(this);
      this.Sdk = new Nc(this);
      this.Storage = new Pc(this);
      this.VideoPlayer = new Bc(this);
      this.UrlScheme = new ed(this);
    }
    c.convertStatus = function(b) {
      switch(b) {
        case ba[ba.OK]:
          return ba.OK;
        case ba[ba.ERROR]:
          return ba.ERROR;
        default:
          throw Error("Status string is not valid: " + b);
      }
    };
    c.prototype.registerCallback = function(b, a) {
      var d = this._callbackId++;
      this._callbackTable[d] = new pb(b, a);
      return d;
    };
    c.prototype.invoke = function(b, a, d) {
      var c = this;
      if (this._autoBatchEnabled) {
        this._autoBatch || (this._autoBatch = new Fb(this)), b = this._autoBatch.queue(b, a, d), this._autoBatchTimer || (this._autoBatchTimer = setTimeout(function() {
          c.invokeBatch(c._autoBatch);
          delete c._autoBatch;
          c._autoBatchTimer = null;
        }, this._autoBatchInterval));
      } else {
        var g = new Fb(this);
        b = g.queue(b, a, d);
        this.invokeBatch(g);
      }
      return b;
    };
    c.prototype.handleCallback = function(b) {
      var a = this;
      b.forEach(function(b) {
        var d = parseInt(b.shift(), 10), g = c.convertStatus(b.shift());
        b = b.shift();
        var l = a._callbackTable[d];
        if (!l) {
          throw Error("Unable to find matching callback object from callback id " + d);
        }
        1 === b.length && (b = b[0]);
        switch(g) {
          case ba.OK:
            l.resolve(b);
            break;
          case ba.ERROR:
            l.reject(b);
            break;
          default:
            throw Error("Unknown callback status");
        }
        delete a._callbackTable[d];
      });
    };
    c.prototype.handleEvent = function(b) {
      var a = b.shift(), d = b.shift();
      switch(a) {
        case A[A.APPSHEET]:
          this.AppSheet.handleEvent(d, b);
          break;
        case A[A.ADUNIT]:
          this.getPlatform() === h.IOS ? this.IosAdUnit.handleEvent(d, b) : this.AndroidAdUnit.handleEvent(d, b);
          break;
        case A[A.BROADCAST]:
          this.Broadcast.handleEvent(d, b);
          break;
        case A[A.CACHE]:
          this.Cache.handleEvent(d, b);
          break;
        case A[A.CONNECTIVITY]:
          this.Connectivity.handleEvent(d, b);
          break;
        case A[A.NOTIFICATION]:
          this.Notification.handleEvent(d, b);
          break;
        case A[A.LIFECYCLE]:
          this.Lifecycle.handleEvent(d, b);
          break;
        case A[A.REQUEST]:
          this.Request.handleEvent(d, b);
          break;
        case A[A.RESOLVE]:
          this.Resolve.handleEvent(d, b);
          break;
        case A[A.VIDEOPLAYER]:
          this.VideoPlayer.handleEvent(d, b);
          break;
        case A[A.STORAGE]:
          this.Storage.handleEvent(d, b);
          break;
        case A[A.DEVICEINFO]:
          this.getPlatform() === h.IOS ? this.DeviceInfo.Ios.handleEvent(d, b) : this.DeviceInfo.Android.handleEvent(d, b);
          break;
        default:
          throw Error("Unknown event category: " + a);
      }
    };
    c.prototype.handleInvocation = function(b) {
      var a = this, d = b.shift(), c = b.shift(), g = b.shift();
      b.push(function(b) {
        for (var d = [], c = 1; c < arguments.length; c++) {
          d[c - 1] = arguments[c];
        }
        a.invokeCallback.apply(a, [g, ba[b]].concat(d));
      });
      window[d][c].apply(window[d], b);
    };
    c.prototype.setApiLevel = function(b) {
      this._apiLevel = b;
    };
    c.prototype.getApiLevel = function() {
      return this._apiLevel;
    };
    c.prototype.getPlatform = function() {
      return this._platform;
    };
    c.prototype.invokeBatch = function(b) {
      this._backend.handleInvocation(JSON.stringify(b.getBatch()).replace(c._doubleRegExp, "$1"));
    };
    c.prototype.invokeCallback = function(b, a) {
      for (var d = [], c = 2; c < arguments.length; c++) {
        d[c - 2] = arguments[c];
      }
      this._backend.handleCallback(b, a, JSON.stringify(d));
    };
    c._doubleRegExp = /"(\d+\.\d+)=double"/g;
    return c;
  }(), Fa;
  (function(c) {
    c[c.STREAM_ALARM = 4] = "STREAM_ALARM";
    c[c.STREAM_DTMF = 8] = "STREAM_DTMF";
    c[c.STREAM_MUSIC = 3] = "STREAM_MUSIC";
    c[c.STREAM_NOTIFICATION = 5] = "STREAM_NOTIFICATION";
    c[c.STREAM_RING = 2] = "STREAM_RING";
    c[c.STREAM_SYSTEM = 1] = "STREAM_SYSTEM";
    c[c.STREAM_VOICE_CALL = 0] = "STREAM_VOICE_CALL";
  })(Fa || (Fa = {}));
  var hd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), id = function(c) {
    function b(a) {
      var b = c.call(this, "DeviceInfo", {androidId:["string"], advertisingIdentifier:["string", "undefined", "null"], limitAdTracking:["boolean", "undefined"], apiLevel:["number"], osVersion:["string"], manufacturer:["string"], model:["string"], connectionType:["string"], networkType:["number"], screenLayout:["number"], screenDensity:["number"], screenWidth:["integer"], screenHeight:["integer"], screenScale:["number"], userInterfaceIdiom:["number"], networkOperator:["string", "null"], networkOperatorName:["string", 
      "null"], timeZone:["string"], headset:["boolean"], ringerMode:["number"], language:["string"], volume:["number"], screenBrightness:["number"], freeExternalSpace:["number"], totalExternalSpace:["number"], freeInternalSpace:["number"], totalInternalSpace:["number"], batteryLevel:["number"], batteryStatus:["number"], freeMemory:["number"], totalMemory:["number"], rooted:["boolean"], simulator:["boolean"], isGoogleStoreInstalled:["boolean"], isXiaomiStoreInstalled:["boolean"], statusBarHeight:["number"]}) || 
      this;
      b._nativeBridge = a;
      return b;
    }
    hd(b, c);
    b.prototype.fetch = function() {
      var a = this, d = [];
      d.push(this._nativeBridge.DeviceInfo.getAdvertisingTrackingId().then(function(b) {
        return a.set("advertisingIdentifier", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getLimitAdTrackingFlag().then(function(b) {
        return a.set("limitAdTracking", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getOsVersion().then(function(b) {
        return a.set("osVersion", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getModel().then(function(b) {
        return a.set("model", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getScreenWidth().then(function(b) {
        return a.set("screenWidth", Math.floor(b));
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getScreenHeight().then(function(b) {
        return a.set("screenHeight", Math.floor(b));
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getSystemLanguage().then(function(b) {
        return a.set("language", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.isRooted().then(function(b) {
        return a.set("rooted", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getTimeZone(!1).then(function(b) {
        return a.set("timeZone", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      d.push(this._nativeBridge.DeviceInfo.getTotalMemory().then(function(b) {
        return a.set("totalMemory", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }));
      this._nativeBridge.getPlatform() === h.IOS ? (d.push(this._nativeBridge.DeviceInfo.Ios.getUserInterfaceIdiom().then(function(b) {
        return a.set("userInterfaceIdiom", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Ios.getScreenScale().then(function(b) {
        return a.set("screenScale", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Ios.isSimulator().then(function(b) {
        return a.set("simulator", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Ios.getTotalSpace().then(function(b) {
        return a.set("totalInternalSpace", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Ios.getStatusBarHeight().then(function(b) {
        return a.set("statusBarHeight", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      }))) : this._nativeBridge.getPlatform() === h.ANDROID && (d.push(this._nativeBridge.DeviceInfo.Android.getAndroidId().then(function(b) {
        return a.set("androidId", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.getApiLevel().then(function(b) {
        return a.set("apiLevel", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.getTotalSpace(wa.INTERNAL).then(function(b) {
        return a.set("totalInternalSpace", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.getTotalSpace(wa.EXTERNAL).then(function(b) {
        return a.set("totalExternalSpace", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.getManufacturer().then(function(b) {
        return a.set("manufacturer", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.getScreenDensity().then(function(b) {
        return a.set("screenDensity", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.getScreenLayout().then(function(b) {
        return a.set("screenLayout", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.isAppInstalled(b.GooglePlayPackageName).then(function(b) {
        return a.set("isGoogleStoreInstalled", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })), d.push(this._nativeBridge.DeviceInfo.Android.isAppInstalled(b.XiaomiPackageName).then(function(b) {
        return a.set("isXiaomiStoreInstalled", b);
      }).catch(function(b) {
        return a.handleDeviceInfoError(b);
      })));
      return Promise.all(d);
    };
    b.prototype.getStores = function() {
      var a = "";
      this._nativeBridge.getPlatform() === h.IOS ? a = "apple" : (this.isGoogleStoreInstalled() && (a = "google"), this.isXiaomiStoreInstalled() && (a = "xiaomi"), this.isXiaomiStoreInstalled() && this.isGoogleStoreInstalled() && (a = "xiaomi,google"), this.isXiaomiStoreInstalled() || this.isGoogleStoreInstalled() || (a = "none"));
      return a;
    };
    b.prototype.isGoogleStoreInstalled = function() {
      return this.get("isGoogleStoreInstalled");
    };
    b.prototype.isXiaomiStoreInstalled = function() {
      return this.get("isXiaomiStoreInstalled");
    };
    b.prototype.getAndroidId = function() {
      return this.get("androidId");
    };
    b.prototype.getAdvertisingIdentifier = function() {
      return this.get("advertisingIdentifier");
    };
    b.prototype.getLimitAdTracking = function() {
      return this.get("limitAdTracking");
    };
    b.prototype.getApiLevel = function() {
      return this.get("apiLevel");
    };
    b.prototype.getManufacturer = function() {
      return this.get("manufacturer");
    };
    b.prototype.getModel = function() {
      return this.get("model");
    };
    b.prototype.getNetworkType = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getNetworkType().then(function(b) {
        a.set("networkType", b);
        return a.get("networkType");
      });
    };
    b.prototype.getNetworkOperator = function() {
      var a = this;
      return this._nativeBridge.getPlatform() === h.IOS || this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.getNetworkOperator().then(function(b) {
        a.set("networkOperator", b);
        return a.get("networkOperator");
      }) : Promise.resolve(this.get("networkOperator"));
    };
    b.prototype.getNetworkOperatorName = function() {
      var a = this;
      return this._nativeBridge.getPlatform() === h.IOS || this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.getNetworkOperatorName().then(function(b) {
        a.set("networkOperatorName", b);
        return a.get("networkOperatorName");
      }) : Promise.resolve(this.get("networkOperatorName"));
    };
    b.prototype.getOsVersion = function() {
      return this.get("osVersion");
    };
    b.prototype.getScreenLayout = function() {
      return this.get("screenLayout");
    };
    b.prototype.getScreenDensity = function() {
      return this.get("screenDensity");
    };
    b.prototype.getScreenWidth = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getScreenWidth().then(function(b) {
        b = Math.floor(b);
        a.set("screenWidth", b);
        return b;
      });
    };
    b.prototype.getScreenHeight = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getScreenHeight().then(function(b) {
        b = Math.floor(b);
        a.set("screenHeight", b);
        return b;
      });
    };
    b.prototype.getScreenScale = function() {
      return this.get("screenScale");
    };
    b.prototype.getUserInterfaceIdiom = function() {
      return this.get("userInterfaceIdiom");
    };
    b.prototype.isRooted = function() {
      return this.get("rooted");
    };
    b.prototype.getConnectionType = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getConnectionType().then(function(b) {
        a.set("connectionType", b);
        return a.get("connectionType");
      });
    };
    b.prototype.getTimeZone = function() {
      return this.get("timeZone");
    };
    b.prototype.getFreeSpace = function() {
      var a = this;
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.DeviceInfo.Ios.getFreeSpace().then(function(b) {
        a.set("freeInternalSpace", b);
        return a.get("freeInternalSpace");
      }) : this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.Android.getFreeSpace(wa.INTERNAL).then(function(b) {
        a.set("freeInternalSpace", b);
        return a.get("freeInternalSpace");
      }) : Promise.resolve(this.get("freeInternalSpace"));
    };
    b.prototype.getFreeSpaceExternal = function() {
      var a = this;
      return this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.Android.getFreeSpace(wa.EXTERNAL).then(function(b) {
        a.set("freeExternalSpace", b);
        return a.get("freeExternalSpace");
      }) : Promise.resolve(this.get("freeExternalSpace"));
    };
    b.prototype.getTotalSpace = function() {
      return this.get("totalInternalSpace");
    };
    b.prototype.getTotalSpaceExternal = function() {
      return this.get("totalExternalSpace");
    };
    b.prototype.getLanguage = function() {
      return this.get("language");
    };
    b.prototype.isSimulator = function() {
      return this.get("simulator");
    };
    b.prototype.getHeadset = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getHeadset().then(function(b) {
        a.set("headset", b);
        return a.get("headset");
      });
    };
    b.prototype.getRingerMode = function() {
      var a = this;
      return this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.Android.getRingerMode().then(function(b) {
        a.set("ringerMode", b);
        return a.get("ringerMode");
      }) : Promise.resolve(this.get("ringerMode"));
    };
    b.prototype.getDeviceVolume = function(a) {
      var b = this;
      void 0 === a && (a = Fa.STREAM_SYSTEM);
      return this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.DeviceInfo.Ios.getDeviceVolume().then(function(a) {
        b.set("volume", a);
        return b.get("volume");
      }) : this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.Android.getDeviceVolume(a).then(function(a) {
        b.set("volume", a);
        return b.get("volume");
      }) : Promise.resolve(this.get("volume"));
    };
    b.prototype.getScreenBrightness = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getScreenBrightness().then(function(b) {
        a.set("screenBrightness", b);
        return a.get("screenBrightness");
      });
    };
    b.prototype.getBatteryLevel = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getBatteryLevel().then(function(b) {
        a.set("batteryLevel", b);
        return a.get("batteryLevel");
      });
    };
    b.prototype.getBatteryStatus = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getBatteryStatus().then(function(b) {
        a.set("batteryStatus", b);
        return a.get("batteryStatus");
      });
    };
    b.prototype.getFreeMemory = function() {
      var a = this;
      return this._nativeBridge.DeviceInfo.getFreeMemory().then(function(b) {
        a.set("freeMemory", b);
        return a.get("freeMemory");
      });
    };
    b.prototype.getTotalMemory = function() {
      return this.get("totalMemory");
    };
    b.prototype.getStatusBarHeight = function() {
      return this.get("statusBarHeight");
    };
    b.prototype.getDTO = function() {
      var a = this;
      return Promise.all([this.getConnectionType().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getNetworkType().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getNetworkOperator().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getNetworkOperatorName().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getHeadset().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getDeviceVolume().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getScreenWidth().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getScreenHeight().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getScreenBrightness().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getFreeSpace().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getBatteryLevel().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getBatteryStatus().catch(function(b) {
        return a.handleDeviceInfoError(b);
      }), this.getFreeMemory().catch(function(b) {
        return a.handleDeviceInfoError(b);
      })]).then(function(b) {
        function d() {
          a.getAdvertisingIdentifier() ? (ta.advertisingTrackingId = a.getAdvertisingIdentifier(), ta.limitAdTracking = a.getLimitAdTracking()) : a._nativeBridge.getPlatform() === h.ANDROID && (ta.androidId = a.getAndroidId());
          return ta;
        }
        var c = b[0], l = b[1], e = b[2], m = b[3], w = b[4], Va = b[5], n = b[6], sa = b[7], Ca = b[8], B = b[9], t = b[10], p = b[11];
        b = b[12];
        var ta = {apiLevel:a.getApiLevel(), osVersion:a.getOsVersion(), deviceMake:a.getManufacturer(), deviceModel:a.getModel(), connectionType:c, networkType:l, screenLayout:a.getScreenLayout(), screenDensity:a.getScreenDensity(), screenWidth:n, screenHeight:sa, screenScale:a.getScreenScale(), userInterfaceIdiom:a.getUserInterfaceIdiom(), networkOperator:e, networkOperatorName:m, timeZone:a.getTimeZone(), headset:w, language:a.getLanguage(), deviceVolume:Va, screenBrightness:Ca, freeSpaceInternal:B, 
        totalSpaceInternal:a.getTotalSpace(), totalSpaceExternal:a.getTotalSpaceExternal(), batteryLevel:t, batteryStatus:p, freeMemory:b, totalMemory:a.getTotalMemory(), rooted:a.isRooted(), simulator:a.isSimulator()};
        return a._nativeBridge.getPlatform() === h.ANDROID ? Promise.all([a.getFreeSpaceExternal().catch(function(b) {
          return a.handleDeviceInfoError(b);
        }), a.getRingerMode().catch(function(b) {
          return a.handleDeviceInfoError(b);
        })]).then(function(a) {
          var b = a[1];
          ta.freeSpaceExternal = a[0];
          ta.ringerMode = b;
          return d();
        }) : d();
      });
    };
    b.prototype.getStaticDTO = function() {
      var a = {apiLevel:this.getApiLevel(), osVersion:this.getOsVersion(), deviceMake:this.getManufacturer(), deviceModel:this.getModel(), screenLayout:this.getScreenLayout(), screenDensity:this.getScreenDensity(), screenScale:this.getScreenScale(), userInterfaceIdiom:this.getUserInterfaceIdiom(), timeZone:this.getTimeZone(), language:this.getLanguage(), totalSpaceInternal:this.getTotalSpace(), totalSpaceExternal:this.getTotalSpaceExternal(), totalMemory:this.getTotalMemory(), rooted:this.isRooted(), 
      simulator:this.isSimulator()};
      this.getAdvertisingIdentifier() ? (a.advertisingTrackingId = this.getAdvertisingIdentifier(), a.limitAdTracking = this.getLimitAdTracking()) : this._nativeBridge.getPlatform() === h.ANDROID && (a.androidId = this.getAndroidId());
      return a;
    };
    b.prototype.handleDeviceInfoError = function(a) {
      this._nativeBridge.Sdk.logWarning(JSON.stringify(a));
    };
    b.GooglePlayPackageName = "com.android.vending";
    b.XiaomiPackageName = "com.xiaomi.gamecenter";
    return b;
  }(J), p = function() {
    function c() {
    }
    c.parse = function(b) {
      var a = document.createElement("a");
      a.href = b;
      return {protocol:a.protocol, host:a.host, hostname:a.hostname, port:parseInt(a.port, 10), pathname:a.pathname, search:a.search, hash:a.hash};
    };
    c.addParameters = function(b, a) {
      b = b.toString();
      b = -1 !== b.indexOf("?") ? b + "&" : b + "?";
      var d = [], c;
      for (c in a) {
        if (a.hasOwnProperty(c)) {
          var g = a[c];
          void 0 !== g && d.push(encodeURIComponent(c) + "=" + encodeURIComponent(g));
        }
      }
      return b += d.join("&");
    };
    c.getQueryParameter = function(b, a) {
      var d = 0;
      for (b = b.split("?")[1].split("&"); d < b.length; d++) {
        var c = b[d].split("=");
        if (c[0] === a) {
          return c[1];
        }
      }
      return null;
    };
    c.isValid = function(b) {
      return b && (b.match(/^http:./i) || b.match(/^https:./i) && b.match(/^([!\$#&-;=\?-\[\]_a-z~{}|\\^`]|%[0-9a-fA-F]{2})+$/i)) ? !0 : !1;
    };
    c.isProtocolWhitelisted = function(b) {
      for (var a = 0, d = this.whitelistedProtocols; a < d.length; a++) {
        if (0 === b.indexOf(d[a])) {
          return !0;
        }
      }
      return !1;
    };
    c.whitelistedProtocols = ["http", "https", "market", "itunes"];
    return c;
  }(), jd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), M;
  (function(c) {
    c[c.FORCED = 0] = "FORCED";
    c[c.ALLOWED = 1] = "ALLOWED";
    c[c.DISABLED = 2] = "DISABLED";
    c[c.ADAPTIVE = 3] = "ADAPTIVE";
  })(M || (M = {}));
  var Kb = function(c) {
    function b(a) {
      var b = c.call(this, "Configuration", {enabled:["boolean"], country:["string"], coppaCompliant:["boolean"], abGroup:["number"], gamerId:["string"], properties:["string"], cacheMode:["number"], placements:["object"], defaultPlacement:["object"], analytics:["boolean"], test:["boolean"], projectId:["string"]}) || this;
      b.set("enabled", a.enabled);
      b.set("country", a.country);
      b.set("coppaCompliant", a.coppaCompliant);
      b.set("projectId", a.projectId);
      b.set("abGroup", a.abGroup);
      b.set("gamerId", a.gamerId);
      b.set("properties", a.properties);
      b.set("analytics", a.analytics ? !0 : !1);
      b.set("test", a.test ? !0 : !1);
      switch(a.assetCaching) {
        case "forced":
          b.set("cacheMode", M.FORCED);
          break;
        case "allowed":
          b.set("cacheMode", M.ALLOWED);
          break;
        case "disabled":
          b.set("cacheMode", M.DISABLED);
          break;
        case "adaptive":
          b.set("cacheMode", M.ADAPTIVE);
          break;
        default:
          throw Error('Unknown assetCaching value "' + a.assetCaching + '"');
      }
      if (a = a.placements) {
        b.set("placements", {}), a.forEach(function(a) {
          a = new Jc(a);
          b.getPlacements()[a.getId()] = a;
          a.isDefault() && b.set("defaultPlacement", a);
        });
      }
      return b;
    }
    jd(b, c);
    b.prototype.isEnabled = function() {
      return this.get("enabled");
    };
    b.prototype.getCountry = function() {
      return this.get("country");
    };
    b.prototype.isCoppaCompliant = function() {
      return this.get("coppaCompliant");
    };
    b.prototype.isAnalyticsEnabled = function() {
      return this.get("analytics");
    };
    b.prototype.getAbGroup = function() {
      return this.get("abGroup");
    };
    b.prototype.getGamerId = function() {
      return this.get("gamerId");
    };
    b.prototype.getProperties = function() {
      return this.get("properties");
    };
    b.prototype.getCacheMode = function() {
      return this.get("cacheMode");
    };
    b.prototype.getPlacement = function(a) {
      return this.getPlacements()[a];
    };
    b.prototype.getPlacementIds = function() {
      var a = [], b;
      for (b in this.getPlacements()) {
        this.getPlacements().hasOwnProperty(b) && a.push(b);
      }
      return a;
    };
    b.prototype.getPlacements = function() {
      return this.get("placements");
    };
    b.prototype.getPlacementCount = function() {
      if (!this.getPlacements()) {
        return 0;
      }
      var a = 0, b;
      for (b in this.getPlacements()) {
        this.getPlacements().hasOwnProperty(b) && a++;
      }
      return a;
    };
    b.prototype.getDefaultPlacement = function() {
      return this.get("defaultPlacement");
    };
    b.prototype.getUnityProjectId = function() {
      return this.get("projectId");
    };
    b.prototype.getDTO = function() {
      var a = [], b;
      for (b in this.getPlacements()) {
        this.getPlacements().hasOwnProperty(b) && a.push(this.getPlacements()[b].getDTO());
      }
      var c;
      (b = this.getDefaultPlacement()) && (c = b.getId());
      return {enabled:this.isEnabled(), country:this.getCountry(), coppaCompliant:this.isCoppaCompliant(), abGroup:this.getAbGroup(), gamerId:this.getGamerId(), cacheMode:M[this.getCacheMode()].toLowerCase(), placements:a, defaultPlacement:c, projectId:this.getUnityProjectId()};
    };
    b.prototype.getTestMode = function() {
      return this.get("test");
    };
    return b;
  }(J), Lb = function() {
    function c(b) {
      this._nativeBridge = b;
    }
    c.prototype.get = function(b, a) {
      var d = this;
      return this._nativeBridge.Storage.get(n.PUBLIC, b + ".value").then(function(c) {
        a && (d._nativeBridge.Storage.delete(n.PUBLIC, b), d._nativeBridge.Storage.write(n.PUBLIC));
        return Promise.resolve([!0, c]);
      }).catch(function(a) {
        a = a[0];
        switch(a) {
          case z[z.COULDNT_GET_VALUE]:
            return Promise.resolve([!1, null]);
          case z[z.COULDNT_GET_STORAGE]:
            return Promise.resolve([!1, null]);
          default:
            throw Error(a);
        }
      });
    };
    c.prototype.getKeys = function(b) {
      return this._nativeBridge.Storage.getKeys(n.PUBLIC, b, !1).then(function(a) {
        return a;
      }).catch(function(a) {
        a = a[0];
        switch(a) {
          case z[z.COULDNT_GET_STORAGE]:
            return [];
          default:
            throw Error(a);
        }
      });
    };
    c.prototype.hasCategory = function(b) {
      return this._nativeBridge.Storage.getKeys(n.PUBLIC, b, !1).then(function(a) {
        return 0 < a.length;
      }).catch(function(a) {
        a = a[0];
        switch(a) {
          case z[z.COULDNT_GET_STORAGE]:
            return !1;
          default:
            throw Error(a);
        }
      });
    };
    return c;
  }(), kd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), xa = function(c) {
    function b(a, b) {
      return c.call(this, a, b) || this;
    }
    kd(b, c);
    b.prototype.getCategory = function() {
      return this.get("category");
    };
    b.prototype.getKeys = function() {
      return this.get("keys");
    };
    b.prototype.fetch = function(a, b) {
      var d = this, c = [];
      c = b ? b : this.getKeys();
      return this.getValues(a, c).then(function(a) {
        return d.setValues(a);
      });
    };
    b.prototype.setValues = function(a) {
      var b = !1, c;
      for (c in a) {
        if (a.hasOwnProperty(c)) {
          try {
            this.set(c, a[c]);
          } catch (g) {
            return !1;
          }
          b = !0;
        }
      }
      return b;
    };
    b.prototype.getValues = function(a, b) {
      var d = this, c = {}, l = new Lb(a);
      return l.hasCategory(this.getCategory()).then(function(a) {
        return a ? Promise.all(b.map(function(a) {
          return l.get(d.getCategory() + "." + a, !1).then(function(b) {
            var d = b[1];
            b[0] && (c[a] = d);
          });
        })) : Promise.resolve([]);
      }).then(function() {
        return c;
      });
    };
    b.Schema = {category:["string"], keys:["array"]};
    return b;
  }(J), ld = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), md = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, nd = function(c) {
    function b() {
      var a = c.call(this, "AdapterMetaData", md({}, xa.Schema, {name:["string", "undefined"], version:["string", "undefined"]})) || this;
      a.set("category", "adapter");
      a.set("keys", ["name", "version"]);
      return a;
    }
    ld(b, c);
    b.prototype.getName = function() {
      return this.get("name");
    };
    b.prototype.getVersion = function() {
      return this.get("version");
    };
    b.prototype.getDTO = function() {
      return {adapterName:this.getName(), adapterVersion:this.getVersion()};
    };
    return b;
  }(xa), od = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), H = function(c) {
    function b(a, b) {
      var d = c.call(this, a.message, a.name) || this;
      d.diagnostic = {};
      d.stack = a.stack;
      d.diagnostic = b;
      return d;
    }
    od(b, c);
    return b;
  }(Z), Ga = function() {
    function c() {
    }
    c.parse = function(b, a) {
      try {
        return JSON.parse(b, a);
      } catch (d) {
        throw new H(d, {json:b});
      }
    };
    return c;
  }(), pd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), qd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, rb = function(c) {
    function b() {
      var a = c.call(this, "FrameworkMetaData", qd({}, xa.Schema, {name:["string", "undefined"], version:["string", "undefined"]})) || this;
      a.set("category", "framework");
      a.set("keys", ["name", "version"]);
      return a;
    }
    pd(b, c);
    b.prototype.getName = function() {
      return this.get("name");
    };
    b.prototype.getVersion = function() {
      return this.get("version");
    };
    b.prototype.getDTO = function() {
      return {frameworkName:this.getName(), frameworkVersion:this.getVersion()};
    };
    return b;
  }(xa), rd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Mb = function(c) {
    function b(a) {
      return c.call(this, a.message, a.name) || this;
    }
    rd(b, c);
    return b;
  }(Z), sd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ya = function(c) {
    function b(a, b, f) {
      a = c.call(this, a) || this;
      a.nativeRequest = b;
      a.nativeResponse = f;
      return a;
    }
    sd(b, c);
    return b;
  }(Z), bb = function() {
    function c() {
    }
    c.fetch = function(b, a, d, f, g) {
      return Promise.all([g.fetch(rb), g.fetch(nd), c.fetchGamerId(b)]).then(function(g) {
        var l = g[0], e = g[1];
        g = g[2];
        var w;
        g && (b.getPlatform() === h.IOS && f.getLimitAdTracking() ? w = g : c.deleteGamerId(b));
        var Va = c.createConfigUrl(d, f, l, e, w);
        b.Sdk.logInfo("Requesting configuration from " + Va);
        return a.get(Va, [], {retries:2, retryDelay:10000, followRedirects:!1, retryWithConnectionEvents:!0}).then(function(a) {
          try {
            var d = Ga.parse(a.response), g = new Kb(d);
            b.Sdk.logInfo("Received configuration with " + g.getPlacementCount() + " placements for gamer " + g.getGamerId() + " (A/B group " + g.getAbGroup() + ")");
            if (g.getGamerId()) {
              b.getPlatform() === h.IOS && f.getLimitAdTracking() && c.storeGamerId(b, g.getGamerId());
            } else {
              throw t.trigger("config_failure", {configUrl:Va, configResponse:a.response}), Error("gamerId missing in PLC config");
            }
            return g;
          } catch (B) {
            throw b.Sdk.logError("Config request failed " + B), Error(B);
          }
        }).catch(function(a) {
          if (a instanceof ya) {
            var b = a;
            b.nativeResponse && b.nativeResponse.response && (a = Ga.parse(b.nativeResponse.response), a = new Mb(Error(a.error)));
          }
          throw a;
        });
      });
    };
    c.setTestBaseUrl = function(b) {
      c.ConfigBaseUrl = b + "/games";
    };
    c.setAbGroup = function(b) {
      c.AbGroup = b;
    };
    c.createConfigUrl = function(b, a, d, f, g) {
      var l = [c.ConfigBaseUrl, b.getGameId(), "configuration"].join("/");
      l = p.addParameters(l, {bundleId:b.getApplicationName(), encrypted:!b.isDebuggable(), rooted:a.isRooted(), platform:h[b.getPlatform()].toLowerCase(), sdkVersion:b.getSdkVersion(), osVersion:a.getOsVersion(), deviceModel:a.getModel(), language:a.getLanguage(), test:b.getTestMode(), gamerId:g, forceAbGroup:c.AbGroup});
      b.getPlatform() === h.ANDROID && (l = p.addParameters(l, {deviceMake:a.getManufacturer()}));
      a.getAdvertisingIdentifier() ? l = p.addParameters(l, {advertisingTrackingId:a.getAdvertisingIdentifier(), limitAdTracking:a.getLimitAdTracking()}) : b.getPlatform() === h.ANDROID && (l = p.addParameters(l, {androidId:a.getAndroidId()}));
      d && (l = p.addParameters(l, d.getDTO()));
      f && (l = p.addParameters(l, f.getDTO()));
      return l;
    };
    c.fetchGamerId = function(b) {
      return b.Storage.get(n.PRIVATE, "gamerId").then(function(a) {
        return a;
      }).catch(function() {
      });
    };
    c.storeGamerId = function(b, a) {
      return Promise.all([b.Storage.set(n.PRIVATE, "gamerId", a), b.Storage.write(n.PRIVATE)]);
    };
    c.deleteGamerId = function(b) {
      return Promise.all([b.Storage.delete(n.PRIVATE, "gamerId"), b.Storage.write(n.PRIVATE)]);
    };
    c.ConfigBaseUrl = "https://adserver.unityads.unity3d.com/games";
    return c;
  }(), td = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ud = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, cb = function(c) {
    function b() {
      var a = c.call(this, "MediationMetaData", ud({}, xa.Schema, {name:["string", "undefined"], version:["string", "undefined"], ordinal:["number", "undefined"]})) || this;
      a.set("category", "mediation");
      a.set("keys", ["name", "version", "ordinal"]);
      return a;
    }
    td(b, c);
    b.prototype.getName = function() {
      return this.get("name");
    };
    b.prototype.getVersion = function() {
      return this.get("version");
    };
    b.prototype.setOrdinal = function(a) {
      this.set("ordinal", a);
    };
    b.prototype.getOrdinal = function() {
      return this.get("ordinal");
    };
    b.prototype.getDTO = function() {
      return {mediationName:this.getName(), mediationVersion:this.getVersion(), mediationOrdinal:this.getOrdinal()};
    };
    return b;
  }(xa), vd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ca = function(c) {
    function b(a, b, f) {
      return c.call(this, a, b, f) || this;
    }
    vd(b, c);
    b.prototype.getId = function() {
      return this.get("id");
    };
    b.prototype.getSession = function() {
      return this.get("session");
    };
    b.prototype.getGamerId = function() {
      return this.get("gamerId");
    };
    b.prototype.getAbGroup = function() {
      return this.get("abGroup");
    };
    b.prototype.getAdType = function() {
      return this.get("adType");
    };
    b.prototype.getCorrelationId = function() {
      return this.get("correlationId");
    };
    b.prototype.getCreativeId = function() {
      return this.get("creativeId");
    };
    b.prototype.getSeatId = function() {
      return this.get("seatId");
    };
    b.prototype.getMeta = function() {
      return this.get("meta");
    };
    b.prototype.getAdvertiserDomain = function() {
      return this.get("advertiserDomain");
    };
    b.prototype.getAdvertiserCampaignId = function() {
      return this.get("advertiserCampaignId");
    };
    b.prototype.getAdvertiserBundleId = function() {
      return this.get("advertiserBundleId");
    };
    b.prototype.getUseWebViewUserAgentForTracking = function() {
      return this.get("useWebViewUserAgentForTracking");
    };
    b.prototype.getWillExpireAt = function() {
      return this.get("willExpireAt");
    };
    b.prototype.getCategory = function() {
      return this.get("appCategory");
    };
    b.prototype.getSubCategory = function() {
      return this.get("appSubCategory");
    };
    b.prototype.getBuyerId = function() {
      return this.get("buyerId");
    };
    b.prototype.isExpired = function() {
      var a = this.get("willExpireAt");
      return void 0 !== a && Date.now() > a;
    };
    b.prototype.getDTO = function() {
      return {id:this.getId(), gamerId:this.getGamerId(), abGroup:this.getAbGroup(), willExpireAt:this.getWillExpireAt()};
    };
    b.prototype.handleError = function(a) {
      t.trigger("set_model_value_failed", a, this.getSession());
      throw a;
    };
    b.Schema = {id:["string"], gamerId:["string"], abGroup:["number"], willExpireAt:["number", "undefined"], adType:["string", "undefined"], correlationId:["string", "undefined"], creativeId:["string", "undefined"], seatId:["number", "undefined"], meta:["string", "undefined"], appCategory:["string", "undefined"], appSubCategory:["string", "undefined"], advertiserDomain:["string", "undefined"], advertiserCampaignId:["string", "undefined"], advertiserBundleId:["string", "undefined"], useWebViewUserAgentForTracking:["boolean", 
    "undefined"], buyerId:["string", "undefined"], session:["object"]};
    return b;
  }(J), wd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), xd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, ma;
  (function(c) {
    c[c.APPLE = 0] = "APPLE";
    c[c.GOOGLE = 1] = "GOOGLE";
    c[c.XIAOMI = 2] = "XIAOMI";
  })(ma || (ma = {}));
  var da = function(c) {
    function b(a) {
      return c.call(this, "PerformanceCampaign", xd({}, ca.Schema, {appStoreId:["string"], gameId:["number"], gameName:["string"], gameIcon:["object"], rating:["number"], ratingCount:["number"], landscapeImage:["object"], portraitImage:["object"], video:["object", "undefined"], streamingVideo:["object", "undefined"], videoPortrait:["object", "undefined"], streamingPortraitVideo:["object", "undefined"], clickAttributionUrl:["string", "undefined"], clickAttributionUrlFollowsRedirects:["boolean", "undefined"], 
      clickUrl:["string"], videoEventUrls:["object"], bypassAppSheet:["boolean"], store:["number"]}), a) || this;
    }
    wd(b, c);
    b.prototype.getStore = function() {
      return this.get("store");
    };
    b.prototype.getAppStoreId = function() {
      return this.get("appStoreId");
    };
    b.prototype.getGameId = function() {
      return this.get("gameId");
    };
    b.prototype.getGameName = function() {
      return this.get("gameName");
    };
    b.prototype.getGameIcon = function() {
      return this.get("gameIcon");
    };
    b.prototype.getRating = function() {
      return this.get("rating");
    };
    b.prototype.getRatingCount = function() {
      return this.get("ratingCount");
    };
    b.prototype.getPortrait = function() {
      return this.get("portraitImage");
    };
    b.prototype.getLandscape = function() {
      return this.get("landscapeImage");
    };
    b.prototype.getVideo = function() {
      return this.get("video");
    };
    b.prototype.getStreamingVideo = function() {
      return this.get("streamingVideo");
    };
    b.prototype.getPortraitVideo = function() {
      return this.get("videoPortrait");
    };
    b.prototype.getStreamingPortraitVideo = function() {
      return this.get("streamingPortraitVideo");
    };
    b.prototype.getClickAttributionUrl = function() {
      return this.get("clickAttributionUrl");
    };
    b.prototype.getClickAttributionUrlFollowsRedirects = function() {
      return this.get("clickAttributionUrlFollowsRedirects");
    };
    b.prototype.getClickUrl = function() {
      return this.get("clickUrl");
    };
    b.prototype.getVideoEventUrls = function() {
      return this.get("videoEventUrls");
    };
    b.prototype.getVideoEventUrl = function(a) {
      return this.get("videoEventUrls")[a];
    };
    b.prototype.getBypassAppSheet = function() {
      return this.get("bypassAppSheet");
    };
    b.prototype.getTimeoutInSeconds = function() {
      return 0;
    };
    b.prototype.getRequiredAssets = function() {
      return [];
    };
    b.prototype.getOptionalAssets = function() {
      return [this.getGameIcon(), this.getPortrait(), this.getLandscape()];
    };
    b.prototype.isConnectionNeeded = function() {
      return !1;
    };
    b.prototype.getDTO = function() {
      var a, b = this.getGameIcon();
      b && (a = b.getDTO());
      var f;
      (b = this.getLandscape()) && (f = b.getDTO());
      var g;
      (b = this.getPortrait()) && (g = b.getDTO());
      var l;
      (b = this.getVideo()) && (l = b.getDTO());
      var e;
      (b = this.getStreamingVideo()) && (e = b.getDTO());
      return {campaign:c.prototype.getDTO.call(this), appStoreId:this.getAppStoreId(), gameId:this.getGameId(), gameName:this.getGameName(), gameIcon:a, rating:this.getRating(), ratingCount:this.getRatingCount(), landscapeImage:f, portraitImage:g, video:l, streamingVideo:e, clickAttributionUrl:this.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:this.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:this.getBypassAppSheet(), store:ma[this.getStore()].toLowerCase()};
    };
    return b;
  }(ca), yd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Sa = function(c) {
    function b(a, b, f) {
      a = c.call(this, a, f) || this;
      a.set("session", b);
      return a;
    }
    yd(b, c);
    b.prototype.getUrl = function() {
      var a = this.getCachedUrl();
      return a ? a : this.getOriginalUrl();
    };
    b.prototype.getOriginalUrl = function() {
      return this.get("url");
    };
    b.prototype.isCached = function() {
      return "undefined" !== typeof this.getCachedUrl();
    };
    b.prototype.getCachedUrl = function() {
      return this.get("cachedUrl");
    };
    b.prototype.setCachedUrl = function(a) {
      this.set("cachedUrl", a);
    };
    b.prototype.setFileId = function(a) {
      this.set("fileId", a);
    };
    b.prototype.getFileId = function() {
      return this.get("fileId");
    };
    b.prototype.getSession = function() {
      return this.get("session");
    };
    b.prototype.getDTO = function() {
      return {url:this.getOriginalUrl(), cachedUrl:this.getCachedUrl(), fileId:this.getFileId()};
    };
    b.prototype.handleError = function(a) {
      t.trigger("set_model_value_failed", a, this.getSession());
      throw a;
    };
    b.Schema = {url:["string"], cachedUrl:["string", "undefined"], fileId:["string", "undefined"], session:["object"]};
    return b;
  }(J), zd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), sb = function(c) {
    function b(a, b) {
      b = c.call(this, "HTML", b, Sa.Schema) || this;
      b.set("url", a);
      return b;
    }
    zd(b, c);
    b.prototype.getDescription = function() {
      return "MRAID";
    };
    return b;
  }(Sa), Ad = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Bd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, na = function(c) {
    function b(a) {
      return c.call(this, "MRAIDCampaign", Bd({}, ca.Schema, {resourceAsset:["object", "undefined"], resource:["string", "undefined"], dynamicMarkup:["string", "undefined"], additionalTrackingEvents:["object", "undefined"], clickAttributionUrl:["string", "undefined"], clickAttributionUrlFollowsRedirects:["boolean", "undefined"], clickUrl:["string", "undefined"], videoEventUrls:["object", "undefined"], gameName:["string", "undefined"], gameIcon:["object", "undefined"], rating:["number", "undefined"], 
      ratingCount:["number", "undefined"], landscapeImage:["object", "undefined"], portraitImage:["object", "undefined"], bypassAppSheet:["boolean", "undefined"], store:["number", "undefined"], appStoreId:["string", "undefined"]}), a) || this;
    }
    Ad(b, c);
    b.prototype.getResourceUrl = function() {
      return this.get("resourceAsset");
    };
    b.prototype.setResourceUrl = function(a) {
      this.set("resourceAsset", new sb(a, this.getSession()));
    };
    b.prototype.setResource = function(a) {
      this.set("resource", a);
    };
    b.prototype.getResource = function() {
      return this.get("resource");
    };
    b.prototype.getGameName = function() {
      return this.get("gameName");
    };
    b.prototype.getGameIcon = function() {
      return this.get("gameIcon");
    };
    b.prototype.getRating = function() {
      return this.get("rating");
    };
    b.prototype.getRatingCount = function() {
      return this.get("ratingCount");
    };
    b.prototype.getPortrait = function() {
      return this.get("portraitImage");
    };
    b.prototype.getLandscape = function() {
      return this.get("landscapeImage");
    };
    b.prototype.getRequiredAssets = function() {
      var a = this.getResourceUrl();
      return a ? [a] : [];
    };
    b.prototype.getOptionalAssets = function() {
      var a = [], b = this.getGameIcon();
      b && a.push(b);
      (b = this.getPortrait()) && a.push(b);
      (b = this.getLandscape()) && a.push(b);
      return a;
    };
    b.prototype.getDynamicMarkup = function() {
      return this.get("dynamicMarkup");
    };
    b.prototype.getTrackingEventUrls = function() {
      return this.get("additionalTrackingEvents");
    };
    b.prototype.getClickAttributionUrl = function() {
      return this.get("clickAttributionUrl");
    };
    b.prototype.getClickAttributionUrlFollowsRedirects = function() {
      return this.get("clickAttributionUrlFollowsRedirects");
    };
    b.prototype.getClickUrl = function() {
      return this.get("clickUrl");
    };
    b.prototype.getVideoEventUrls = function() {
      return this.get("videoEventUrls");
    };
    b.prototype.getVideoEventUrl = function(a) {
      var b = this.getVideoEventUrls();
      if (b) {
        return b[a];
      }
    };
    b.prototype.getBypassAppSheet = function() {
      return this.get("bypassAppSheet");
    };
    b.prototype.getStore = function() {
      return this.get("store");
    };
    b.prototype.getAppStoreId = function() {
      return this.get("appStoreId");
    };
    b.prototype.isConnectionNeeded = function() {
      var a = this.getResourceUrl();
      return a && a.getOriginalUrl().match(/playables\/production\/unity/) ? !1 : !0;
    };
    b.prototype.getDTO = function() {
      var a, b = this.getResourceUrl();
      b && (a = b.getDTO());
      return {campaign:c.prototype.getDTO.call(this), resourceUrl:a, resource:this.getResource(), dynamicMarkup:this.getDynamicMarkup(), additionalTrackingEvents:this.getTrackingEventUrls()};
    };
    return b;
  }(ca), Cd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Dd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Ha = function(c) {
    function b(a, b, f) {
      b = c.call(this, "Video", b, Dd({}, Sa.Schema, {size:["number", "undefined"], started:["boolean"], errorStatus:["boolean"], duration:["number"], position:["number"], positionRepeats:["number"], quartile:["number"]})) || this;
      b.set("url", a);
      b.set("size", f);
      b.set("started", !1);
      b.set("errorStatus", !1);
      b.set("duration", 0);
      b.set("position", 0);
      b.set("positionRepeats", 0);
      b.set("quartile", 0);
      return b;
    }
    Cd(b, c);
    b.prototype.getDescription = function() {
      return "VIDEO";
    };
    b.prototype.getSize = function() {
      return this.get("size");
    };
    b.prototype.hasStarted = function() {
      return this.get("started");
    };
    b.prototype.setStarted = function(a) {
      this.set("started", a);
    };
    b.prototype.getErrorStatus = function() {
      return this.get("errorStatus");
    };
    b.prototype.setErrorStatus = function(a) {
      this.set("errorStatus", a);
    };
    b.prototype.getDuration = function() {
      return this.get("duration");
    };
    b.prototype.setDuration = function(a) {
      this.set("duration", a);
    };
    b.prototype.getPosition = function() {
      return this.get("position");
    };
    b.prototype.setPosition = function(a) {
      this.set("position", a);
      (a = this.get("duration")) && this.set("quartile", Math.floor(4 * this.get("position") / a));
    };
    b.prototype.getPositionRepeats = function() {
      return this.get("positionRepeats");
    };
    b.prototype.setPositionRepeats = function(a) {
      this.set("positionRepeats", a);
    };
    b.prototype.getQuartile = function() {
      return this.get("quartile");
    };
    b.prototype.setQuartile = function(a) {
      this.set("quartile", a);
    };
    b.prototype.getDTO = function() {
      return {asset:c.prototype.getDTO.call(this), size:this.getSize(), started:this.hasStarted(), errorStatus:this.getErrorStatus(), duration:this.getDuration(), position:this.getPosition(), positionRepeats:this.getPositionRepeats(), quartile:this.getQuartile()};
    };
    return b;
  }(Sa), Ed = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Fd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Wa = function(c) {
    function b(a) {
      var b = c.call(this, "VastCampaign", Fd({}, ca.Schema, {vast:["object"], video:["object"], hasEndscreen:["boolean"], portrait:["object", "undefined"], landscape:["object", "undefined"], tracking:["object", "undefined"]}), a) || this;
      b.processCustomTracking(a.tracking);
      return b;
    }
    Ed(b, c);
    b.prototype.getVast = function() {
      return this.get("vast");
    };
    b.prototype.getVideo = function() {
      this.get("video") || this.set("video", new Ha(this.get("vast").getVideoUrl(), this.getSession()));
      return this.get("video");
    };
    b.prototype.getOriginalVideoUrl = function() {
      return this.get("vast").getVideoUrl() || "";
    };
    b.prototype.getRequiredAssets = function() {
      return [this.get("video")];
    };
    b.prototype.getOptionalAssets = function() {
      return [];
    };
    b.prototype.hasEndscreen = function() {
      return this.get("hasEndscreen");
    };
    b.prototype.getLandscape = function() {
      return this.get("landscape");
    };
    b.prototype.getPortrait = function() {
      return this.get("portrait");
    };
    b.prototype.isConnectionNeeded = function() {
      return !1;
    };
    b.prototype.getDTO = function() {
      var a, b = this.get("portrait");
      b && (a = b.getDTO());
      var f;
      (b = this.get("landscape")) && (f = b.getDTO());
      return {campaign:c.prototype.getDTO.call(this), vast:this.getVast().getDTO(), video:this.getVast().getDTO(), hasEndscreen:this.hasEndscreen(), portrait:a, landscape:f};
    };
    b.prototype.processCustomTracking = function(a) {
      var b = this;
      if (a) {
        var c = function(d) {
          if (a.hasOwnProperty(d)) {
            var c = a[d];
            c && c.forEach(function(a) {
              b.getVast().addTrackingEventUrl(d, a);
            });
          }
        }, g;
        for (g in a) {
          c(g);
        }
      }
    };
    return b;
  }(ca), Gd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Hd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Ia = function(c) {
    function b(a, b, f) {
      return c.call(this, a, b, f) || this;
    }
    Gd(b, c);
    b.prototype.getClickThroughUrl = function() {
      return this.get("clickThroughUrl");
    };
    b.prototype.setClickThroughUrl = function(a) {
      this.set("clickThroughUrl", a);
    };
    b.prototype.getTrackingUrlsForEvent = function(a) {
      var b = this.get("tracking");
      return b ? b[a] || [] : [];
    };
    b.prototype.getRequiredAssets = function() {
      return [];
    };
    b.prototype.getOptionalAssets = function() {
      return [];
    };
    b.prototype.isConnectionNeeded = function() {
      return !1;
    };
    b.Schema = Hd({}, ca.Schema, {clickThroughUrl:["string", "undefined"], tracking:["object", "undefined"]});
    return b;
  }(ca), Id = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Jd = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, tb = function(c) {
    function b(a) {
      var b = c.call(this, "VPAIDCampaign", Jd({}, ca.Schema, {vpaid:["object"], tracking:["object", "undefined"]}), a) || this;
      b.addTrackingToVAST(a.tracking);
      return b;
    }
    Id(b, c);
    b.prototype.hasEndScreen = function() {
      return this.getVPAID().hasEndScreen();
    };
    b.prototype.getCompanionAd = function() {
      return this.getVPAID().getCompanion();
    };
    b.prototype.getCompanionClickThroughURL = function() {
      return this.getVPAID().getCompanionClickThroughURL();
    };
    b.prototype.getCompanionLandscapeUrl = function() {
      return this.getVPAID().getCompanionLandscapeUrl();
    };
    b.prototype.getCompanionPortraitUrl = function() {
      return this.getVPAID().getCompanionPortraitUrl();
    };
    b.prototype.hasCompanionAd = function() {
      return this.getVPAID().hasCompanionAd();
    };
    b.prototype.getVPAID = function() {
      return this.get("vpaid");
    };
    b.prototype.getRequiredAssets = function() {
      return [];
    };
    b.prototype.getOptionalAssets = function() {
      return [];
    };
    b.prototype.getTrackingEventUrls = function(a) {
      return this.getVPAID().getTrackingEventUrls(a);
    };
    b.prototype.getVideoClickTrackingURLs = function() {
      return this.getVPAID().getVideoClickTrackingURLs();
    };
    b.prototype.getVideoClickThroughURL = function() {
      return this.getVPAID().getVideoClickThroughURL();
    };
    b.prototype.isConnectionNeeded = function() {
      return !0;
    };
    b.prototype.getImpressionUrls = function() {
      return this.getVPAID().getImpressionUrls();
    };
    b.prototype.addTrackingToVAST = function(a) {
      var b = this;
      if (a) {
        var c = function(d) {
          if (a.hasOwnProperty(d)) {
            var c = a[d];
            c && c.forEach(function(a) {
              b.getVPAID().addTrackingEventUrl(d, a);
            });
          }
        }, g;
        for (g in a) {
          c(g);
        }
      }
    };
    return b;
  }(ca), K = function() {
    function c() {
    }
    c.initialize = function(b, a, d, f, g, l, e) {
      c._nativeBridge = b;
      c._request = a;
      c._configuration = d;
      c._sessionManager = f;
      c._campaignManager = g;
      c._metaDataManager = l;
      c._clientInfo = e;
      c._initialized = !0;
    };
    c.sendReadyEvent = function(b) {
      c._initialized && c.isTestActive() && c.getSdkStatsEvent("ready", b).then(function(a) {
        aa.sendEvent(c._topic, a);
      });
    };
    c.sendShowEvent = function(b) {
      c._initialized && c.isTestActive() && c.getSdkStatsEvent("show", b).then(function(a) {
        aa.sendEvent(c._topic, a);
      });
    };
    c.increaseAdRequestOrdinal = function() {
      c._adRequestOrdinal++;
    };
    c.getAdRequestOrdinal = function() {
      return c._adRequestOrdinal;
    };
    c.setInitTimestamp = function() {
      c._initTimestamp = Date.now();
    };
    c.setAdRequestTimestamp = function() {
      c._latestAdRequestTimestamp = Date.now();
      c._parseDuration = {};
    };
    c.getAdRequestTimestamp = function() {
      return c._latestAdRequestTimestamp;
    };
    c.setAdRequestDuration = function(b) {
      c._latestAdRequestDuration = b;
    };
    c.setReadyEventTimestamp = function(b) {
      c._readyEventSent[b] = Date.now();
    };
    c.setCachingStartTimestamp = function(b) {
      c._cachingStarted[b] = Date.now();
    };
    c.setCachingFinishTimestamp = function(b) {
      c._cachingFinished[b] = Date.now();
    };
    c.setParseDuration = function(b, a) {
      c._parseDuration[b] = a;
    };
    c.isTestActive = function() {
      return 0 === c._sessionManager.getGameSessionId() % 1000 ? !0 : !1;
    };
    c.getSdkStatsEvent = function(b, a) {
      var d = c._configuration.getPlacement(a), f = d.getCurrentCampaign(), g = Date.now();
      return Promise.all([c._campaignManager.getFullyCachedCampaigns(), c.getAssetSize(f), c._metaDataManager.fetch(cb)]).then(function(l) {
        var e = l[0], m = l[1], w = l[2];
        l = {gamerId:c._configuration.getGamerId(), abGroup:c._configuration.getAbGroup()};
        var h = {auctionId:f.getSession().getId(), gameSessionId:c._sessionManager.getGameSessionId(), placementId:a, allowSkipVideoInSeconds:d.allowSkip() ? d.allowSkipInSeconds() : void 0}, n = {campaignId:f.getId(), targetGameId:void 0, campaignType:c.getCampaignType(f)};
        e = {cachedCampaigns:e, isVideoCached:c.isCampaignCached(f), cachingMode:M[c._configuration.getCacheMode()], videoCachedMsAgo:c.getCachedMsAgo(f), cacheDuration:c.getCachingDuration(f), size:0 < m ? m : void 0};
        var sa;
        w && (sa = {mediationName:w.getName(), mediationVersion:w.getVersion(), mediationOrdinal:w.getOrdinal()});
        m = {eventType:b, adRequestOrdinal:c._adRequestOrdinal, delayInitToRequest:c._latestAdRequestTimestamp - c._initTimestamp, parseDuration:c._parseDuration[a], requestDuration:c._latestAdRequestDuration, delayInitToReady:c._readyEventSent[a] - c._initTimestamp, delaySDKInitToWebViewInit:c._initTimestamp - c._clientInfo.getInitTimestamp(), reinitializedSDK:c._clientInfo.isReinitialized()};
        "show" === b && (m.delayReadyToShow = g - c._readyEventSent[a], m.delayInitToShow = g - c._initTimestamp);
        return {eventTimestamp:g, userInfo:l, placementInfo:h, campaignInfo:n, cacheInfo:e, mediationInfo:sa, eventInfo:m};
      });
    };
    c.getCampaignType = function(b) {
      return b instanceof da ? "perf" : b instanceof Wa ? "vast" : b instanceof na ? "mraid" : b instanceof Ia ? "display" : b instanceof tb ? "vpaid" : "unknown";
    };
    c.isCampaignCached = function(b) {
      return (b = c.getMainAsset(b)) && b.isCached() ? !0 : !1;
    };
    c.getAssetSize = function(b) {
      return c.isCampaignCached(b) ? (b = c.getMainAsset(b)) ? c._nativeBridge.Cache.getFileInfo(b.getFileId()).then(function(a) {
        return a.found ? a.size : 0;
      }).catch(function() {
        return 0;
      }) : Promise.resolve(0) : Promise.resolve(0);
    };
    c.getCachedMsAgo = function(b) {
      if ((b = c.getMainAsset(b)) && (b = b.getFileId()) && c._cachingStarted[b] && c._cachingFinished[b]) {
        return Date.now() - c._cachingFinished[b];
      }
    };
    c.getCachingDuration = function(b) {
      if ((b = c.getMainAsset(b)) && (b = b.getFileId()) && c._cachingStarted[b] && c._cachingFinished[b]) {
        return c._cachingFinished[b] - c._cachingStarted[b];
      }
    };
    c.getMainAsset = function(b) {
      if (b instanceof da) {
        var a = b.getVideo();
        b = b.getPortraitVideo();
        if (a && a.isCached()) {
          return a;
        }
        if (b && b.isCached()) {
          return b;
        }
      } else {
        if (b instanceof Wa) {
          if ((a = b.getVideo()) && a.isCached()) {
            return a;
          }
        } else {
          if (b instanceof na && (a = b.getResourceUrl()) && a.isCached()) {
            return a;
          }
        }
      }
    };
    c._topic = "events.sdktimeline.json";
    c._initialized = !1;
    c._adRequestOrdinal = 0;
    c._parseDuration = {};
    c._readyEventSent = {};
    c._cachingStarted = {};
    c._cachingFinished = {};
    return c;
  }(), Nb = function() {
    function c(b, a, d, c, g) {
      var f = this;
      this._refreshAllowed = this._needsRefill = !0;
      this._startRefreshMagicConstant = 5000;
      this._nativeBridge = b;
      this._wakeUpManager = a;
      this._campaignManager = d;
      this._configuration = c;
      this._focusManager = g;
      this._noFills = this._parsingErrorCount = this._campaignCount = this._refillTimestamp = 0;
      this._campaignManager.onCampaign.subscribe(function(a, b) {
        return f.onCampaign(a, b);
      });
      this._campaignManager.onNoFill.subscribe(function(a) {
        return f.onNoFill(a);
      });
      this._campaignManager.onError.subscribe(function(a, b, d) {
        return f.onError(a, b, d);
      });
      this._campaignManager.onConnectivityError.subscribe(function(a) {
        return f.onConnectivityError(a);
      });
      this._campaignManager.onAdPlanReceived.subscribe(function(a, b) {
        return f.onAdPlanReceived(a, b);
      });
      this._nativeBridge.getPlatform() === h.IOS ? this._focusManager.onAppForeground.subscribe(function() {
        return f.onAppForeground();
      }) : (this._focusManager.onScreenOn.subscribe(function() {
        return f.onScreenOn();
      }), this._focusManager.onActivityResumed.subscribe(function(a) {
        return f.onActivityResumed(a);
      }));
    }
    c.prototype.getCampaign = function(b) {
      if (b = this._configuration.getPlacement(b)) {
        return b.getCurrentCampaign();
      }
    };
    c.prototype.setCurrentAdUnit = function(b) {
      var a = this;
      this._currentAdUnit = b;
      var d = this._currentAdUnit.onStart.subscribe(function() {
        a._currentAdUnit.onStart.unsubscribe(d);
        a.invalidateCampaigns(!0, a._configuration.getPlacementIds());
        a.setPlacementStates(G.WAITING, a._configuration.getPlacementIds());
      });
      this._currentAdUnit.onStartProcessed.subscribe(function() {
        return a.onAdUnitStartProcessed();
      });
      this._currentAdUnit.onClose.subscribe(function() {
        return a.onAdUnitClose();
      });
      this._currentAdUnit.onFinish.subscribe(function() {
        return a.onAdUnitFinish();
      });
    };
    c.prototype.setRefreshAllowed = function(b) {
      this._refreshAllowed = b;
    };
    c.prototype.refresh = function(b) {
      return this._refreshAllowed ? this.shouldRefill(this._refillTimestamp) ? (this.setPlacementStates(G.WAITING, this._configuration.getPlacementIds()), this._refillTimestamp = 0, this.invalidateCampaigns(!1, this._configuration.getPlacementIds()), this._campaignCount = 0, this._campaignManager.request(b)) : this.checkForExpiredCampaigns() ? this.onCampaignExpired() : Promise.resolve() : Promise.resolve();
    };
    c.prototype.shouldRefill = function(b) {
      return this._needsRefill || 0 !== b && Date.now() > b ? !0 : !1;
    };
    c.prototype.setPlacementState = function(b, a) {
      this._configuration.getPlacement(b).setState(a);
    };
    c.prototype.sendPlacementStateChanges = function(b) {
      var a = this._configuration.getPlacement(b);
      a.getPlacementStateChanged() && (a.setPlacementStateChanged(!1), this._nativeBridge.Placement.setPlacementState(b, a.getState()), this._nativeBridge.Listener.sendPlacementStateChangedEvent(b, G[a.getPreviousState()], G[a.getState()]));
      a.getState() === G.READY && this._nativeBridge.Listener.sendReadyEvent(b);
    };
    c.prototype.setPlacementStates = function(b, a) {
      for (var d = 0; d < a.length; d++) {
        var c = a[d];
        this.setPlacementState(c, b);
      }
      for (b = 0; b < a.length; b++) {
        c = a[b], this.sendPlacementStateChanges(c);
      }
    };
    c.prototype.invalidateCampaigns = function(b, a) {
      this._needsRefill = b;
      for (b = 0; b < a.length; b++) {
        this._configuration.getPlacement(a[b]).setCurrentCampaign(void 0);
      }
    };
    c.prototype.checkForExpiredCampaigns = function() {
      for (var b in this._configuration.getPlacements()) {
        if (this._configuration.getPlacements().hasOwnProperty(b)) {
          var a = this._configuration.getPlacement(b).getCurrentCampaign();
          if (a && a.isExpired()) {
            return !0;
          }
        }
      }
      return !1;
    };
    c.prototype.onCampaignExpired = function() {
      this._nativeBridge.Sdk.logInfo("Unity Ads campaign has expired, requesting new ads");
      this.setPlacementStates(G.NO_FILL, this._configuration.getPlacementIds());
      this.invalidateCampaigns(!1, this._configuration.getPlacementIds());
      return this._campaignManager.request();
    };
    c.prototype.onCampaign = function(b, a) {
      this._parsingErrorCount = 0;
      this.setCampaignForPlacement(b, a);
      this.handlePlacementState(b, G.READY);
    };
    c.prototype.onNoFill = function(b) {
      this._parsingErrorCount = 0;
      this._nativeBridge.Sdk.logInfo("Unity Ads server returned no fill, no ads to show, for placement: " + b);
      this.setCampaignForPlacement(b, void 0);
      this.handlePlacementState(b, G.NO_FILL);
    };
    c.prototype.onError = function(b, a, d) {
      var f = this;
      this.invalidateCampaigns(this._needsRefill, a);
      b instanceof Error && (b = {message:b.message, name:b.name, stack:b.stack});
      t.trigger("auction_request_failed", {error:b}, d);
      this._nativeBridge.Sdk.logError(JSON.stringify(b));
      b = Date.now() + 1000 * c.ErrorRefillDelay;
      if (0 === this._refillTimestamp || this._refillTimestamp > b) {
        this._refillTimestamp = b, this._nativeBridge.Sdk.logInfo("Unity Ads will refresh ads in " + c.ErrorRefillDelay + " seconds");
      }
      if (this._currentAdUnit && this._currentAdUnit.isShowing()) {
        var g = this._currentAdUnit.onClose.subscribe(function() {
          f._currentAdUnit.onClose.unsubscribe(g);
          f.setPlacementStates(G.NO_FILL, a);
        });
      } else {
        this.setPlacementStates(G.NO_FILL, a);
      }
      1 === this._campaignCount && (this._parsingErrorCount++, 1 === this._parsingErrorCount && 0 < c.ParsingErrorRefillDelay && (b = c.ParsingErrorRefillDelay + Math.random() * c.ParsingErrorRefillDelay, this._nativeBridge.Sdk.logDebug("Unity Ads retrying failed campaign in " + b + " seconds"), this._refillTimestamp = Date.now() + 1000 * c.ParsingErrorRefillDelay, setTimeout(function() {
        f._nativeBridge.Sdk.logDebug("Unity Ads retrying failed campaign now");
        f.refresh();
      }, 1000 * b)));
    };
    c.prototype.onConnectivityError = function(b) {
      var a = this;
      this.invalidateCampaigns(this._needsRefill, b);
      this._refillTimestamp = Date.now();
      this._nativeBridge.Sdk.logInfo("Unity Ads failed to contact server, retrying after next system event");
      if (this._currentAdUnit && this._currentAdUnit.isShowing()) {
        var d = this._currentAdUnit.onClose.subscribe(function() {
          a._currentAdUnit.onClose.unsubscribe(d);
          a.setPlacementStates(G.NO_FILL, b);
        });
      } else {
        this.setPlacementStates(G.NO_FILL, b);
      }
    };
    c.prototype.onAdPlanReceived = function(b, a) {
      var d = this;
      this._campaignCount = a;
      if (0 === a) {
        this._noFills++;
        a = 0;
        if (0 < this._noFills && 15 > this._noFills) {
          a = 20;
          for (var c = 1; c < this._noFills; c++) {
            a *= 1.5;
          }
        }
        if (0 < a) {
          this._refillTimestamp = Date.now() + 1000 * a;
          a += 10 * Math.random();
          this._nativeBridge.Sdk.logDebug("Unity Ads ad plan will be refreshed in " + a + " seconds");
          setTimeout(function() {
            d.refresh(!0);
          }, 1000 * a);
          return;
        }
      } else {
        this._noFills = 0;
      }
      0 < b && (this._refillTimestamp = Date.now() + 1000 * b, this._nativeBridge.Sdk.logDebug("Unity Ads ad plan will expire in " + b + " seconds"));
    };
    c.prototype.setCampaignForPlacement = function(b, a) {
      (b = this._configuration.getPlacement(b)) && b.setCurrentCampaign(a);
    };
    c.prototype.handlePlacementState = function(b, a) {
      var d = this;
      if (this._currentAdUnit && this._currentAdUnit.isShowing()) {
        var c = this._currentAdUnit.onClose.subscribe(function() {
          d._currentAdUnit.onClose.unsubscribe(c);
          d._nativeBridge.Sdk.logInfo("Unity Ads placement " + b + " status set to " + G[a]);
          d.setPlacementState(b, a);
          d.sendPlacementStateChanges(b);
          a === G.READY && (K.setReadyEventTimestamp(b), K.sendReadyEvent(b));
        });
      } else {
        this._nativeBridge.Sdk.logInfo("Unity Ads placement " + b + " status set to " + G[a]), this.setPlacementState(b, a), this.sendPlacementStateChanges(b), a === G.READY && (K.setReadyEventTimestamp(b), K.sendReadyEvent(b));
      }
    };
    c.prototype.onActivityResumed = function(b) {
      "com.unity3d.ads.adunit.AdUnitActivity" !== b && "com.unity3d.ads.adunit.AdUnitTransparentActivity" !== b && "com.unity3d.ads.adunit.AdUnitTransparentSoftwareActivity" !== b && "com.unity3d.ads.adunit.AdUnitSoftwareActivity" !== b && this.refresh();
    };
    c.prototype.onAppForeground = function() {
      this.refresh();
    };
    c.prototype.onScreenOn = function() {
      this.refresh();
    };
    c.prototype.onAdUnitFinish = function() {
      this.refresh();
    };
    c.prototype.onAdUnitClose = function() {
      this.refresh();
    };
    c.prototype.onAdUnitStartProcessed = function() {
      var b = this;
      this._currentAdUnit && setTimeout(function() {
        b._currentAdUnit && b._currentAdUnit.isCached() && b.refresh();
      }, this._startRefreshMagicConstant);
    };
    c.NoFillDelay = 3600;
    c.ErrorRefillDelay = 3600;
    c.ParsingErrorRefillDelay = 60;
    return c;
  }(), Ja = function() {
    function c(b, a) {
      var d = this;
      this._nativeBridge = b;
      this._wakeUpManager = a;
      this._nativeBridge.Request.onComplete.subscribe(function(a, b, c, e, m) {
        return d.onRequestComplete(a, b, c, e, m);
      });
      this._nativeBridge.Request.onFailed.subscribe(function(a, b, c) {
        return d.onRequestFailed(a, b, c);
      });
      this._wakeUpManager.onNetworkConnected.subscribe(function() {
        return d.onNetworkConnected();
      });
    }
    c.getHeader = function(b, a) {
      for (var d = 0; d < b.length; d++) {
        var c = b[d], g = c[0];
        c = c[1];
        if (g && g.match(new RegExp(a, "i"))) {
          return c;
        }
      }
      return null;
    };
    c.is2xxSuccessful = function(b) {
      return 200 <= b && 300 > b;
    };
    c.is3xxRedirect = function(b) {
      return 300 <= b && 400 > b;
    };
    c.getDefaultRequestOptions = function() {
      return {retries:0, retryDelay:0, followRedirects:!1, retryWithConnectionEvents:!1};
    };
    c.prototype.get = function(b, a, d) {
      void 0 === a && (a = []);
      "undefined" === typeof d && (d = c.getDefaultRequestOptions());
      var f = c._callbackId++, g = this.registerCallback(f);
      this.invokeRequest(f, {method:0, url:b, headers:a, retryCount:0, options:d});
      return g;
    };
    c.prototype.post = function(b, a, d, f) {
      void 0 === a && (a = "");
      void 0 === d && (d = []);
      "undefined" === typeof f && (f = c.getDefaultRequestOptions());
      d.push(["Content-Type", "application/json"]);
      var g = c._callbackId++, l = this.registerCallback(g);
      this.invokeRequest(g, {method:1, url:b, data:a, headers:d, retryCount:0, options:f});
      return l;
    };
    c.prototype.head = function(b, a, d) {
      void 0 === a && (a = []);
      "undefined" === typeof d && (d = c.getDefaultRequestOptions());
      this._nativeBridge.getPlatform() === h.ANDROID && 16 > this._nativeBridge.getApiLevel() && a.push(["Accept-Encoding", ""]);
      var f = c._callbackId++, g = this.registerCallback(f);
      this.invokeRequest(f, {method:2, url:b, headers:a, retryCount:0, options:d});
      return g;
    };
    c.prototype.followRedirectChain = function(b, a) {
      var d = this;
      void 0 === a && (a = !1);
      var f = 0;
      return new Promise(function(g, l) {
        function e(b) {
          f++;
          b = b.trim();
          f >= c._redirectLimit ? l(Error("redirect limit reached")) : -1 === b.indexOf("http") ? g(b) : d.head(b).then(function(d) {
            if (c.is3xxRedirect(d.responseCode)) {
              var f = c.getHeader(d.headers, "location");
              f ? e(f) : l(Error(d.responseCode + ' response did not have a "Location" header'));
            } else {
              c.is2xxSuccessful(d.responseCode) ? g(b) : a ? g(b) : l(Error("Request to " + b + " failed with status " + d.responseCode));
            }
          }).catch(l);
        }
        e(b);
      });
    };
    c.prototype.registerCallback = function(b) {
      return new Promise(function(a, d) {
        c._callbacks[b] = new pb(a, d);
      });
    };
    c.prototype.invokeRequest = function(b, a) {
      c._requests[b] = a;
      switch(a.method) {
        case 0:
          return this._nativeBridge.Request.get(b.toString(), a.url, a.headers, c._connectTimeout, c._readTimeout);
        case 1:
          return this._nativeBridge.Request.post(b.toString(), a.url, a.data || "", a.headers, c._connectTimeout, c._readTimeout);
        case 2:
          return this._nativeBridge.Request.head(b.toString(), a.url, a.headers, c._connectTimeout, c._readTimeout);
        default:
          throw Error('Unsupported request method "' + a.method + '"');
      }
    };
    c.prototype.finishRequest = function(b, a) {
      for (var d = [], f = 2; f < arguments.length; f++) {
        d[f - 2] = arguments[f];
      }
      if (f = c._callbacks[b]) {
        0 === a ? f.resolve.apply(f, d) : f.reject.apply(f, d), delete c._callbacks[b], delete c._requests[b];
      }
    };
    c.prototype.handleFailedRequest = function(b, a, d, c) {
      var f = this;
      a.retryCount < a.options.retries ? (a.retryCount++, setTimeout(function() {
        f.invokeRequest(b, a);
      }, a.options.retryDelay)) : a.options.retryWithConnectionEvents || this.finishRequest(b, 1, new ya(d, a, c));
    };
    c.prototype.onRequestComplete = function(b, a, d, f, g) {
      b = parseInt(b, 10);
      a = {url:a, response:d, responseCode:f, headers:g};
      if (d = c._requests[b]) {
        c.AllowedResponseCodes.exec(f.toString()) ? this.finishRequest(b, 0, a) : c.RedirectResponseCodes.exec(f.toString()) ? d.options.followRedirects ? (f = c.getHeader(g, "location")) && this.followRedirects(f) ? (d.url = f, this.invokeRequest(b, d)) : this.finishRequest(b, 0, a) : this.finishRequest(b, 0, a) : c.ErrorResponseCodes.exec(f.toString()) ? this.finishRequest(b, 1, new ya("FAILED_WITH_ERROR_RESPONSE", d, a)) : this.finishRequest(b, 1, new ya("FAILED_WITH_UNKNOWN_RESPONSE_CODE", d, 
        a));
      }
    };
    c.prototype.followRedirects = function(b) {
      return !b.match(/^https?/i) || b.match(/^https:\/\/itunes\.apple\.com/i) || b.match(/\.apk$/i) ? !1 : !0;
    };
    c.prototype.onRequestFailed = function(b, a, d) {
      b = parseInt(b, 10);
      (a = c._requests[b]) && this.handleFailedRequest(b, a, d);
    };
    c.prototype.onNetworkConnected = function() {
      for (var b in c._requests) {
        if (c._requests.hasOwnProperty(b)) {
          var a = c._requests[b];
          a.options.retryWithConnectionEvents && a.options.retries === a.retryCount && this.invokeRequest(parseInt(b, 10), a);
        }
      }
    };
    c.AllowedResponseCodes = /2[0-9]{2}/;
    c.RedirectResponseCodes = /30[0-8]/;
    c.ErrorResponseCodes = /[4-5][0-9]{2}/;
    c._connectTimeout = 30000;
    c._readTimeout = 30000;
    c._redirectLimit = 10;
    c._callbackId = 1;
    c._callbacks = {};
    c._requests = {};
    return c;
  }(), za;
  (function(c) {
    c[c.METADATA_KEY_DURATION = 9] = "METADATA_KEY_DURATION";
    c[c.METADATA_KEY_VIDEO_HEIGHT = 19] = "METADATA_KEY_VIDEO_HEIGHT";
    c[c.METADATA_KEY_VIDEO_WIDTH = 18] = "METADATA_KEY_VIDEO_WIDTH";
  })(za || (za = {}));
  var Ob = function() {
    function c() {
    }
    c.getVideoInfo = function(b, a) {
      return b.getPlatform() === h.IOS ? b.Cache.Ios.getVideoInfo(a).then(function(a) {
        return [a[0], a[1], a[2]];
      }) : b.Cache.Android.getMetaData(a, [za.METADATA_KEY_VIDEO_WIDTH, za.METADATA_KEY_VIDEO_HEIGHT, za.METADATA_KEY_DURATION]).then(function(a) {
        for (var b = 0, d = 0, c = 0, e = 0; e < a.length; e++) {
          var m = a[e], w = m[1];
          switch(m[0]) {
            case za.METADATA_KEY_VIDEO_WIDTH:
              b = w;
              break;
            case za.METADATA_KEY_VIDEO_HEIGHT:
              d = w;
              break;
            case za.METADATA_KEY_DURATION:
              c = w;
          }
        }
        return [b, d, c];
      });
    };
    return c;
  }(), E;
  (function(c) {
    c[c.OK = 0] = "OK";
    c[c.STOPPED = 1] = "STOPPED";
    c[c.FAILED = 2] = "FAILED";
  })(E || (E = {}));
  var ha;
  (function(c) {
    c[c.STARTED = 0] = "STARTED";
    c[c.RESUMED = 1] = "RESUMED";
    c[c.STOPPED = 2] = "STOPPED";
    c[c.FINISHED = 3] = "FINISHED";
    c[c.REDIRECTED = 4] = "REDIRECTED";
    c[c.ERROR = 5] = "ERROR";
  })(ha || (ha = {}));
  var Kd = function() {
    function c(b, a, d, c) {
      var f = this;
      this.onFastConnectionDetected = new x;
      this._callbacks = {};
      this._fileIds = {};
      this._maxRetries = 5;
      this._retryDelay = 10000;
      this._maxFileSize = 20971520;
      this._maxVideoDuration = 40000;
      this._currentDownloadPosition = -1;
      this._sendDiagnosticEvents = this._fastConnectionDetected = !1;
      this._nativeBridge = b;
      this._wakeUpManager = a;
      this._request = d;
      c && (this._maxRetries = c.retries, this._retryDelay = c.retryDelay);
      this._paused = !1;
      this._wakeUpManager.onNetworkConnected.subscribe(function() {
        return f.onNetworkConnected();
      });
      this._nativeBridge.Cache.setProgressInterval(250);
      this._nativeBridge.Cache.onDownloadStarted.subscribe(function(a, b, d, c, g) {
        return f.onDownloadStarted(a, b, d, c, g);
      });
      this._nativeBridge.Cache.onDownloadProgress.subscribe(function(a, b, d) {
        return f.onDownloadProgress(a, b, d);
      });
      this._nativeBridge.Cache.onDownloadEnd.subscribe(function(a, b, d, c, g, e) {
        return f.onDownloadEnd(a, b, d, c, g, e);
      });
      this._nativeBridge.Cache.onDownloadStopped.subscribe(function(a, b, d, c, g, e) {
        return f.onDownloadStopped(a, b, d, c, g, e);
      });
      this._nativeBridge.Cache.onDownloadError.subscribe(function(a, b, d) {
        return f.onDownloadError(a, b, d);
      });
      this._nativeBridge.Storage.onSet.subscribe(function(a, b) {
        return f.onStorageSet(a, b);
      });
      this._nativeBridge.Storage.get(n.PUBLIC, "caching.pause.value").then(function(a) {
        f._paused = a;
        f._nativeBridge.Storage.delete(n.PUBLIC, "caching.pause");
        f._nativeBridge.Storage.write(n.PUBLIC);
      }).catch(function() {
      });
    }
    c.prototype.cache = function(b, a, d) {
      var c = this;
      return Promise.all([this.isCached(b), this.getFileId(b)]).then(function(f) {
        var g = f[1];
        if (f[0]) {
          return Promise.resolve([E.OK, g]);
        }
        f = c.registerCallback(b, g, c._paused, a, d.getSession());
        c._paused || c.downloadFile(b, g);
        return f;
      }).then(function(a) {
        var b = a[0], d = a[1];
        if (b === E.OK) {
          return c.getFileUrl(d).then(function(a) {
            return [d, a];
          });
        }
        throw b;
      }).catch(function(a) {
        throw a;
      });
    };
    c.prototype.isCached = function(b) {
      var a = this;
      return this.getFileId(b).then(function(b) {
        return a._nativeBridge.Cache.getFileInfo(b).then(function(d) {
          return d.found && 0 < d.size ? a.getCacheResponse(b).then(function(a) {
            return a.fullyDownloaded;
          }) : !1;
        }).catch(function() {
          return !1;
        });
      });
    };
    c.prototype.stop = function() {
      var b = !1, a;
      for (a in this._callbacks) {
        if (this._callbacks.hasOwnProperty(a)) {
          var d = this._callbacks[a];
          d.networkRetry || d.paused ? this.fulfillCallback(a, E.STOPPED) : b = !0;
        }
      }
      b && this._nativeBridge.Cache.stop();
    };
    c.prototype.cleanCache = function() {
      var b = this;
      return Promise.all([this.getCacheFilesKeys(), this._nativeBridge.Cache.getFiles(), this.getCacheCampaigns()]).then(function(a) {
        var d = a[0], c = a[1];
        a = a[2];
        if (!c || !c.length) {
          var g = 0;
          if (a) {
            for (var l in a) {
              a.hasOwnProperty(l) && g++;
            }
          }
          return d && 0 < d.length || 0 < g ? b.deleteCacheBookKeepingData() : b.checkAndCleanOldCacheFormat();
        }
        return b.checkAndCleanOldCacheFormat().then(function() {
          var a = [], f = (new Date).getTime() - 18144E5, g = [], l = [], e = 0, h = 0, Ca = 0;
          c.sort(function(a, b) {
            return b.mtime - a.mtime;
          });
          for (var B = 0; B < c.length; B++) {
            var p = c[B];
            e += p.size;
            p.mtime < f || 52428800 < e ? (l.push(p.id), h += p.size) : (g.push(p.id), Ca += p.size);
          }
          0 < l.length ? b._nativeBridge.Sdk.logInfo("Unity Ads cache: Deleting " + l.length + " old files (" + h / 1024 + "kB), keeping " + g.length + " cached files (" + Ca / 1024 + "kB)") : b._nativeBridge.Sdk.logInfo("Unity Ads cache: Keeping " + g.length + " cached files (" + Ca / 1024 + "kB)");
          var u = !1;
          l.map(function(c) {
            -1 !== d.indexOf(b.getFileIdHash(c)) && (a.push(b._nativeBridge.Storage.delete(n.PRIVATE, "cache.files." + b.getFileIdHash(c)).catch(function() {
              b._nativeBridge.Sdk.logDebug("Error while removing file storage entry");
            })), u = !0);
            a.push(b._nativeBridge.Cache.deleteFile(c));
          });
          u && a.push(b._nativeBridge.Storage.write(n.PRIVATE));
          g.map(function(d) {
            a.push(b.getCacheResponse(d).then(function(a) {
              return !0 === a.fullyDownloaded ? Promise.all([]) : Promise.all([b._nativeBridge.Sdk.logInfo("Unity ads cache: Deleting partial download " + d), b._nativeBridge.Storage.delete(n.PRIVATE, "cache.files." + b.getFileIdHash(d)).catch(function() {
                b._nativeBridge.Sdk.logDebug("Error while removing file storage entry for partially downloaded file");
              }), b._nativeBridge.Storage.write(n.PRIVATE), b._nativeBridge.Cache.deleteFile(d)]);
            }).catch(function() {
              return Promise.all([b._nativeBridge.Sdk.logInfo("Unity ads cache: Deleting desynced download " + d), b._nativeBridge.Cache.deleteFile(d)]);
            }));
          });
          return Promise.all([b._nativeBridge.Cache.getFiles(), b.getCacheCampaigns()]).then(function(d) {
            function c(d) {
              if (f.hasOwnProperty(d)) {
                for (var c in f[d]) {
                  if (f[d].hasOwnProperty(c) && -1 === g.indexOf(c)) {
                    a.push(b._nativeBridge.Storage.delete(n.PRIVATE, "cache.campaigns." + d).catch(function(a) {
                      t.trigger("clean_cache_delete_storage_entry_failed", {cleanCacheError:a, cleanCacheKey:"cache.campaigns." + d, cleanCacheErrorType:"deleteUncachedCampaign"});
                    }));
                    l = !0;
                    break;
                  }
                }
              }
            }
            var f = d[1], g = [];
            d[0].map(function(a) {
              g.push(b.getFileIdHash(a.id));
            });
            var l = !1, e;
            for (e in f) {
              c(e);
            }
            l && a.push(b._nativeBridge.Storage.write(n.PRIVATE));
          }).then(function() {
            return Promise.all(a);
          });
        });
      });
    };
    c.prototype.getFileId = function(b) {
      var a = this;
      if (b in this._fileIds) {
        return Promise.resolve(this._fileIds[b]);
      }
      -1 !== b.indexOf("?") && (b = b.split("?")[0]);
      var d, c = b, g = b.split("/");
      1 < g.length && (c = g[g.length - 1]);
      c = c.split(".");
      1 < c.length && (d = c[c.length - 1]);
      return this._nativeBridge.Cache.getHash(b).then(function(c) {
        return d ? a._fileIds[b] = c + "." + d : a._fileIds[b] = c;
      });
    };
    c.prototype.getFileUrl = function(b) {
      return this._nativeBridge.Cache.getFilePath(b).then(function(a) {
        return "file://" + a;
      });
    };
    c.prototype.isVideoValid = function(b, a) {
      var d = this;
      return this.getFileId(b.getOriginalUrl()).then(function(c) {
        return Ob.getVideoInfo(d._nativeBridge, c).then(function(c) {
          var f = c[0], g = c[1];
          c = c[2];
          var e = 0 < f && 0 < g && 0 < c && c <= d._maxVideoDuration, w = "video_validation_failed";
          c > d._maxVideoDuration && (w = "video_validation_failed_video_too_long");
          e || t.trigger(w, {url:b.getOriginalUrl(), width:f, height:g, duration:c}, a.getSession());
          return e;
        }).catch(function(d) {
          t.trigger("video_validation_failed", {url:b.getOriginalUrl(), error:d}, a.getSession());
          return !1;
        });
      });
    };
    c.prototype.isPaused = function() {
      return this._paused;
    };
    c.prototype.writeCachedFileForCampaign = function(b, a) {
      var d = this;
      return this._nativeBridge.Storage.set(n.PRIVATE, "cache.campaigns." + b + "." + this.getFileIdHash(a), {extension:this.getFileIdExtension(a)}).then(function() {
        d._nativeBridge.Storage.write(n.PRIVATE);
      }).catch(function() {
        return Promise.resolve();
      });
    };
    c.prototype.setDiagnostics = function(b) {
      this._sendDiagnosticEvents = b;
    };
    c.prototype.getFreeSpace = function() {
      return this._nativeBridge.Cache.getFreeSpace().then(function(b) {
        return b;
      });
    };
    c.prototype.deleteCacheBookKeepingData = function() {
      var b = this;
      return this._nativeBridge.Storage.delete(n.PRIVATE, "cache").then(function() {
        return b._nativeBridge.Storage.write(n.PRIVATE);
      }).catch(function() {
        return Promise.resolve();
      });
    };
    c.prototype.checkAndCleanOldCacheFormat = function() {
      var b = this;
      return this.getCacheKeys().then(function(a) {
        if (2 < a.length) {
          return b.deleteCacheBookKeepingData();
        }
        for (var d = 0; d < a.length; d++) {
          var c = a[d];
          if (c && "files" !== c && "campaigns" !== c) {
            return b.deleteCacheBookKeepingData();
          }
        }
        return Promise.resolve();
      }).catch(function() {
        return Promise.resolve();
      });
    };
    c.prototype.downloadFile = function(b, a) {
      var d = this;
      this._currentUrl = b;
      this._nativeBridge.Cache.download(b, a, []).catch(function(c) {
        var f = d._callbacks[b];
        if (f) {
          switch(c) {
            case O[O.FILE_ALREADY_CACHING]:
              d._nativeBridge.Sdk.logError("Unity Ads cache error: attempted to add second download from " + b + " to " + a);
              d.fulfillCallback(b, E.FAILED);
              break;
            case O[O.NO_INTERNET]:
              d.handleRetry(f, b, O[O.NO_INTERNET]);
              break;
            default:
              d.fulfillCallback(b, E.FAILED);
          }
        }
      });
    };
    c.prototype.registerCallback = function(b, a, d, c, g, e) {
      var f = this;
      return new Promise(function(l, k) {
        f._callbacks[b] = {fileId:a, networkRetry:!1, retryCount:0, networkRetryCount:0, paused:d, startTimestamp:0, contentLength:0, diagnostics:c, session:g, resolve:l, reject:k, originalUrl:e};
      });
    };
    c.prototype.fulfillCallback = function(b, a) {
      var d = this._callbacks[b], c = d.originalUrl ? this._callbacks[d.originalUrl] : void 0;
      a === E.FAILED ? (d.reject(E.FAILED), c && c.reject(E.FAILED)) : (d.resolve([a, d.fileId]), c && c.resolve([a, c.fileId]));
      d.originalUrl && delete this._callbacks[d.originalUrl];
      delete this._callbacks[b];
    };
    c.prototype.createCacheResponse = function(b, a, d, c) {
      return {fullyDownloaded:b, size:a, totalSize:d, extension:c};
    };
    c.prototype.getCacheResponse = function(b) {
      return this._nativeBridge.Storage.get(n.PRIVATE, "cache.files." + this.getFileIdHash(b));
    };
    c.prototype.writeCacheResponse = function(b, a) {
      this._nativeBridge.Storage.set(n.PRIVATE, "cache.files." + this.getFileIdHash(b), a);
      this._nativeBridge.Storage.write(n.PRIVATE);
    };
    c.prototype.deleteCacheResponse = function(b) {
      this._nativeBridge.Storage.delete(n.PRIVATE, "cache.files." + this.getFileIdHash(b));
      this._nativeBridge.Storage.write(n.PRIVATE);
    };
    c.prototype.getCacheKeysForKey = function(b, a) {
      return this._nativeBridge.Storage.getKeys(n.PRIVATE, b, a).then(function(a) {
        return a;
      }).catch(function() {
        return [];
      });
    };
    c.prototype.getCacheKeys = function() {
      return this.getCacheKeysForKey("cache", !1);
    };
    c.prototype.getCacheFilesKeys = function() {
      return this.getCacheKeysForKey("cache.files", !1);
    };
    c.prototype.getCacheCampaigns = function() {
      return this._nativeBridge.Storage.get(n.PRIVATE, "cache.campaigns").then(function(b) {
        return b;
      }).catch(function() {
        return {};
      });
    };
    c.prototype.getFileIdHash = function(b) {
      return b.split(".", 2)[0];
    };
    c.prototype.getFileIdExtension = function(b) {
      return b.split(".", 2)[1];
    };
    c.prototype.onDownloadStarted = function(b, a, d, c, g) {
      this.updateProgress(0, !1);
      var f = this._callbacks[b];
      f.startTimestamp = Date.now();
      f.contentLength = d;
      0 === a ? (this.writeCacheResponse(f.fileId, this.createCacheResponse(!1, a, d, this.getFileIdExtension(f.fileId))), this.sendDiagnostic(ha.STARTED, f), K.setCachingStartTimestamp(f.fileId)) : this.sendDiagnostic(ha.RESUMED, f);
      d > this._maxFileSize && (this._nativeBridge.Cache.stop(), t.trigger("too_large_file", {url:b, size:a, totalSize:d, responseCode:c, headers:g}, f.session));
    };
    c.prototype.onDownloadProgress = function(b, a, d) {
      this.updateProgress(a, !1);
      this._nativeBridge.Sdk.logDebug('Cache progress for "' + b + '": ' + Math.round(a / d * 100) + "%");
    };
    c.prototype.onDownloadEnd = function(b, a, d, c, g, e) {
      this.updateProgress(a, !0);
      var f = this._callbacks[b];
      if (f) {
        if (Ja.AllowedResponseCodes.exec(g.toString())) {
          this.writeCacheResponse(f.fileId, this.createCacheResponse(!0, a, d, this.getFileIdExtension(f.fileId))), this.sendDiagnostic(ha.FINISHED, f), this.fulfillCallback(b, E.OK), K.setCachingFinishTimestamp(f.fileId);
        } else {
          if (Ja.RedirectResponseCodes.exec(g.toString())) {
            this.sendDiagnostic(ha.REDIRECTED, f);
            this.deleteCacheResponse(f.fileId);
            0 < a && this._nativeBridge.Cache.deleteFile(f.fileId);
            var l = Ja.getHeader(e, "location");
            if (l) {
              a = f.fileId;
              f.originalUrl && (a = this._callbacks[f.originalUrl].fileId, b = f.originalUrl);
              this.registerCallback(l, a, !1, f.diagnostics, f.session, b);
              this.downloadFile(l, a);
              return;
            }
          } else {
            if (416 === g) {
              this.sendDiagnostic(ha.ERROR, f);
              this.handleRequestRangeError(f, b);
              return;
            }
          }
          this.sendDiagnostic(ha.ERROR, f);
          l = new H(Error("HTTP " + g), {url:b, size:a, totalSize:d, duration:c, responseCode:g, headers:JSON.stringify(e)});
          t.trigger("cache_error", l, f.session);
          this.deleteCacheResponse(f.fileId);
          0 < a && this._nativeBridge.Cache.deleteFile(f.fileId);
          this.fulfillCallback(b, E.FAILED);
        }
      }
    };
    c.prototype.onDownloadStopped = function(b, a, d) {
      this.updateProgress(a, !0);
      var c = this._callbacks[b];
      c && (this.writeCacheResponse(c.fileId, this.createCacheResponse(!1, a, d, this.getFileIdExtension(c.fileId))), this.sendDiagnostic(ha.STOPPED, c), c.contentLength > this._maxFileSize ? this.fulfillCallback(b, E.FAILED) : c.paused || this.fulfillCallback(b, E.STOPPED));
    };
    c.prototype.onDownloadError = function(b, a) {
      var d = this._callbacks[a];
      if (d) {
        switch(this.sendDiagnostic(ha.ERROR, d), b) {
          case O[O.NETWORK_ERROR]:
            this.handleRetry(d, a, b);
            break;
          case O[O.NO_INTERNET]:
            this.handleRetry(d, a, b);
            break;
          default:
            this.fulfillCallback(a, E.FAILED);
        }
      }
    };
    c.prototype.handleRetry = function(b, a) {
      var d = this;
      b.retryCount < this._maxRetries ? (b.retryCount++, b.networkRetry = !0, setTimeout(function() {
        var b = d._callbacks[a];
        b && b.networkRetry && (b.networkRetry = !1, d.downloadFile(a, b.fileId));
      }, this._retryDelay)) : b.networkRetryCount < this._maxRetries ? (b.networkRetryCount++, b.networkRetry = !0) : this.fulfillCallback(a, E.FAILED);
    };
    c.prototype.handleRequestRangeError = function(b, a) {
      var d = this;
      Promise.all([this._nativeBridge.Cache.getFileInfo(b.fileId), this._request.head(a)]).then(function(c) {
        var f = c[0];
        c = c[1];
        var e = Ja.getHeader(c.headers, "Content-Length");
        if (200 === c.responseCode && f.found && e && f.size === parseInt(e, 10) && 0 < f.size) {
          t.trigger("cache_desync_fixed", {url:a, responseCode:c.responseCode, fileFound:f.found, fileSize:f.size, contentLength:parseInt(e, 10)}, b.session), d.writeCacheResponse(b.fileId, d.createCacheResponse(!0, f.size, f.size, d.getFileIdExtension(b.fileId))), d.fulfillCallback(a, E.OK);
        } else {
          var k = void 0;
          e && (k = parseInt(e, 10));
          t.trigger("cache_desync_failure", {url:a, responseCode:c.responseCode, fileFound:f.found, fileSize:f.size, contentLength:k}, b.session);
          d.deleteCacheResponse(b.fileId);
          f.found && d._nativeBridge.Cache.deleteFile(b.fileId);
          d.fulfillCallback(a, E.FAILED);
        }
      }).catch(function(c) {
        t.trigger("cache_desync_failure", {url:a, error:c}, b.session);
        d.deleteCacheResponse(b.fileId);
        d.fulfillCallback(a, E.FAILED);
      });
    };
    c.prototype.onNetworkConnected = function() {
      for (var b in this._callbacks) {
        if (this._callbacks.hasOwnProperty(b)) {
          var a = this._callbacks[b];
          a.networkRetry && (a.networkRetry = !1, this.downloadFile(b, a.fileId));
        }
      }
    };
    c.prototype.pause = function(b) {
      if (b !== this._paused) {
        if (this._paused = b) {
          b = !1;
          for (var a in this._callbacks) {
            if (this._callbacks.hasOwnProperty(a)) {
              var d = this._callbacks[a];
              d.paused = !0;
              d.networkRetry || (b = !0);
            }
          }
          b && this._nativeBridge.Cache.stop();
        } else {
          for (a in this._callbacks) {
            this._callbacks.hasOwnProperty(a) && (d = this._callbacks[a], d.paused && (d.paused = !1, this.downloadFile(a, d.fileId)));
          }
        }
      }
    };
    c.prototype.onStorageSet = function(b, a) {
      b = !1;
      a && a.caching && a.caching.pause && "value" in a.caching.pause && (this.pause(a.caching.pause.value), b = !0);
      b && (this._nativeBridge.Storage.delete(n.PUBLIC, "caching.pause"), this._nativeBridge.Storage.write(n.PUBLIC));
    };
    c.prototype.updateProgress = function(b, a) {
      var d = b - this._currentDownloadPosition, c = Date.now() - this._lastProgressEvent;
      0 < b && 102400 < d && 512 < d / c && !this._fastConnectionDetected && (this._fastConnectionDetected = !0, this.onFastConnectionDetected.trigger());
      a ? (this._currentDownloadPosition = 0, this._fastConnectionDetected = !1) : (this._currentDownloadPosition = b, this._lastProgressEvent = Date.now());
    };
    c.prototype.sendDiagnostic = function(b, a) {
      this._sendDiagnosticEvents && (b = {eventTimestamp:Date.now(), eventType:ha[b], creativeType:a.diagnostics.creativeType, size:a.contentLength, downloadStartTimestamp:a.startTimestamp, gamerId:a.diagnostics.gamerId, targetGameId:a.diagnostics.targetGameId, targetCampaignId:a.diagnostics.targetCampaignId}, aa.sendEvent("events.creativedownload.json", b));
    };
    return c;
  }(), Ld = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Md = function(c) {
    function b(a, b, f) {
      var d = c.call(this, "AuctionResponse", {placements:["array"], contentType:["string"], content:["string"], cacheTTL:["integer", "undefined"], trackingUrls:["object"], adType:["string"], creativeId:["string", "undefined"], seatId:["integer", "undefined"], appCategory:["string", "undefined"], appSubCategory:["string", "undefined"], correlationId:["string"], advertiserCampaignId:["string", "undefined"], advertiserDomain:["string", "undefined"], advertiserBundleId:["string", "undefined"], useWebViewUserAgentForTracking:["boolean", 
      "undefined"], buyerId:["string", "undefined"]}) || this;
      d.set("placements", a);
      d.set("contentType", b.contentType);
      d.set("content", b.content);
      d.set("cacheTTL", b.cacheTTL);
      d.set("trackingUrls", b.trackingUrls);
      d.set("adType", b.adType);
      d.set("creativeId", b.creativeId);
      d.set("seatId", b.seatId);
      d.set("correlationId", f);
      d.set("appCategory", b.appCategory);
      d.set("appSubCategory", b.appSubCategory);
      d.set("advertiserCampaignId", b.campaignId);
      d.set("advertiserDomain", b.advDomain);
      d.set("advertiserBundleId", b.bundleId);
      d.set("useWebViewUserAgentForTracking", b.useWebViewUserAgentForTracking || !1);
      d.set("buyerId", b.buyerId);
      return d;
    }
    Ld(b, c);
    b.prototype.getPlacements = function() {
      return this.get("placements");
    };
    b.prototype.getContentType = function() {
      return this.get("contentType");
    };
    b.prototype.getContent = function() {
      return this.get("content");
    };
    b.prototype.getJsonContent = function() {
      return Ga.parse(this.getContent());
    };
    b.prototype.getCacheTTL = function() {
      return this.get("cacheTTL");
    };
    b.prototype.getTrackingUrls = function() {
      return this.get("trackingUrls");
    };
    b.prototype.getAdType = function() {
      return this.get("adType");
    };
    b.prototype.getCreativeId = function() {
      return this.get("creativeId");
    };
    b.prototype.getSeatId = function() {
      return this.get("seatId");
    };
    b.prototype.getCorrelationId = function() {
      return this.get("correlationId");
    };
    b.prototype.getCategory = function() {
      return this.get("appCategory");
    };
    b.prototype.getSubCategory = function() {
      return this.get("appSubCategory");
    };
    b.prototype.getAdvertiserDomain = function() {
      return this.get("advertiserDomain");
    };
    b.prototype.getAdvertiserCampaignId = function() {
      return this.get("advertiserCampaignId");
    };
    b.prototype.getAdvertiserBundleId = function() {
      return this.get("advertiserBundleId");
    };
    b.prototype.getUseWebViewUserAgentForTracking = function() {
      return this.get("useWebViewUserAgentForTracking");
    };
    b.prototype.getBuyerId = function() {
      return this.get("buyerId");
    };
    b.prototype.getDTO = function() {
      return {placements:this.getPlacements(), contentType:this.getContentType(), content:this.getContent(), cacheTTL:this.getCacheTTL(), trackingUrls:this.getTrackingUrls(), adType:this.getAdType(), creativeId:this.getCreativeId(), seatId:this.getSeatId(), correlationId:this.getCorrelationId(), appCategory:this.getCategory(), appSubCategory:this.getSubCategory(), useWebViewUserAgentForTracking:this.getUseWebViewUserAgentForTracking(), buyerId:this.getBuyerId()};
    };
    return b;
  }(J), Ka = function() {
    function c() {
    }
    c.prototype.getProgrammaticCampaignId = function(b) {
      switch(b.getPlatform()) {
        case h.IOS:
          return "00005472656d6f7220694f53";
        case h.ANDROID:
          return "005472656d6f7220416e6472";
        default:
          return "UNKNOWN";
      }
    };
    return c;
  }(), Nd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Aa = function(c) {
    function b(a, b) {
      b = c.call(this, "Image", b, Sa.Schema) || this;
      b.set("url", a);
      return b;
    }
    Nd(b, c);
    b.prototype.getDescription = function() {
      return "IMAGE";
    };
    return b;
  }(Sa), Od = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Pb = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Pd = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    Od(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      a = c.getJsonContent();
      switch("undefined" !== typeof a.store ? a.store : "") {
        case "apple":
          b = ma.APPLE;
          break;
        case "google":
          b = ma.GOOGLE;
          break;
        case "xiaomi":
          b = ma.XIAOMI;
          break;
        default:
          throw Error('Unknown store value "' + a.store + '"');
      }
      e = {id:a.id, gamerId:e, abGroup:k, willExpireAt:void 0, adType:void 0, correlationId:void 0, creativeId:void 0, seatId:void 0, meta:a.meta, appCategory:void 0, appSubCategory:void 0, advertiserDomain:void 0, advertiserCampaignId:void 0, advertiserBundleId:void 0, useWebViewUserAgentForTracking:void 0, buyerId:void 0, session:g};
      if (a && a.mraidUrl) {
        return c = Pb({}, e, {useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), resourceAsset:a.mraidUrl ? new sb(a.mraidUrl, g) : void 0, resource:void 0, dynamicMarkup:a.dynamicMarkup, additionalTrackingEvents:void 0, clickAttributionUrl:a.clickAttributionUrl, clickAttributionUrlFollowsRedirects:a.clickAttributionUrlFollowsRedirects, clickUrl:a.clickUrl ? a.clickUrl : void 0, videoEventUrls:a.videoEventUrls ? a.videoEventUrls : void 0, gameName:a.gameName, gameIcon:a.gameIcon ? 
        new Aa(a.gameIcon, g) : void 0, rating:a.rating, ratingCount:a.ratingCount, landscapeImage:a.endScreenLandscape ? new Aa(a.endScreenLandscape, g) : void 0, portraitImage:a.endScreenPortrait ? new Aa(a.endScreenPortrait, g) : void 0, bypassAppSheet:a.bypassAppSheet, store:b, appStoreId:a.appStoreId}), Promise.resolve(new na(c));
      }
      c = Pb({}, e, {appStoreId:a.appStoreId, gameId:a.gameId, gameName:a.gameName, gameIcon:new Aa(a.gameIcon, g), rating:a.rating, ratingCount:a.ratingCount, landscapeImage:new Aa(a.endScreenLandscape, g), portraitImage:new Aa(a.endScreenPortrait, g), clickAttributionUrl:a.clickAttributionUrl, clickAttributionUrlFollowsRedirects:a.clickAttributionUrlFollowsRedirects, clickUrl:a.clickUrl, videoEventUrls:a.videoEventUrls, bypassAppSheet:a.bypassAppSheet, store:b});
      a.trailerDownloadable && a.trailerDownloadableSize && a.trailerStreaming && (c.video = new Ha(a.trailerDownloadable, g, a.trailerDownloadableSize), c.streamingVideo = new Ha(a.trailerStreaming, g));
      a.trailerPortraitDownloadable && a.trailerPortraitDownloadableSize && a.trailerPortraitStreaming && (c.videoPortrait = new Ha(a.trailerPortraitDownloadable, g, a.trailerPortraitDownloadableSize), c.streamingPortraitVideo = new Ha(a.trailerPortraitStreaming, g));
      return Promise.resolve(new da(c));
    };
    return b;
  }(Ka), Qd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Rd = function(c) {
    function b(a, b) {
      var d = c.call(this, "Vast", {ads:["array"], errorURLTemplates:["array"], additionalTrackingEvents:["object"]}) || this;
      d.set("ads", a);
      d.set("errorURLTemplates", b);
      d.set("additionalTrackingEvents", {});
      return d;
    }
    Qd(b, c);
    b.prototype.getAds = function() {
      return this.get("ads");
    };
    b.prototype.getErrorURLTemplates = function() {
      var a = this.getAd();
      return a && (a = a.getErrorURLTemplates(), a instanceof Array) ? a.concat(this.get("errorURLTemplates") || []) : this.get("errorURLTemplates");
    };
    b.prototype.getAd = function() {
      return this.getAds() && 0 < this.getAds().length ? this.getAds()[0] : null;
    };
    b.prototype.getVideoUrl = function() {
      var a = this.getAd();
      if (a) {
        var b = 0;
        for (a = a.getCreatives(); b < a.length; b++) {
          for (var c = 0, g = a[b].getMediaFiles(); c < g.length; c++) {
            var e = g[c], k = e.getMIMEType();
            k = k && this.isPlayableMIMEType(k);
            if ((e = e.getFileURL()) && k) {
              return e;
            }
          }
        }
      }
      throw Error("No video URL found for VAST");
    };
    b.prototype.getImpressionUrls = function() {
      var a = this.getAd();
      return a ? a.getImpressionURLTemplates() : [];
    };
    b.prototype.getTrackingEventUrls = function(a) {
      var b = this.getAd();
      if (b) {
        b = b.getTrackingEventUrls(a);
        var c = [];
        this.get("additionalTrackingEvents") && (c = this.get("additionalTrackingEvents")[a] || []);
        return b instanceof Array ? b.concat(c) : c;
      }
      return [];
    };
    b.prototype.addTrackingEventUrl = function(a, b) {
      this.get("additionalTrackingEvents") || this.set("additionalTrackingEvents", {});
      this.get("additionalTrackingEvents")[a] || (this.get("additionalTrackingEvents")[a] = []);
      this.get("additionalTrackingEvents")[a].push(b);
    };
    b.prototype.getDuration = function() {
      var a = this.getAd();
      return a ? a.getDuration() : null;
    };
    b.prototype.getWrapperURL = function() {
      var a = this.getAd();
      return a ? a.getWrapperURL() : null;
    };
    b.prototype.getVideoClickThroughURL = function() {
      var a = this.getAd();
      return a ? a.getVideoClickThroughURLTemplate() : null;
    };
    b.prototype.getVideoClickTrackingURLs = function() {
      var a = this.getAd();
      return a ? a.getVideoClickTrackingURLTemplates() : null;
    };
    b.prototype.getLandscapeOrientedCompanionAd = function() {
      var a = this.getAd();
      if (a && (a = a.getCompanionAds())) {
        for (var b = 0; b < a.length; b++) {
          var c = a[b];
          if (this.isValidLandscapeCompanion(c.getCreativeType(), c.getHeight(), c.getWidth())) {
            return c;
          }
        }
      }
      return null;
    };
    b.prototype.getCompanionLandscapeUrl = function() {
      var a = this.getLandscapeOrientedCompanionAd();
      return a ? a.getStaticResourceURL() : null;
    };
    b.prototype.getPortraitOrientedCompanionAd = function() {
      var a = this.getAd();
      if (a && (a = a.getCompanionAds())) {
        for (var b = 0; b < a.length; b++) {
          var c = a[b];
          if (this.isValidPortraitCompanion(c.getCreativeType(), c.getHeight(), c.getWidth())) {
            return c;
          }
        }
      }
      return null;
    };
    b.prototype.getCompanionPortraitUrl = function() {
      var a = this.getPortraitOrientedCompanionAd();
      return a ? a.getStaticResourceURL() : null;
    };
    b.prototype.getCompanionClickThroughUrl = function() {
      var a = this.getAd();
      if (a && (a = a.getCompanionAds())) {
        for (var b = 0; b < a.length; b++) {
          var c = a[b], g = c.getCompanionClickThroughURLTemplate(), e = c.getHeight(), k = c.getWidth();
          c = c.getCreativeType();
          e = this.isValidPortraitCompanion(c, e, k) || this.isValidLandscapeCompanion(c, e, k);
          if (g && e) {
            return g;
          }
        }
      }
      return null;
    };
    b.prototype.getDTO = function() {
      for (var a = [], b = 0, c = this.get("ads"); b < c.length; b++) {
        a.push(c[b].getDTO());
      }
      return {ads:a, errorURLTemplates:this.get("errorURLTemplates"), additionalTrackingEvents:this.get("additionalTrackingEvents")};
    };
    b.prototype.getCompanionCreativeViewTrackingUrls = function() {
      var a = this.getAd();
      return a ? a.getCompanionCreativeViewTrackingUrls() : [];
    };
    b.prototype.isValidLandscapeCompanion = function(a, b, c) {
      return this.isValidCompanionCreativeType(a) && b < c && 320 <= b && 480 <= c;
    };
    b.prototype.isValidPortraitCompanion = function(a, b, c) {
      return this.isValidCompanionCreativeType(a) && b > c && 480 <= b && 320 <= c;
    };
    b.prototype.isValidCompanionCreativeType = function(a) {
      var b = /(jpe?g|gif|png)/gi;
      return !!a && b.test(a);
    };
    b.prototype.isPlayableMIMEType = function(a) {
      a = a.toLowerCase();
      return "video/mp4" === a;
    };
    return b;
  }(J), Sd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Td = function(c) {
    function b(a, b, f, g) {
      a = c.call(this, a, b) || this;
      a.set("type", f);
      a.set("trackingEvents", g || {});
      return a;
    }
    Sd(b, c);
    b.prototype.getType = function() {
      return this.get("type");
    };
    b.prototype.getTrackingEvents = function() {
      return this.get("trackingEvents");
    };
    b.prototype.addTrackingEvent = function(a, b) {
      null == this.get("trackingEvents")[a] && (this.get("trackingEvents")[a] = []);
      this.get("trackingEvents")[a].push(b);
    };
    b.prototype.getDTO = function() {
      return {type:this.getType(), trackingEvents:this.getTrackingEvents()};
    };
    return b;
  }(J), Ud = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), db = function(c) {
    function b(a, b, f, g, e, k, m) {
      var d = c.call(this, "VastCreativeLinear", {type:["string"], trackingEvents:["object"], duration:["number"], skipDelay:["number", "null"], mediaFiles:["array"], videoClickThroughURLTemplate:["string", "null"], videoClickTrackingURLTemplates:["array"], videoCustomClickURLTemplates:["array"], adParameters:["string", "null"]}, "linear") || this;
      d.set("duration", a || 0);
      d.set("skipDelay", b || null);
      d.set("mediaFiles", f || []);
      d.set("videoClickThroughURLTemplate", g || null);
      d.set("videoClickTrackingURLTemplates", e || []);
      d.set("videoCustomClickURLTemplates", k || []);
      d.set("adParameters", m || null);
      return d;
    }
    Ud(b, c);
    b.prototype.setAdParameters = function(a) {
      this.set("adParameters", a);
    };
    b.prototype.getDuration = function() {
      return this.get("duration");
    };
    b.prototype.setDuration = function(a) {
      this.set("duration", a);
    };
    b.prototype.getSkipDelay = function() {
      return this.get("skipDelay");
    };
    b.prototype.setSkipDelay = function(a) {
      this.set("skipDelay", a);
    };
    b.prototype.getMediaFiles = function() {
      return this.get("mediaFiles");
    };
    b.prototype.addMediaFile = function(a) {
      this.get("mediaFiles").push(a);
    };
    b.prototype.getVideoClickThroughURLTemplate = function() {
      return this.get("videoClickThroughURLTemplate");
    };
    b.prototype.setVideoClickThroughURLTemplate = function(a) {
      this.set("videoClickThroughURLTemplate", a || null);
    };
    b.prototype.getVideoClickTrackingURLTemplates = function() {
      return this.get("videoClickTrackingURLTemplates");
    };
    b.prototype.addVideoClickTrackingURLTemplate = function(a) {
      this.get("videoClickTrackingURLTemplates").push(a);
    };
    b.prototype.getVideoCustomClickURLTemplates = function() {
      return this.get("videoCustomClickURLTemplates");
    };
    b.prototype.getAdParameters = function() {
      return this.get("adParameters");
    };
    b.prototype.getDTO = function() {
      for (var a = [], b = 0, f = this.getMediaFiles(); b < f.length; b++) {
        a.push(f[b].getDTO());
      }
      return {vastCreative:c.prototype.getDTO.call(this), duration:this.getDuration(), skipDelay:this.getSkipDelay(), mediaFiles:a, videoClickThroughURLTemplate:this.getVideoClickThroughURLTemplate(), videoClickTrackingURLTemplates:this.getVideoClickTrackingURLTemplates(), videoCustomClickURLTemplates:this.getVideoCustomClickURLTemplates(), adParameters:this.getAdParameters()};
    };
    return b;
  }(Td), Vd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Wd = function(c) {
    function b(a, b, f, g, e, k) {
      var d = c.call(this, "VastAd", {id:["string", "null"], creatives:["array"], companionAds:["array"], errorURLTemplates:["array"], impressionURLTemplates:["array"], wrapperURLs:["array"]}) || this;
      d.set("id", a || null);
      d.set("creatives", b || []);
      d.set("companionAds", k || []);
      d.set("errorURLTemplates", f || []);
      d.set("impressionURLTemplates", g || []);
      d.set("wrapperURLs", e || []);
      return d;
    }
    Vd(b, c);
    b.prototype.getId = function() {
      return this.get("id");
    };
    b.prototype.setId = function(a) {
      this.set("id", a);
    };
    b.prototype.getCreatives = function() {
      return this.get("creatives");
    };
    b.prototype.getCreative = function() {
      return this.getCreatives() && 0 < this.getCreatives().length ? this.getCreatives()[0] : null;
    };
    b.prototype.addCreative = function(a) {
      this.get("creatives").push(a);
    };
    b.prototype.getCompanionAds = function() {
      return this.get("companionAds");
    };
    b.prototype.addCompanionAd = function(a) {
      this.get("companionAds").push(a);
    };
    b.prototype.getErrorURLTemplates = function() {
      return this.get("errorURLTemplates");
    };
    b.prototype.addErrorURLTemplate = function(a) {
      this.get("errorURLTemplates").push(a);
    };
    b.prototype.getImpressionURLTemplates = function() {
      return this.get("impressionURLTemplates");
    };
    b.prototype.addImpressionURLTemplate = function(a) {
      this.get("impressionURLTemplates").push(a);
    };
    b.prototype.getWrapperURL = function() {
      return this.get("wrapperURLs")[0];
    };
    b.prototype.getWrapperURLs = function() {
      return this.get("wrapperURLs");
    };
    b.prototype.addWrapperURL = function(a) {
      this.get("wrapperURLs").push(a);
    };
    b.prototype.getTrackingEventUrls = function(a) {
      var b = this.getCreative();
      return b && b.getTrackingEvents() ? b.getTrackingEvents()[a] : null;
    };
    b.prototype.getDuration = function() {
      var a = this.getCreative();
      return a ? a.getDuration() : null;
    };
    b.prototype.getVideoClickThroughURLTemplate = function() {
      var a = this.getCreative();
      return a instanceof db ? a.getVideoClickThroughURLTemplate() : null;
    };
    b.prototype.getVideoClickTrackingURLTemplates = function() {
      var a = this.getCreative();
      return a instanceof db ? a.getVideoClickTrackingURLTemplates() : [];
    };
    b.prototype.addVideoClickTrackingURLTemplate = function(a) {
      var b = this.getCreative();
      b instanceof db && b.addVideoClickTrackingURLTemplate(a);
    };
    b.prototype.getDTO = function() {
      for (var a = [], b = 0, c = this.get("creatives"); b < c.length; b++) {
        a.push(c[b].getDTO());
      }
      b = [];
      c = 0;
      for (var g = this.get("companionAds"); c < g.length; c++) {
        b.push(g[c].getDTO());
      }
      return {id:this.getId(), errorURLTemplates:this.getErrorURLTemplates(), impressionURLTemplates:this.getImpressionURLTemplates(), wrapperURLs:this.getWrapperURLs(), vastCreatives:a, companionAds:b};
    };
    b.prototype.getCompanionCreativeViewTrackingUrls = function() {
      return this.getCompanionEventTrackingUrls("creativeView");
    };
    b.prototype.getCompanionEventTrackingUrls = function(a) {
      for (var b = [], c = 0, g = this.getCompanionAds(); c < g.length; c++) {
        b = b.concat(g[c].getEventTrackingUrls(a));
      }
      return b;
    };
    return b;
  }(J), Xd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Yd = function(c) {
    function b(a, b, f, g, e, k, m, w, h, n) {
      var d = c.call(this, "VastMediaFile", {fileURL:["string", "null"], deliveryType:["string"], mimeType:["string", "null"], codec:["string", "null"], bitrate:["number"], minBitrate:["number"], maxBitrate:["number"], width:["number"], height:["number"], apiFramework:["string", "null"], scalable:["boolean", "null"], maintainAspectRatio:["boolean", "null"]}) || this;
      d.set("fileURL", a || null);
      d.set("deliveryType", b || "progressive");
      d.set("mimeType", g || null);
      d.set("codec", f || null);
      d.set("bitrate", e || 0);
      d.set("minBitrate", k || 0);
      d.set("maxBitrate", m || 0);
      d.set("width", w || 0);
      d.set("height", h || 0);
      d.set("apiFramework", n || null);
      d.set("scalable", null);
      d.set("maintainAspectRatio", null);
      return d;
    }
    Xd(b, c);
    b.prototype.getFileURL = function() {
      return this.get("fileURL");
    };
    b.prototype.getDeliveryType = function() {
      return this.get("deliveryType");
    };
    b.prototype.getMIMEType = function() {
      return this.get("mimeType");
    };
    b.prototype.getCodec = function() {
      return this.get("codec");
    };
    b.prototype.getBitrate = function() {
      return this.get("bitrate");
    };
    b.prototype.getMinBitrate = function() {
      return this.get("minBitrate");
    };
    b.prototype.getMaxBitrate = function() {
      return this.get("maxBitrate");
    };
    b.prototype.getWidth = function() {
      return this.get("width");
    };
    b.prototype.getHeight = function() {
      return this.get("height");
    };
    b.prototype.getApiFramework = function() {
      return this.get("apiFramework");
    };
    b.prototype.getScalable = function() {
      return this.get("scalable");
    };
    b.prototype.getMaintainAspectRation = function() {
      return this.get("maintainAspectRatio");
    };
    b.prototype.getDTO = function() {
      return {fileURL:this.getFileURL(), deliveryType:this.getDeliveryType(), mimeType:this.getMIMEType(), codec:this.getCodec(), bitrate:this.getBitrate(), minBitrate:this.getMinBitrate(), maxBitrate:this.getMaxBitrate(), width:this.getWidth(), height:this.getHeight(), apiFramework:this.getApiFramework(), scalable:this.getScalable(), maintainAspectRatio:this.getMaintainAspectRation()};
    };
    return b;
  }(J), Zd = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), $d = function(c) {
    function b(a, b, f, g, e, k, m) {
      var d = c.call(this, "VastCreativeCompanionAd", {id:["string", "null"], width:["number"], height:["number"], type:["string"], staticResourceURL:["string", "null"], creativeType:["string", "null"], companionClickThroughURLTemplate:["string", "null"], trackingEvents:["object"]}) || this;
      d.set("id", a || null);
      d.set("width", g || 0);
      d.set("height", f || 0);
      d.set("type", "");
      d.set("creativeType", b || null);
      d.set("staticResourceURL", e || null);
      d.set("companionClickThroughURLTemplate", k || null);
      d.set("trackingEvents", m || {});
      return d;
    }
    Zd(b, c);
    b.prototype.getId = function() {
      return this.get("id");
    };
    b.prototype.getCreativeType = function() {
      return this.get("creativeType");
    };
    b.prototype.getType = function() {
      return this.get("type");
    };
    b.prototype.getStaticResourceURL = function() {
      return this.get("staticResourceURL");
    };
    b.prototype.getCompanionClickThroughURLTemplate = function() {
      return this.get("companionClickThroughURLTemplate");
    };
    b.prototype.getHeight = function() {
      return this.get("height");
    };
    b.prototype.getWidth = function() {
      return this.get("width");
    };
    b.prototype.getDTO = function() {
      return {id:this.getId(), width:this.getWidth(), height:this.getHeight(), type:this.getType(), staticResourceURL:this.getStaticResourceURL(), creativeType:this.getCreativeType(), companionClickThroughURLTemplate:this.getCompanionClickThroughURLTemplate()};
    };
    b.prototype.getTrackingEvents = function() {
      return this.get("trackingEvents") || {};
    };
    b.prototype.getEventTrackingUrls = function(a) {
      var b = this.getTrackingEvents();
      return b ? b[a] || [] : [];
    };
    return b;
  }(J), Qb = function() {
    function c(b, a) {
      void 0 === a && (a = c.DEFAULT_MAX_WRAPPER_DEPTH);
      this._domParser = b || c.createDOMParser();
      this._maxWrapperDepth = a;
    }
    c.createDOMParser = function() {
      return new DOMParser;
    };
    c.prototype.setMaxWrapperDepth = function(b) {
      this._maxWrapperDepth = b;
    };
    c.prototype.parseVast = function(b) {
      if (!b) {
        throw Error("VAST data is missing");
      }
      var a = this._domParser.parseFromString(b, "text/xml");
      b = [];
      var d = [];
      if (!a || !a.documentElement || "VAST" !== a.documentElement.nodeName) {
        throw Error("VAST xml data is missing");
      }
      a = a.documentElement.childNodes;
      for (var c = 0; c < a.length; c++) {
        var g = a[c];
        "Error" === g.nodeName && d.push(this.parseNodeText(g));
      }
      for (c = 0; c < a.length; c++) {
        g = a[c], 0 === b.length && "Ad" === g.nodeName && (g = this.parseAdElement(g), null != g && b.push(g));
      }
      if (0 === b.length) {
        throw Error("VAST Ad tag is missing");
      }
      return new Rd(b, d);
    };
    c.prototype.retrieveVast = function(b, a, d, c, g) {
      var f = this;
      void 0 === g && (g = 0);
      0 === g && (this._rootWrapperVast = b);
      try {
        var e = this.parseVast(b);
      } catch (m) {
        throw b = new H(m, {vast:b, wrapperDepth:g}), 0 < g && (b.diagnostic.rootWrapperVast = this._rootWrapperVast), b;
      }
      this.applyParentURLs(e, c);
      b = e.getWrapperURL();
      if (!b) {
        return Promise.resolve(e);
      }
      if (g >= this._maxWrapperDepth) {
        throw Error("VAST wrapper depth exceeded");
      }
      a.Sdk.logInfo("Unity Ads is requesting VAST ad unit from " + b);
      return d.get(b, [], {retries:2, retryDelay:10000, followRedirects:!0, retryWithConnectionEvents:!1}).then(function(b) {
        return f.retrieveVast(b.response, a, d, e, g + 1);
      });
    };
    c.prototype.applyParentURLs = function(b, a) {
      if (a) {
        var d = a.getAd(), c = b.getAd();
        if (d && c) {
          for (var g = 0, e = d.getErrorURLTemplates(); g < e.length; g++) {
            c.addErrorURLTemplate(e[g]);
          }
          g = 0;
          for (e = d.getImpressionURLTemplates(); g < e.length; g++) {
            c.addImpressionURLTemplate(e[g]);
          }
          g = 0;
          for (d = d.getVideoClickTrackingURLTemplates(); g < d.length; g++) {
            c.addVideoClickTrackingURLTemplate(d[g]);
          }
          c = 0;
          for (d = "creativeView start firstQuartile midpoint thirdQuartile complete mute unmute".split(" "); c < d.length; c++) {
            g = d[c];
            e = 0;
            for (var k = a.getTrackingEventUrls(g); e < k.length; e++) {
              b.addTrackingEventUrl(g, k[e]);
            }
          }
        }
      }
    };
    c.prototype.parseNodeText = function(b) {
      (b = b && (b.textContent || b.text)) && (b = b.trim());
      return b;
    };
    c.prototype.parseAdElement = function(b) {
      for (var a, d = 0, c = b.childNodes; d < c.length; d++) {
        var g = c[d];
        if ("Wrapper" === g.nodeName) {
          a = this.parseWrapperElement(g);
          break;
        }
        if ("InLine" === g.nodeName) {
          a = this.parseInLineElement(g);
          break;
        }
      }
      a && a.setId(b.getAttribute("id"));
      return a;
    };
    c.prototype.parseWrapperElement = function(b) {
      return this.parseInLineElement(b);
    };
    c.prototype.parseInLineElement = function(b) {
      var a = new Wd, d = 0;
      for (b = b.childNodes; d < b.length; d++) {
        var c = b[d], g = this.parseNodeText(c);
        switch(c.nodeName) {
          case "Error":
            g && a.addErrorURLTemplate(g);
            break;
          case "Impression":
            g && a.addImpressionURLTemplate(g);
            break;
          case "Creatives":
            g = 0;
            for (c = this.childsByName(c, "Creative"); g < c.length; g++) {
              for (var e = 0, k = c[g].childNodes; e < k.length; e++) {
                var m = k[e], w;
                switch(m.nodeName) {
                  case "Linear":
                    0 === a.getCreatives().length && (w = this.parseCreativeLinearElement(m)) && a.addCreative(w);
                    break;
                  case "CompanionAds":
                    for (w = 0, m = this.childsByName(m, "Companion"); w < m.length; w++) {
                      var h = this.parseCreativeCompanionAdElement(m[w]);
                      h && a.addCompanionAd(h);
                    }
                }
              }
            }
            break;
          case "VASTAdTagURI":
            g && a.addWrapperURL(g);
        }
      }
      return a;
    };
    c.prototype.parseCreativeLinearElement = function(b) {
      var a = new db;
      a.setDuration(this.parseDuration(this.parseNodeText(this.childByName(b, "Duration"))));
      if (-1 === a.getDuration() && "Wrapper" !== b.parentNode.parentNode.parentNode.nodeName) {
        return null;
      }
      var d = b.getAttribute("skipoffset");
      null == d ? a.setSkipDelay(null) : "%" === d.charAt(d.length - 1) ? (d = parseInt(d, 10), a.setSkipDelay(a.getDuration() * (d / 100))) : a.setSkipDelay(this.parseDuration(d));
      var c = this.childByName(b, "VideoClicks");
      if (null != c) {
        for (a.setVideoClickThroughURLTemplate(this.parseNodeText(this.childByName(c, "ClickThrough"))), d = 0, c = this.childsByName(c, "ClickTracking"); d < c.length; d++) {
          var g = this.parseNodeText(c[d]);
          null != g && a.addVideoClickTrackingURLTemplate(g);
        }
      }
      d = 0;
      for (c = this.childsByName(b, "TrackingEvents"); d < c.length; d++) {
        g = 0;
        for (var e = this.childsByName(c[d], "Tracking"); g < e.length; g++) {
          var k = e[g], m = k.getAttribute("event");
          k = this.parseNodeText(k);
          null != m && null != k && a.addTrackingEvent(m, k);
        }
      }
      c = this.childsByName(b, "MediaFiles");
      if (0 < c.length) {
        for (d = 0, c = this.childsByName(c[0], "MediaFile"); d < c.length; d++) {
          g = c[d], g = new Yd(this.parseNodeText(g), g.getAttribute("delivery"), g.getAttribute("codec"), g.getAttribute("type"), parseInt(g.getAttribute("bitrate") || 0, 10), parseInt(g.getAttribute("minBitrate") || 0, 10), parseInt(g.getAttribute("maxBitrate") || 0, 10), parseInt(g.getAttribute("width") || 0, 10), parseInt(g.getAttribute("height") || 0, 10), g.getAttribute("apiFramework")), a.addMediaFile(g);
        }
      }
      (b = this.childByName(b, "AdParameters")) && (b = this.parseNodeText(b)) && a.setAdParameters(b);
      return a;
    };
    c.prototype.parseCreativeCompanionAdElement = function(b) {
      var a = this.childByName(b, "StaticResource"), d = this.childByName(b, "CompanionClickThrough");
      if (b && a) {
        var c = b.getAttribute("id"), g = parseInt(b.getAttribute("height") || 0, 10), e = parseInt(b.getAttribute("width") || 0, 10), k = a.getAttribute("creativeType");
        a = this.parseNodeText(a);
        d = this.parseNodeText(d);
        b = this.getTrackingEventsFromElement(b);
        return new $d(c, k, g, e, a, d, b);
      }
      return null;
    };
    c.prototype.getTrackingEventsFromElement = function(b) {
      var a = {}, d = 0;
      for (b = this.childsByName(b, "TrackingEvents"); d < b.length; d++) {
        for (var c = 0, g = this.childsByName(b[d], "Tracking"); c < g.length; c++) {
          var e = g[c], k = e.getAttribute("event");
          e = this.parseNodeText(e);
          null != k && null != e && (void 0 !== a[k] ? a[k].push(e) : a[k] = [e]);
        }
      }
      return a;
    };
    c.prototype.parseDuration = function(b) {
      if (null == b) {
        return -1;
      }
      var a = b.split(":");
      if (3 !== a.length) {
        return -1;
      }
      var d = a[2].split(".");
      b = parseInt(d[0], 10);
      2 === d.length && (b += parseFloat("0." + d[1]));
      d = 60 * parseInt(a[1], 10);
      a = 3600 * parseInt(a[0], 10);
      return isNaN(a) || isNaN(d) || isNaN(b) || 3600 < d || 60 < b ? -1 : a + d + b;
    };
    c.prototype.childByName = function(b, a) {
      var d = 0;
      for (b = b.childNodes; d < b.length; d++) {
        var c = b[d];
        if (c.nodeName === a) {
          return c;
        }
      }
    };
    c.prototype.childsByName = function(b, a) {
      var d = [], c = 0;
      for (b = b.childNodes; c < b.length; c++) {
        var g = b[c];
        g.nodeName === a && d.push(g);
      }
      return d;
    };
    c.DEFAULT_MAX_WRAPPER_DEPTH = 8;
    return c;
  }(), ae = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), be = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Rb = function(c) {
    function b() {
      var a = null !== c && c.apply(this, arguments) || this;
      a._vastParser = new Qb;
      return a;
    }
    ae(b, c);
    b.setVastParserMaxDepth = function(a) {
      b.VAST_PARSER_MAX_DEPTH = a;
    };
    b.prototype.parse = function(a, d, c, g, e, k) {
      var f = this, l = decodeURIComponent(c.getContent()).trim();
      void 0 !== b.VAST_PARSER_MAX_DEPTH && this._vastParser.setMaxWrapperDepth(b.VAST_PARSER_MAX_DEPTH);
      return this._vastParser.retrieveVast(l, a, d).then(function(b) {
        var d = f.getProgrammaticCampaignId(a);
        return f.parseVastToCampaign(b, a, d, g, e, k, c);
      });
    };
    b.prototype.parseVastToCampaign = function(a, b, c, g, e, k, m) {
      c = m.getCacheTTL();
      e = {id:this.getProgrammaticCampaignId(b), gamerId:e, abGroup:k, willExpireAt:c ? Date.now() + 1000 * c : void 0, adType:m.getAdType() || void 0, correlationId:m.getCorrelationId() || void 0, creativeId:m.getCreativeId() || void 0, seatId:m.getSeatId() || void 0, meta:void 0, appCategory:m.getCategory() || void 0, appSubCategory:m.getSubCategory() || void 0, advertiserDomain:m.getAdvertiserDomain() || void 0, advertiserCampaignId:m.getAdvertiserCampaignId() || void 0, advertiserBundleId:m.getAdvertiserBundleId() || 
      void 0, useWebViewUserAgentForTracking:m.getUseWebViewUserAgentForTracking(), buyerId:m.getBuyerId() || void 0, session:g};
      k = a.getCompanionPortraitUrl();
      var d;
      k && (d = new Aa(k, g));
      k = a.getCompanionLandscapeUrl();
      var f;
      k && (f = new Aa(k, g));
      a = be({}, e, {vast:a, video:new Ha(a.getVideoUrl(), g), hasEndscreen:!!a.getCompanionPortraitUrl() || !!a.getCompanionLandscapeUrl(), portrait:d, landscape:f, tracking:m.getTrackingUrls()});
      a = new Wa(a);
      if (0 === a.getVast().getImpressionUrls().length) {
        throw Error("Campaign does not have an impression url");
      }
      0 === a.getVast().getErrorURLTemplates().length && b.Sdk.logWarning("Campaign does not have an error url!");
      if (!a.getVideo().getUrl()) {
        throw b = new H(Error("Campaign does not have a video url"), {rootWrapperVast:m.getContent()}), b;
      }
      if (b.getPlatform() === h.IOS && !a.getVideo().getUrl().match(/^https:\/\//)) {
        throw b = new H(Error("Campaign video url needs to be https for iOS"), {rootWrapperVast:m.getContent()}), b;
      }
      return Promise.resolve(a);
    };
    return b;
  }(Ka), ce = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), de = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, ee = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    ce(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      b = c.getJsonContent();
      if (!b) {
        throw Error("Corrupted mraid-url content");
      }
      if (!b.inlinedUrl) {
        throw new H(Error("MRAID Campaign missing inlinedUrl"), {mraid:b});
      }
      var d = c.getCacheTTL();
      a = {id:this.getProgrammaticCampaignId(a), gamerId:e, abGroup:k, willExpireAt:d ? Date.now() + 1000 * d : void 0, adType:c.getAdType() || void 0, correlationId:c.getCorrelationId() || void 0, creativeId:c.getCreativeId() || void 0, seatId:c.getSeatId() || void 0, meta:b.meta, appCategory:void 0, appSubCategory:void 0, advertiserDomain:void 0, advertiserCampaignId:void 0, advertiserBundleId:void 0, useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), buyerId:void 0, session:g};
      c = de({}, a, {resourceAsset:b.inlinedUrl ? new sb(b.inlinedUrl, g) : void 0, resource:void 0, dynamicMarkup:b.dynamicMarkup, additionalTrackingEvents:c.getTrackingUrls(), clickAttributionUrl:b.clickAttributionUrl, clickAttributionUrlFollowsRedirects:b.clickAttributionUrlFollowsRedirects, clickUrl:b.clickUrl ? b.clickUrl : void 0, videoEventUrls:void 0, gameName:void 0, gameIcon:void 0, rating:void 0, ratingCount:void 0, landscapeImage:void 0, portraitImage:void 0, bypassAppSheet:void 0, store:void 0, 
      appStoreId:void 0});
      return Promise.resolve(new na(c));
    };
    return b;
  }(Ka), fe = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ge = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, he = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    fe(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      b = c.getJsonContent();
      if (!b) {
        throw Error("Corrupted mraid content");
      }
      if (!b.markup) {
        throw new H(Error("MRAID Campaign missing markup"), {mraid:b});
      }
      var d = decodeURIComponent(b.markup), f = c.getCacheTTL();
      a = {id:this.getProgrammaticCampaignId(a), gamerId:e, abGroup:k, willExpireAt:f ? Date.now() + 1000 * f : void 0, adType:c.getAdType() || void 0, correlationId:c.getCorrelationId() || void 0, creativeId:c.getCreativeId() || void 0, seatId:c.getSeatId() || void 0, meta:b.meta, appCategory:void 0, appSubCategory:void 0, advertiserDomain:void 0, advertiserCampaignId:void 0, advertiserBundleId:void 0, useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), buyerId:void 0, session:g};
      c = ge({}, a, {resourceAsset:void 0, resource:d, dynamicMarkup:b.dynamicMarkup, additionalTrackingEvents:c.getTrackingUrls(), clickAttributionUrl:b.clickAttributionUrl, clickAttributionUrlFollowsRedirects:b.clickAttributionUrlFollowsRedirects, clickUrl:b.clickUrl ? b.clickUrl : void 0, videoEventUrls:void 0, gameName:void 0, gameIcon:void 0, rating:void 0, ratingCount:void 0, landscapeImage:void 0, portraitImage:void 0, bypassAppSheet:void 0, store:void 0, appStoreId:void 0});
      return Promise.resolve(new na(c));
    };
    return b;
  }(Ka), ie = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), je = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Sb = function(c) {
    function b(a) {
      return c.call(this, "DisplayInterstitialMarkupUrlCampaign", je({}, Ia.Schema, {markup:["string"]}), a) || this;
    }
    ie(b, c);
    b.prototype.getDynamicMarkup = function() {
      return this.get("markup");
    };
    return b;
  }(Ia), ke = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Tb = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, le = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    ke(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      var d = c.getJsonContent();
      if (!d.markup) {
        throw new H(Error("No markup for programmatic/static-interstitial"), {json:d});
      }
      b = decodeURIComponent(d.markup);
      if (!d.clickThroughURL) {
        var f = this.getClickThroughUrlFromMarkup(b);
        if (f) {
          d.clickThroughURL = f;
        } else {
          throw new H(Error("No clickThroughURL for programmatic/static-interstitial"), {json:d});
        }
      }
      f = c.getCacheTTL();
      a = {id:this.getProgrammaticCampaignId(a), gamerId:e, abGroup:k, willExpireAt:f ? Date.now() + 1000 * f : void 0, adType:c.getAdType() || void 0, correlationId:c.getCorrelationId() || void 0, creativeId:c.getCreativeId() || void 0, seatId:c.getSeatId() || void 0, meta:d.meta, appCategory:void 0, appSubCategory:void 0, advertiserDomain:void 0, advertiserCampaignId:void 0, advertiserBundleId:void 0, useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), buyerId:void 0, session:g};
      c = Tb({}, a, {clickThroughUrl:d.clickThroughURL, tracking:c.getTrackingUrls() || void 0});
      c = Tb({}, c, {markup:b});
      return Promise.resolve(new Sb(c));
    };
    b.prototype.getClickThroughUrlFromMarkup = function(a) {
      if (a = (new DOMParser).parseFromString(a, "text/html").querySelector("a")) {
        if (a = a.getAttribute("href")) {
          return a;
        }
      }
      return null;
    };
    return b;
  }(Ka), me = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ne = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Ub = function(c) {
    function b(a) {
      return c.call(this, "DisplayInterstitialMarkupUrlCampaign", ne({}, Ia.Schema, {markupUrl:["string"]}), a) || this;
    }
    me(b, c);
    b.prototype.getMarkupUrl = function() {
      return this.get("markupUrl");
    };
    b.prototype.setMarkupUrl = function(a) {
      this.set("markupUrl", a);
    };
    return b;
  }(Ia), oe = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Vb = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, pe = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    oe(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      b = Ga.parse(c.getContent());
      if (!b) {
        throw Error("Corrupted display-institial-url content");
      }
      if (!b.markupUrl) {
        throw new H(Error("DisplayInterstitial Campaign missing markupUrl"), {displayInterstitial:b});
      }
      var d = c.getCacheTTL();
      a = {id:this.getProgrammaticCampaignId(a), gamerId:e, abGroup:k, willExpireAt:d ? Date.now() + 1000 * d : void 0, adType:c.getAdType() || void 0, correlationId:c.getCorrelationId() || void 0, creativeId:c.getCreativeId() || void 0, seatId:c.getSeatId() || void 0, meta:b.meta, appCategory:void 0, appSubCategory:void 0, advertiserDomain:void 0, advertiserCampaignId:void 0, advertiserBundleId:void 0, useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), buyerId:void 0, session:g};
      c = Vb({}, a, {clickThroughUrl:b.clickThroughURL, tracking:c.getTrackingUrls() || void 0});
      c = Vb({}, c, {markupUrl:b.markupUrl});
      return Promise.resolve(new Ub(c));
    };
    return b;
  }(Ka), qe = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), re = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Wb = function(c) {
    function b(a) {
      return c.call(this, "AdMobCampaign", re({}, ca.Schema, {dynamicMarkup:["string"], tracking:["object", "undefined"]}), a) || this;
    }
    qe(b, c);
    b.prototype.getDynamicMarkup = function() {
      return this.get("dynamicMarkup");
    };
    b.prototype.getTrackingUrlsForEvent = function(a) {
      var b = this.get("tracking");
      return b ? b[a] || [] : [];
    };
    b.prototype.getRequiredAssets = function() {
      return [];
    };
    b.prototype.getOptionalAssets = function() {
      return [];
    };
    b.prototype.isConnectionNeeded = function() {
      return !1;
    };
    return b;
  }(ca), se = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), te = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, ue = function(c) {
    function b() {
      return null !== c && c.apply(this, arguments) || this;
    }
    se(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      b = c.getContent();
      var d = c.getCacheTTL();
      a = {id:this.getProgrammaticCampaignId(a), gamerId:e, abGroup:k, willExpireAt:d ? Date.now() + 1000 * d : void 0, adType:c.getAdType() || void 0, correlationId:c.getCorrelationId() || void 0, creativeId:c.getCreativeId() || void 0, seatId:c.getSeatId() || void 0, meta:void 0, appCategory:void 0, appSubCategory:void 0, advertiserDomain:void 0, advertiserCampaignId:void 0, advertiserBundleId:void 0, useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), buyerId:void 0, session:g};
      c = te({}, a, {dynamicMarkup:b, tracking:c.getTrackingUrls() || void 0});
      return Promise.resolve(new Wb(c));
    };
    return b;
  }(Ka), ve = function() {
    function c(b, a) {
      this.vast = a;
      this.mediaFile = b;
    }
    c.prototype.getCompanionClickThroughURL = function() {
      var b = this.getCompanion();
      return b ? b.getCompanionClickThroughURLTemplate() : null;
    };
    c.prototype.hasEndScreen = function() {
      return !!this.getCompanionLandscapeUrl() && !!this.getCompanionPortraitUrl();
    };
    c.prototype.hasCompanionAd = function() {
      var b = this.vast.getAd();
      return b ? 0 !== b.getCompanionAds().length : !1;
    };
    c.prototype.getCompanion = function() {
      var b = this.vast.getAd();
      return b && (b = b.getCompanionAds(), b.length) ? b[0] : null;
    };
    c.prototype.getCompanionPortraitUrl = function() {
      return this.vast.getCompanionPortraitUrl();
    };
    c.prototype.getCompanionLandscapeUrl = function() {
      return this.vast.getCompanionLandscapeUrl();
    };
    c.prototype.getScriptUrl = function() {
      return this.mediaFile.getFileURL();
    };
    c.prototype.getCreativeParameters = function() {
      var b = this.vast.getAd();
      return b && (b = b.getCreative()) ? b.getAdParameters() || {} : {};
    };
    c.prototype.getVideoClickTrackingURLs = function() {
      return this.vast.getVideoClickTrackingURLs() || [];
    };
    c.prototype.getTrackingEventUrls = function(b) {
      return this.vast.getTrackingEventUrls(b);
    };
    c.prototype.getImpressionUrls = function() {
      return this.vast.getImpressionUrls();
    };
    c.prototype.addTrackingEventUrl = function(b, a) {
      this.vast.addTrackingEventUrl(b, a);
    };
    c.prototype.getVideoClickThroughURL = function() {
      var b = this.vast.getVideoClickThroughURL();
      return this.isValidURL(b) ? b : null;
    };
    c.prototype.isValidURL = function(b) {
      var a = /^(https?):\/\/.+$/;
      return !!b && a.test(b);
    };
    return c;
  }(), we = function() {
    function c() {
      this.vastParser = new Qb;
    }
    c.prototype.parse = function(b) {
      b = this.vastParser.parseVast(b);
      var a = this.getSupportedMediaFile(b);
      if (a) {
        return this.parseFromVast(b, a);
      }
      throw Error("VPAID does not contain a supported media file");
    };
    c.prototype.parseFromVast = function(b, a) {
      return new ve(a, b);
    };
    c.prototype.getSupportedMediaFile = function(b) {
      var a = b.getAd();
      if (a) {
        for (b = 0, a = a.getCreatives(); b < a.length; b++) {
          for (var d = 0, c = a[b].getMediaFiles(); d < c.length; d++) {
            var g = c[d];
            if (this.supportsVPAID(g) && this.isJavascriptTyped(g)) {
              return g;
            }
          }
        }
      }
      return null;
    };
    c.prototype.supportsVPAID = function(b) {
      return "VPAID" === b.getApiFramework();
    };
    c.prototype.isJavascriptTyped = function(b) {
      return "application/javascript" === b.getMIMEType();
    };
    return c;
  }(), xe = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ye = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, ze = function(c) {
    function b() {
      var a = null !== c && c.apply(this, arguments) || this;
      a._vpaidParser = new we;
      return a;
    }
    xe(b, c);
    b.prototype.parse = function(a, b, c, g, e, k) {
      var d = this, f = decodeURIComponent(c.getContent()).trim();
      return this._vastParser.retrieveVast(f, a, b).then(function(b) {
        var f = d.getVPAIDMediaFile(b), l = d.getProgrammaticCampaignId(a);
        return f ? (b = d._vpaidParser.parseFromVast(b, f), f = c.getCacheTTL(), f = {id:d.getProgrammaticCampaignId(a), gamerId:e, abGroup:k, willExpireAt:f ? Date.now() + 1000 * f : void 0, adType:c.getAdType() || void 0, correlationId:c.getCorrelationId() || void 0, creativeId:c.getCreativeId() || void 0, seatId:c.getSeatId() || void 0, meta:void 0, appCategory:c.getCategory() || void 0, appSubCategory:c.getSubCategory() || void 0, advertiserDomain:c.getAdvertiserDomain() || void 0, advertiserCampaignId:c.getAdvertiserCampaignId() || 
        void 0, advertiserBundleId:c.getAdvertiserBundleId() || void 0, useWebViewUserAgentForTracking:c.getUseWebViewUserAgentForTracking(), buyerId:c.getBuyerId() || void 0, session:g}, b = ye({}, f, {vpaid:b, tracking:c.getTrackingUrls()}), Promise.resolve(new tb(b))) : d.parseVastToCampaign(b, a, l, g, e, k, c);
      });
    };
    b.prototype.getVPAIDMediaFile = function(a) {
      return this._vpaidParser.getSupportedMediaFile(a);
    };
    return b;
  }(Rb), La = function() {
    function c(b, a, d, c, g, e, k, m, h) {
      this.onCampaign = new U;
      this.onNoFill = new r;
      this.onError = new ua;
      this.onConnectivityError = new r;
      this.onAdPlanReceived = new U;
      this._nativeBridge = b;
      this._configuration = a;
      this._assetManager = d;
      this._sessionManager = c;
      this._request = e;
      this._clientInfo = k;
      this._deviceInfo = m;
      this._metaDataManager = h;
      this._adMobSignalFactory = g;
      this._requesting = !1;
    }
    c.setAbGroup = function(b) {
      c.AbGroup = b;
    };
    c.setCampaignId = function(b) {
      c.CampaignId = b;
    };
    c.setCountry = function(b) {
      c.Country = b;
    };
    c.setCampaignResponse = function(b) {
      c.CampaignResponse = b;
    };
    c.setBaseUrl = function(b) {
      c.BaseUrl = b + "/v4/games";
    };
    c.prototype.request = function(b) {
      var a = this;
      if (this._requesting) {
        return Promise.resolve();
      }
      this._assetManager.enableCaching();
      this._assetManager.checkFreeSpace();
      this._requesting = !0;
      this._rawResponse && delete this._rawResponse;
      return Promise.all([this.createRequestUrl(), this.createRequestBody(b)]).then(function(b) {
        var d = b[0];
        b = b[1];
        a._nativeBridge.Sdk.logInfo("Requesting ad plan from " + d);
        var g = JSON.stringify(b);
        K.setAdRequestTimestamp();
        var e = Date.now();
        return Promise.resolve().then(function() {
          return c.CampaignResponse ? Promise.resolve({url:d, response:c.CampaignResponse, responseCode:200, headers:[]}) : a._request.post(d, g, [], {retries:2, retryDelay:10000, followRedirects:!1, retryWithConnectionEvents:!1});
        }).then(function(b) {
          if (b) {
            return K.setAdRequestDuration(Date.now() - e), K.increaseAdRequestOrdinal(), a._rawResponse = b.response, a.parseCampaigns(b).catch(function(b) {
              a.handleError(b, a._configuration.getPlacementIds());
            });
          }
          throw new Z("Empty campaign response", "CampaignRequestError");
        }).then(function() {
          a._requesting = !1;
        }).catch(function(b) {
          a._requesting = !1;
          return b instanceof ya && !b.nativeResponse ? (a.onConnectivityError.trigger(a._configuration.getPlacementIds()), Promise.resolve()) : a.handleError(b, a._configuration.getPlacementIds());
        });
      });
    };
    c.prototype.setPreviousPlacementId = function(b) {
      this._previousPlacementId = b;
    };
    c.prototype.getPreviousPlacementId = function() {
      return this._previousPlacementId;
    };
    c.prototype.getFullyCachedCampaigns = function() {
      return this._nativeBridge.Storage.getKeys(n.PRIVATE, "cache.campaigns", !1).then(function(b) {
        return b;
      }).catch(function() {
        return [];
      });
    };
    c.prototype.parseCampaigns = function(b) {
      var a = this;
      try {
        var d = Ga.parse(b.response);
      } catch (sa) {
        return t.trigger("auction_invalid_json", {response:b.response}), Promise.reject(Error("Could not parse campaign JSON: " + sa.message));
      }
      if (!d.auctionId) {
        throw Error("No auction ID found");
      }
      var c = this._sessionManager.create(d.auctionId);
      c.setAdPlan(b.response);
      if ("placements" in d) {
        var g = {};
        b = [];
        var e = this._configuration.getPlacements();
        for (m in e) {
          if (e.hasOwnProperty(m)) {
            var k = d.placements[m];
            k ? g[k] ? g[k].push(m) : g[k] = [m] : b.push(m);
          }
        }
        var m = 0;
        var h = [];
        for (e = 0; e < b.length; e++) {
          m = b[e], h.push(this.handleNoFill(m)), m = Nb.NoFillDelay;
        }
        b = 0;
        for (k in g) {
          if (g.hasOwnProperty(k)) {
            b++;
            e = d.media[k].contentType;
            var n = d.media[k].cacheTTL ? d.media[k].cacheTTL : 3600;
            e && "comet/campaign" !== e && 0 < n && (n < m || 0 === m) && (m = n);
          }
        }
        this.onAdPlanReceived.trigger(m, b);
        m = function(b) {
          if (g.hasOwnProperty(b)) {
            var f = void 0;
            try {
              f = new Md(g[b], d.media[b], d.correlationId), h.push(p.handleCampaign(f, c).catch(function(d) {
                return d === E.STOPPED ? Promise.resolve() : d === E.FAILED ? a.handleError(new Z("Caching failed", "CacheStatusFailed"), g[b], c) : d === O[O.FILE_NOT_FOUND] ? a.handleError(new Z("Getting file path failed", "GetFilePathFailed"), g[b], c) : a.handleError(d, g[b], c);
              }));
            } catch (B) {
              p.handleError(B, g[b], c);
            }
          }
        };
        var p = this;
        for (k in g) {
          m(k);
        }
        return Promise.all(h);
      }
      throw Error("No placements found");
    };
    c.prototype.handleCampaign = function(b, a) {
      var d = this;
      this._nativeBridge.Sdk.logDebug("Parsing campaign " + b.getContentType() + ": " + b.getContent());
      switch(b.getContentType()) {
        case "comet/campaign":
          var c = new Pd;
          break;
        case "programmatic/vast":
          c = new Rb;
          break;
        case "programmatic/mraid-url":
          c = new ee;
          break;
        case "programmatic/mraid":
          c = new he;
          break;
        case "programmatic/static-interstitial":
          c = new le;
          break;
        case "programmatic/static-interstitial-url":
          c = new pe;
          break;
        case "programmatic/admob-video":
          c = new ue;
          t.trigger("admob_ad_received", {}, a);
          break;
        case "programmatic/vast-vpaid":
          c = new ze;
          break;
        default:
          throw Error("Unsupported content-type: " + b.getContentType());
      }
      var g = Date.now();
      return c.parse(this._nativeBridge, this._request, b, a, this._configuration.getGamerId(), this.getAbGroup()).then(function(a) {
        for (var c = Date.now() - g, f = 0, e = b.getPlacements(); f < e.length; f++) {
          K.setParseDuration(e[f], c);
        }
        return d.setupCampaignAssets(b.getPlacements(), a);
      });
    };
    c.prototype.setupCampaignAssets = function(b, a) {
      var d = this;
      return this._assetManager.setup(a).then(function() {
        for (var c = 0; c < b.length; c++) {
          d.onCampaign.trigger(b[c], a);
        }
      });
    };
    c.prototype.handleNoFill = function(b) {
      this._nativeBridge.Sdk.logDebug("PLC no fill for placement " + b);
      this.onNoFill.trigger(b);
      return Promise.resolve();
    };
    c.prototype.handleError = function(b, a, d) {
      this._nativeBridge.Sdk.logDebug("PLC error " + b);
      this.onError.trigger(b, a, d);
      return Promise.resolve();
    };
    c.prototype.getBaseUrl = function() {
      return [c.BaseUrl, this._clientInfo.getGameId(), "requests"].join("/");
    };
    c.prototype.getAbGroup = function() {
      return c.AbGroup ? c.AbGroup : this._configuration.getAbGroup();
    };
    c.prototype.createRequestUrl = function() {
      var b = this, a = this.getBaseUrl();
      this._deviceInfo.getAdvertisingIdentifier() ? a = p.addParameters(a, {advertisingTrackingId:this._deviceInfo.getAdvertisingIdentifier(), limitAdTracking:this._deviceInfo.getLimitAdTracking()}) : this._clientInfo.getPlatform() === h.ANDROID && (a = p.addParameters(a, {androidId:this._deviceInfo.getAndroidId()}));
      a = p.addParameters(a, {deviceMake:this._deviceInfo.getManufacturer(), deviceModel:this._deviceInfo.getModel(), platform:h[this._clientInfo.getPlatform()].toLowerCase(), screenDensity:this._deviceInfo.getScreenDensity(), sdkVersion:this._clientInfo.getSdkVersion(), screenSize:this._deviceInfo.getScreenLayout(), stores:this._deviceInfo.getStores()});
      a = this._clientInfo.getPlatform() === h.IOS ? p.addParameters(a, {osVersion:this._deviceInfo.getOsVersion()}) : p.addParameters(a, {apiLevel:this._deviceInfo.getApiLevel()});
      this._configuration.getTestMode() && (a = p.addParameters(a, {test:!0}));
      c.CampaignId && (a = p.addParameters(a, {forceCampaignId:c.CampaignId}));
      c.AbGroup && (a = p.addParameters(a, {forceAbGroup:c.AbGroup}));
      c.Country && (a = p.addParameters(a, {force_country:c.Country}));
      var d = [];
      d.push(this._deviceInfo.getScreenWidth());
      d.push(this._deviceInfo.getScreenHeight());
      d.push(this._deviceInfo.getConnectionType());
      d.push(this._deviceInfo.getNetworkType());
      return Promise.all(d).then(function(d) {
        return a = p.addParameters(a, {screenWidth:d[0], screenHeight:d[1], connectionType:d[2], networkType:d[3], gamerId:b._configuration.getGamerId()});
      });
    };
    c.prototype.createRequestBody = function(b) {
      var a = this, d = [];
      d.push(this._deviceInfo.getFreeSpace());
      d.push(this._deviceInfo.getNetworkOperator());
      d.push(this._deviceInfo.getNetworkOperatorName());
      d.push(this._deviceInfo.getHeadset());
      d.push(this._deviceInfo.getDeviceVolume());
      d.push(this.getFullyCachedCampaigns());
      d.push(this.getVersionCode());
      d.push(this._adMobSignalFactory.getAdRequestSignal().then(function(a) {
        return a.getBase64ProtoBufNonEncoded();
      }));
      var c = {bundleVersion:this._clientInfo.getApplicationVersion(), bundleId:this._clientInfo.getApplicationName(), coppa:this._configuration.isCoppaCompliant(), language:this._deviceInfo.getLanguage(), gameSessionId:this._sessionManager.getGameSessionId(), timeZone:this._deviceInfo.getTimeZone(), simulator:this._deviceInfo.isSimulator()};
      this.getPreviousPlacementId() && (c.previousPlacementId = this.getPreviousPlacementId());
      "undefined" !== typeof navigator && navigator.userAgent && "string" === typeof navigator.userAgent && (c.webviewUa = navigator.userAgent);
      b && (c.nofillRetry = !0);
      return Promise.all(d).then(function(b) {
        var d = b[1], f = b[2], g = b[3], e = b[4], h = b[5], n = b[6], p = b[7];
        c.deviceFreeSpace = b[0];
        c.networkOperator = d;
        c.networkOperatorName = f;
        c.wiredHeadset = g;
        c.volume = e;
        c.requestSignal = p;
        h && 0 < h.length && (c.cachedCampaigns = h);
        n && (c.versionCode = n);
        b = [];
        b.push(a._metaDataManager.fetch(cb));
        b.push(a._metaDataManager.fetch(rb));
        return Promise.all(b).then(function(b) {
          var d = b[0];
          b = b[1];
          d && (c.mediationName = d.getName(), c.mediationVersion = d.getVersion(), d.getOrdinal() && (c.mediationOrdinal = d.getOrdinal()));
          b && (c.frameworkName = b.getName(), c.frameworkVersion = b.getVersion());
          d = {};
          b = a._configuration.getPlacements();
          for (var f in b) {
            b.hasOwnProperty(f) && (d[f] = {adTypes:b[f].getAdTypes(), allowSkip:b[f].allowSkip()});
          }
          c.placements = d;
          c.properties = a._configuration.getProperties();
          return c;
        });
      });
    };
    c.prototype.getVersionCode = function() {
      return this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.DeviceInfo.Android.getPackageInfo(this._clientInfo.getApplicationName()).then(function(b) {
        if (b.versionCode) {
          return b.versionCode;
        }
      }).catch(function() {
      }) : Promise.resolve(void 0);
    };
    c.BaseUrl = "https://auction.unityads.unity3d.com/v4/games";
    return c;
  }(), Ae = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), F;
  (function(c) {
    c[c.START = 0] = "START";
    c[c.FIRST_QUARTILE = 1] = "FIRST_QUARTILE";
    c[c.MIDPOINT = 2] = "MIDPOINT";
    c[c.THIRD_QUARTILE = 3] = "THIRD_QUARTILE";
    c[c.VIEW = 4] = "VIEW";
    c[c.SKIP = 5] = "SKIP";
    c[c.CLICK = 6] = "CLICK";
    c[c.IMPRESSION = 7] = "IMPRESSION";
    c[c.VAST_COMPLETE = 8] = "VAST_COMPLETE";
  })(F || (F = {}));
  var Be = function(c) {
    function b(a) {
      var b = c.call(this, "Session", {id:["string"], adPlan:["string", "undefined"], eventSent:["object"]}) || this;
      b.set("id", a);
      b.set("eventSent", {});
      return b;
    }
    Ae(b, c);
    b.prototype.getId = function() {
      return this.get("id");
    };
    b.prototype.getAdPlan = function() {
      return this.get("adPlan");
    };
    b.prototype.setAdPlan = function(a) {
      this.set("adPlan", a);
    };
    b.prototype.getEventSent = function(a) {
      var b = this.get("eventSent");
      return a in b ? b[a] : !1;
    };
    b.prototype.setEventSent = function(a) {
      var b = this.get("eventSent");
      a in b || (b[a] = !0);
      this.set("eventSent", b);
    };
    b.prototype.getDTO = function() {
      return {id:this.getId(), eventSent:this.get("eventSent")};
    };
    return b;
  }(J), Xb = function() {
    function c(b) {
      this._nativeBridge = b;
    }
    c.getSessionKey = function(b) {
      return "session." + b;
    };
    c.getSessionTimestampKey = function(b) {
      return c.getSessionKey(b) + ".ts";
    };
    c.prototype.create = function(b) {
      this.startNewSession(b);
      return new Be(b);
    };
    c.prototype.startNewSession = function(b) {
      var a = c.getSessionTimestampKey(b), d = Date.now();
      return Promise.all([this._nativeBridge.Storage.set(n.PRIVATE, a, d), this._nativeBridge.Storage.write(n.PRIVATE)]).catch(function(b) {
        t.trigger("session_start_failed", new H(b, {key:a, timestamp:d, adRequestOrdinal:K.getAdRequestOrdinal()}));
        return Promise.resolve([]);
      });
    };
    c.prototype.sendUnsentSessions = function(b) {
      var a = this;
      return this.getUnsentSessions().then(function(d) {
        d = d.map(function(d) {
          return a.isSessionOutdated(d).then(function(c) {
            return c ? a.deleteSession(d) : b.sendUnsentEvents(d);
          });
        });
        return Promise.all(d).catch(function(a) {
          t.trigger("sending_stored_events_failed", a);
          return Promise.resolve([]);
        });
      });
    };
    c.prototype.setGameSessionId = function(b) {
      this._gameSessionId = b;
    };
    c.prototype.getGameSessionId = function() {
      return this._gameSessionId;
    };
    c.prototype.deleteSession = function(b) {
      return Promise.all([this._nativeBridge.Storage.delete(n.PRIVATE, c.getSessionKey(b)), this._nativeBridge.Storage.write(n.PRIVATE)]);
    };
    c.prototype.getUnsentSessions = function() {
      return this._nativeBridge.Storage.getKeys(n.PRIVATE, "session", !1);
    };
    c.prototype.isSessionOutdated = function(b) {
      return this._nativeBridge.Storage.get(n.PRIVATE, c.getSessionTimestampKey(b)).then(function(a) {
        var b = (new Date).getTime() - 6048E5, c = (new Date).getTime();
        return !(a > b && a < c);
      }).catch(function() {
        return !0;
      });
    };
    return c;
  }(), N;
  (function(c) {
    c[c.NOT_INITIALIZED = 0] = "NOT_INITIALIZED";
    c[c.INITIALIZE_FAILED = 1] = "INITIALIZE_FAILED";
    c[c.INVALID_ARGUMENT = 2] = "INVALID_ARGUMENT";
    c[c.VIDEO_PLAYER_ERROR = 3] = "VIDEO_PLAYER_ERROR";
    c[c.INIT_SANITY_CHECK_FAIL = 4] = "INIT_SANITY_CHECK_FAIL";
    c[c.AD_BLOCKER_DETECTED = 5] = "AD_BLOCKER_DETECTED";
    c[c.FILE_IO_ERROR = 6] = "FILE_IO_ERROR";
    c[c.DEVICE_ID_ERROR = 7] = "DEVICE_ID_ERROR";
    c[c.SHOW_ERROR = 8] = "SHOW_ERROR";
    c[c.INTERNAL_ERROR = 9] = "INTERNAL_ERROR";
  })(N || (N = {}));
  var Ce = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), De = function(c) {
    function b(a, b) {
      var d = c.call(this, "ClientInfo", {gameId:["string"], testMode:["boolean"], applicationName:["string"], applicationVersion:["string"], sdkVersion:["number"], sdkVersionName:["string"], platform:["number"], debuggable:["boolean"], configUrl:["string"], webviewUrl:["string"], webviewHash:["string", "null"], webviewVersion:["string", "null"], initTimestamp:["number"], reinitialized:["boolean"]}) || this;
      d.set("platform", a);
      a = b.shift();
      if ("string" === typeof a && /^\d+$/.test(a)) {
        d.set("gameId", a);
      } else {
        throw Error(N[N.INVALID_ARGUMENT]);
      }
      d.set("testMode", b.shift());
      d.set("applicationName", b.shift());
      d.set("applicationVersion", b.shift());
      d.set("sdkVersion", b.shift());
      d.set("sdkVersionName", b.shift());
      d.set("debuggable", b.shift());
      d.set("configUrl", b.shift());
      d.set("webviewUrl", b.shift());
      d.set("webviewHash", b.shift());
      d.set("webviewVersion", b.shift());
      d.set("initTimestamp", b.shift());
      d.set("reinitialized", b.shift());
      return d;
    }
    Ce(b, c);
    b.prototype.getGameId = function() {
      return this.get("gameId");
    };
    b.prototype.getTestMode = function() {
      return this.get("testMode");
    };
    b.prototype.getApplicationVersion = function() {
      return this.get("applicationVersion");
    };
    b.prototype.getApplicationName = function() {
      return this.get("applicationName");
    };
    b.prototype.getSdkVersion = function() {
      return this.get("sdkVersion");
    };
    b.prototype.getSdkVersionName = function() {
      return this.get("sdkVersionName");
    };
    b.prototype.getPlatform = function() {
      return this.get("platform");
    };
    b.prototype.isDebuggable = function() {
      return this.get("debuggable");
    };
    b.prototype.getConfigUrl = function() {
      return this.get("configUrl");
    };
    b.prototype.getWebviewUrl = function() {
      return this.get("webviewUrl");
    };
    b.prototype.getWebviewHash = function() {
      return this.get("webviewHash");
    };
    b.prototype.getWebviewVersion = function() {
      return this.get("webviewVersion");
    };
    b.prototype.getInitTimestamp = function() {
      return this.get("initTimestamp");
    };
    b.prototype.isReinitialized = function() {
      return this.get("reinitialized");
    };
    b.prototype.getDTO = function() {
      return {gameId:this.getGameId(), testMode:this.getTestMode(), bundleId:this.getApplicationName(), bundleVersion:this.getApplicationVersion(), sdkVersion:this.getSdkVersion(), sdkVersionName:this.getSdkVersionName(), platform:h[this.getPlatform()].toLowerCase(), encrypted:!this.isDebuggable(), configUrl:this.getConfigUrl(), webviewUrl:this.getWebviewUrl(), webviewHash:this.getWebviewHash(), webviewVersion:this.getWebviewVersion(), initTimestamp:this.getInitTimestamp(), reinitialized:this.isReinitialized()};
    };
    return b;
  }(J), Ee = function() {
    function c() {
    }
    c.trigger = function(b, a) {
      if (!a || "object" !== typeof a || Array.isArray(a)) {
        a = {value:a};
      }
      return aa.sendEvent("analytics", a);
    };
    return c;
  }(), Fe = function() {
    function c(b, a) {
      this._nativeBridge = b;
      this._request = a;
    }
    c.prototype.clickAttributionEvent = function(b, a) {
      return this._request.get(b, [], {retries:0, retryDelay:0, followRedirects:a, retryWithConnectionEvents:!1});
    };
    c.prototype.sendEvent = function(b, a, d, c) {
      var f = [];
      "undefined" !== typeof navigator && navigator.userAgent && !0 === c && f.push(["User-Agent", navigator.userAgent]);
      this._nativeBridge.Sdk.logInfo("Unity Ads third party event: sending " + b + " event to " + d + " with headers " + f + " (session " + a + ")");
      return this._request.get(d, f, {retries:0, retryDelay:0, followRedirects:!0, retryWithConnectionEvents:!1}).catch(function(c) {
        c instanceof ya && (c = new H(Error(c.message), {request:c.nativeRequest, event:b, sessionId:a, url:d, response:c.nativeResponse}));
        return Ee.trigger("third_party_event_failed", c);
      });
    };
    return c;
  }(), I = function() {
    function c(b, a) {
      this.onStart = new x;
      this.onStartProcessed = new x;
      this.onFinish = new x;
      this.onClose = new x;
      this.onError = new x;
      this._nativeBridge = b;
      this._forceOrientation = a.forceOrientation;
      this._container = a.container;
      this._showing = !1;
      this._finishState = u.ERROR;
    }
    c.setAutoClose = function(b) {
      c._autoClose = b;
    };
    c.getAutoClose = function() {
      return c._autoClose;
    };
    c.setAutoCloseDelay = function(b) {
      c._autoCloseDelay = b;
    };
    c.getAutoCloseDelay = function() {
      return c._autoCloseDelay;
    };
    c.prototype.isShowing = function() {
      return this._showing;
    };
    c.prototype.setShowing = function(b) {
      this._showing = b;
    };
    c.prototype.getContainer = function() {
      return this._container;
    };
    c.prototype.getForceOrientation = function() {
      return this._forceOrientation;
    };
    c.prototype.getFinishState = function() {
      return this._finishState;
    };
    c.prototype.setFinishState = function(b) {
      this._finishState !== u.COMPLETED && (this._finishState = b);
    };
    c._autoClose = !1;
    c._autoCloseDelay = 0;
    return c;
  }(), Ge = function() {
    function c(b) {
      this._nativeBridge = b;
      this._nativeBridge.Resolve.onComplete.subscribe(function(a, b, f) {
        return c.onResolveComplete(a, b, f);
      });
      this._nativeBridge.Resolve.onFailed.subscribe(function(a, b, f, g) {
        return c.onResolveFailed(a, b, f, g);
      });
    }
    c.onResolveComplete = function(b, a, d) {
      var f = c._callbacks[b];
      f && (f.resolve([b, a, d]), delete c._callbacks[b]);
    };
    c.onResolveFailed = function(b, a, d, f) {
      if (a = c._callbacks[b]) {
        a.reject([d, f]), delete c._callbacks[b];
      }
    };
    c.prototype.resolve = function(b) {
      var a = c._callbackId++, d = this.registerCallback(a);
      this._nativeBridge.Resolve.resolve(a.toString(), b);
      return d;
    };
    c.prototype.registerCallback = function(b) {
      return new Promise(function(a, d) {
        c._callbacks[b] = new pb(a, d);
      });
    };
    c._callbackId = 1;
    c._callbacks = {};
    return c;
  }(), He = function() {
    function c(b, a) {
      var d = this;
      this.onNetworkConnected = new x;
      this._nativeBridge = b;
      this._focusManager = a;
      this._firstConnection = Date.now();
      this._connectionEvents = 0;
      this._nativeBridge.Connectivity.onConnected.subscribe(function(a, b) {
        return d.onConnected(a, b);
      });
    }
    c.prototype.setListenConnectivity = function(b) {
      return this._nativeBridge.Connectivity.setListeningStatus(b);
    };
    c.prototype.onConnected = function() {
      this._firstConnection + 18E5 < Date.now() ? (this._firstConnection = Date.now(), this._connectionEvents = 0, this.onNetworkConnected.trigger()) : (this._connectionEvents++, 10 >= this._connectionEvents ? this.onNetworkConnected.trigger() : 11 === this._connectionEvents && this._nativeBridge.Sdk.logWarning("Unity Ads has received more than 10 connection events in 30 minutes, now ignoring connection events"));
    };
    return c;
  }(), ea = function() {
    function c(b) {
      this._value = b;
    }
    c.prototype.toJSON = function() {
      return this._value.toFixed(20) + "=double";
    };
    return c;
  }(), eb = function() {
    function c() {
    }
    c.isAppSheetBroken = function(b) {
      return null !== b.match(/^8\.[0-3]/);
    };
    c.hasVideoStallingApi = function(b) {
      return b.match(/^1/) ? !0 : !1;
    };
    return c;
  }(), q;
  (function(c) {
    c[c.NONE = 0] = "NONE";
    c[c.PORTRAIT = 1] = "PORTRAIT";
    c[c.LANDSCAPE = 2] = "LANDSCAPE";
  })(q || (q = {}));
  var Xa = function() {
    function c() {
      this.onShow = new x;
      this.onSystemKill = new x;
      this.onAndroidPause = new x;
      this.onSystemInterrupt = new r;
      this.onLowMemoryWarning = new x;
      this._diagnosticsEvents = [];
    }
    c.setForcedOrientation = function(b) {
      c._forcedOrientation = b;
    };
    c.getForcedOrientation = function() {
      return c._forcedOrientation;
    };
    c.prototype.getLockedOrientation = function() {
      return this._lockedOrientation;
    };
    c.prototype.getDiagnosticsEvents = function() {
      return this._diagnosticsEvents;
    };
    c.prototype.addDiagnosticsEvent = function(b) {
      this._diagnosticsEvents.push(b);
    };
    c.prototype.resetDiagnosticsEvents = function() {
      this._diagnosticsEvents = [];
    };
    return c;
  }(), Ie = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Yb = function(c) {
    function b(a, b) {
      a = c.call(this, a, b) || this;
      a._video = b.video;
      a._videoReady = !1;
      a._active = !1;
      a._overlay = b.overlay;
      a._deviceInfo = b.deviceInfo;
      a._options = b.options;
      a._prepareCalled = !1;
      a._lowMemory = !1;
      a._placement = b.placement;
      a._campaign = b.campaign;
      a.prepareOverlay();
      return a;
    }
    Ie(b, c);
    b.prototype.show = function() {
      var a = this;
      this.setShowing(!0);
      this.onStart.trigger();
      this.setActive(!0);
      this._onShowObserver = this._container.onShow.subscribe(function() {
        return a.onShow();
      });
      this._onSystemKillObserver = this._container.onSystemKill.subscribe(function() {
        return a.onSystemKill();
      });
      this._onSystemInterruptObserver = this._container.onSystemInterrupt.subscribe(function(b) {
        return a.onSystemInterrupt(b);
      });
      this._onLowMemoryWarningObserver = this._container.onLowMemoryWarning.subscribe(function() {
        return a.onLowMemoryWarning();
      });
      return this._container.open(this, !0, !0, this.getForceOrientation(), this._placement.disableBackButton(), !1, !0, !1, this._options);
    };
    b.prototype.hide = function() {
      var a = this;
      if (!this.isShowing()) {
        return Promise.resolve();
      }
      this.setShowing(!1);
      this.hideChildren();
      this.unsetReferences();
      this._nativeBridge.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
      return this._container.close().then(function() {
        a.onClose.trigger();
      });
    };
    b.prototype.isVideoReady = function() {
      return this._videoReady;
    };
    b.prototype.setVideoReady = function(a) {
      this._videoReady = a;
    };
    b.prototype.isPrepareCalled = function() {
      return this._prepareCalled;
    };
    b.prototype.setPrepareCalled = function(a) {
      this._prepareCalled = a;
    };
    b.prototype.isCached = function() {
      return this._video.isCached();
    };
    b.prototype.getOverlay = function() {
      return this._overlay;
    };
    b.prototype.getProgressInterval = function() {
      return b._progressInterval;
    };
    b.prototype.getVideo = function() {
      return this._video;
    };
    b.prototype.isActive = function() {
      return this._active;
    };
    b.prototype.setActive = function(a) {
      this._active = a;
    };
    b.prototype.getVideoOrientation = function() {
      return this._videoOrientation;
    };
    b.prototype.isLowMemory = function() {
      return this._lowMemory;
    };
    b.prototype.unsetReferences = function() {
      delete this._overlay;
    };
    b.prototype.prepareOverlay = function() {
      var a = this.getOverlay();
      a && (a.render(), document.body.appendChild(a.container()), this._placement.allowSkip() ? (a.setSkipEnabled(!0), a.setSkipDuration(this._placement.allowSkipInSeconds())) : a.setSkipEnabled(!1));
    };
    b.prototype.onShow = function() {
      var a = this;
      this.isShowing() && this.isActive() && (this._nativeBridge.getPlatform() === h.IOS && eb.hasVideoStallingApi(this._deviceInfo.getOsVersion()) && (this.getVideo().isCached() ? this._nativeBridge.VideoPlayer.setAutomaticallyWaitsToMinimizeStalling(!1) : this._nativeBridge.VideoPlayer.setAutomaticallyWaitsToMinimizeStalling(!0)), this.getValidVideoUrl().then(function(b) {
        a.setPrepareCalled(!0);
        a._nativeBridge.VideoPlayer.prepare(b, new ea(a._placement.muteVideo() ? 0.0 : 1.0), 10000);
      }));
    };
    b.prototype.onSystemKill = function() {
      this.isShowing() && (this.setFinishState(u.SKIPPED), this.hide());
    };
    b.prototype.onSystemInterrupt = function(a) {
      this.isShowing() && this.isActive() && (a ? (this._nativeBridge.Sdk.logInfo("Pausing Unity Ads video playback due to interrupt"), this._nativeBridge.VideoPlayer.pause()) : a || !this.isVideoReady() || this.getContainer().isPaused() || (this._nativeBridge.Sdk.logInfo("Continuing Unity Ads video playback after interrupt"), this._nativeBridge.VideoPlayer.play()));
    };
    b.prototype.onLowMemoryWarning = function() {
      this.isShowing() && (this._lowMemory = !0);
    };
    b.prototype.hideChildren = function() {
      var a = this.getOverlay();
      a && a.container().parentElement.removeChild(a.container());
    };
    b.prototype.getValidVideoUrl = function() {
      var a = this, b = this.getVideo().getOriginalUrl();
      if (this._campaign instanceof da) {
        var c = this.getForceOrientation(), g = this._campaign.getStreamingVideo(), e = this._campaign.getStreamingPortraitVideo();
        if (c === q.LANDSCAPE) {
          g ? b = g.getOriginalUrl() : e && (b = e.getOriginalUrl());
        } else {
          if (c === q.PORTRAIT) {
            e ? b = e.getOriginalUrl() : g && (b = g.getOriginalUrl());
          } else {
            throw new Z("Unable to fallback to an oriented streaming video");
          }
        }
      }
      return Promise.resolve().then(function() {
        return a.getVideo().isCached() && a.getVideo().getFileId() ? a._nativeBridge.Cache.getFileInfo(a.getVideo().getFileId()).then(function(d) {
          if (d.found) {
            var c = a.getVideo().getSize();
            return c && c !== d.size ? (t.trigger("video_size_mismatch", {remoteVideoSize:c, localVideoSize:d.size}, a._campaign.getSession()), b) : a.getVideo().getUrl();
          }
          t.trigger("cached_file_not_found", new H(Error("File not found"), {url:a.getVideo().getUrl(), originalUrl:a.getVideo().getOriginalUrl(), campaignId:a._campaign.getId()}), a._campaign.getSession());
          a.getVideo().setCachedUrl(void 0);
          return b;
        }).catch(function(d) {
          t.trigger("cached_file_not_found", new H(Error(d), {url:a.getVideo().getUrl(), originalUrl:a.getVideo().getOriginalUrl(), campaignId:a._campaign.getId()}), a._campaign.getSession());
          a.getVideo().setCachedUrl(void 0);
          return b;
        }) : a.getVideo().getUrl();
      }).then(function(b) {
        a._videoOrientation = "landscape";
        if (a._campaign instanceof da) {
          var d = a._campaign.getPortraitVideo(), c = a._campaign.getStreamingPortraitVideo();
          if (d && b === d.getCachedUrl() || c && b === c.getOriginalUrl()) {
            a._videoOrientation = "portrait";
          }
        }
        a._nativeBridge.Sdk.logDebug("Choosing " + a._videoOrientation + " video for locked orientation " + q[a._container.getLockedOrientation()].toLowerCase());
        return b;
      });
    };
    b._progressInterval = 250;
    return b;
  }(I), Je = function() {
    function c(b) {
      var a = this;
      this._element = b;
      this._moved = !1;
      this._startY = this._startX = 0;
      this._element.addEventListener("touchstart", function(b) {
        return a.onTouchStart(b);
      }, !1);
    }
    c.prototype.onTouchStart = function(b) {
      var a = this;
      b.stopPropagation();
      b.preventDefault();
      this._onTouchMoveListener = function(b) {
        return a.onTouchMove(b);
      };
      this._onTouchEndListener = function(b) {
        return a.onTouchEnd(b);
      };
      this._onTouchCancelListener = function(b) {
        return a.onTouchCancel(b);
      };
      this._element.addEventListener("touchmove", this._onTouchMoveListener, !1);
      this._element.addEventListener("touchend", this._onTouchEndListener, !1);
      this._element.addEventListener("touchcancel", this._onTouchCancelListener, !1);
      this._moved = !1;
      this._startX = b.touches[0].clientX;
      this._startY = b.touches[0].clientY;
    };
    c.prototype.onTouchMove = function(b) {
      var a = b.touches[0].clientY;
      if (Math.abs(b.touches[0].clientX - this._startX) > c._moveTolerance || Math.abs(a - this._startY) > c._moveTolerance) {
        this._moved = !0;
      }
    };
    c.prototype.onTouchEnd = function(b) {
      this._onTouchMoveListener && this._onTouchEndListener && this._onTouchCancelListener && (this._element.removeEventListener("touchmove", this._onTouchMoveListener, !1), this._element.removeEventListener("touchend", this._onTouchEndListener, !1), this._element.removeEventListener("touchcancel", this._onTouchCancelListener, !1));
      this._onTouchCancelListener = this._onTouchEndListener = this._onTouchMoveListener = void 0;
      if (!this._moved) {
        var a = new MouseEvent("click", {view:window, bubbles:!0, cancelable:!0});
        b.stopPropagation();
        b.target.dispatchEvent(a) || b.preventDefault();
      }
    };
    c.prototype.onTouchCancel = function() {
      this._moved = !1;
      this._startY = this._startX = 0;
    };
    c._moveTolerance = 10;
    return c;
  }(), Ke = function() {
    function c(b) {
      var a = this;
      this._element = b;
      this._startY = this._startX = 0;
      this._element.addEventListener("touchstart", function(b) {
        return a.onTouchStart(b);
      }, !1);
    }
    c.prototype.onTouchStart = function(b) {
      var a = this;
      this._onTouchEndListener = function(b) {
        return a.onTouchEnd(b);
      };
      this._onTouchCancelListener = function(b) {
        return a.onTouchCancel(b);
      };
      this._onTouchMoveListener = function(b) {
        return a.onTouchMove(b);
      };
      this._element.addEventListener("touchend", this._onTouchEndListener, !1);
      this._element.addEventListener("touchcancel", this._onTouchCancelListener, !1);
      this._element.addEventListener("touchmove", this._onTouchMoveListener, !1);
      this._startX = b.touches[0].clientX;
      this._startY = b.touches[0].clientY;
    };
    c.prototype.onTouchEnd = function(b) {
      this._element.removeEventListener("touchend", this._onTouchEndListener, !1);
      this._element.removeEventListener("touchcancel", this._onTouchCancelListener, !1);
      this._element.removeEventListener("touchmove", this._onTouchCancelListener, !1);
      var a = this._startX - b.changedTouches[0].clientX;
      Math.abs(a) > Math.abs(this._startY - b.changedTouches[0].clientY) && Math.abs(a) > c._moveTolerance && (a = document.createEvent("MouseEvent"), a.initMouseEvent("swipe", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), b.stopPropagation(), b.target.dispatchEvent(a) || b.preventDefault());
      this._startY = this._startX = 0;
    };
    c.prototype.onTouchCancel = function() {
      this._startY = this._startX = 0;
    };
    c.prototype.onTouchMove = function(b) {
      b.preventDefault();
    };
    c._moveTolerance = 75;
    return c;
  }(), ja = function() {
    function c(b, a) {
      this._handlers = [];
      this._nativeBridge = b;
      this._id = a;
    }
    c.addEventListener = function(b, a, d) {
      "swipe" === b.event && (b.swipe = new Ke(a));
      d && "click" === b.event && (b.tap = new Je(a));
      a.addEventListener(b.event, b.listener, !1);
    };
    c.prototype.addEventHandler = function(b) {
      this._handlers.push(b);
      return b;
    };
    c.prototype.removeEventHandler = function(b) {
      this._handlers.length && (this._handlers = "undefined" !== typeof b ? this._handlers.filter(function(a) {
        return a !== b;
      }) : []);
    };
    c.prototype.render = function() {
      var b = this;
      this._container = document.createElement("div");
      this._container.id = this._id;
      this._container.innerHTML = this._template.render(this._templateData ? this._templateData : {});
      var a = this._nativeBridge.getPlatform() === h.IOS;
      this._bindings.forEach(function(d) {
        if (d.selector) {
          for (var f = b._container.querySelectorAll(d.selector), g = 0; g < f.length; ++g) {
            c.addEventListener(d, f[g], a);
          }
        } else {
          c.addEventListener(d, b._container, a);
        }
      });
    };
    c.prototype.container = function() {
      return this._container;
    };
    c.prototype.show = function() {
      this._container.style.visibility = "visible";
    };
    c.prototype.hide = function() {
      this._container.style.visibility = "hidden";
    };
    return c;
  }(), S = function() {
    function c(b, a) {
      var d = this;
      this._localization = a;
      var f = 0, g = "__p+='";
      b.replace(c._matcher, function(a, d, e, l) {
        g += b.slice(f, l).replace(c._escapeRegExp, c._escapeChar);
        f = l + a.length;
        d ? g += "'+\n((__t=(" + d + "))==null?'':__t)+\n'" : e && (g += "';\n" + e + "\n__p+='");
        return a;
      });
      g += "';\n";
      g = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + g + "return __p;\n";
      try {
        var e = new Function("data", g);
        this._templateFunction = function(a) {
          return e.call(d, a);
        };
      } catch (k) {
        throw k.source = g, k;
      }
    }
    c.prototype.render = function(b) {
      var a = this;
      b.t = this._localization ? function(b) {
        return a._localization.translate(b);
      } : function(a) {
        return a;
      };
      return this._templateFunction(b);
    };
    c._matcher = /<%=([\s\S]+?)%>|<%([\s\S]+?)%>|$/g;
    c._escapes = {"'":"'", "\\":"\\", "\r":"r", "\n":"n", "\u2028":"u2028", "\u2029":"u2029"};
    c._escapeRegExp = /\\|'|\r|\n|\u2028|\u2029/g;
    c._escapeChar = function(b) {
      return "\\" + c._escapes[b];
    };
    return c;
  }(), Le = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Me = function(c) {
    function b(a) {
      var b = c.call(this, a, "moat") || this;
      b._didInitMoat = !1;
      b._template = new S('<iframe id="moat-iframe" scrolling="no" sandbox="allow-scripts"></iframe>');
      b._bindings = [];
      b._messageListener = function(a) {
        return b.onMessage(a);
      };
      return b;
    }
    Le(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      (this._iframe = this._container.querySelector("#moat-iframe")).srcdoc = "<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"><script>(function() {\n            var MoatMAPI = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    stateChange: [],\n                    exposureChange: [],\n                    audioVolumeChange: []\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        listeners[event].forEach(function(listener) {\n                            listener.apply(window, parameters);\n                        });\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'exposure':\n                            trigger('exposureChange', [\n                                event.data.payload ? 100 : 0,\n                                {\n                                    inFocus: event.data.payload ? 1 : 0,\n                                    isAttached: 1,\n                                    isHidden: 0,\n                                    opacity: 1,\n                                    isCovered: 0\n                                }\n                            ]);\n                            break;\n\n                        case 'volume':\n                            trigger('audioVolumeChange', [event.data.payload]);\n                            break;\n\n                        case 'resize':\n                            width = event.data.width;\n                            height = event.data.height;\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getCurrentPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '3.0';\n                };\n\n            };\n            window.MoatMAPI = new MoatMAPI();\n        })();\n\n        var moat = undefined;\n        document.addEventListener('DOMContentLoaded', function() {\n            window.addEventListener('message', function(event) {\n                if(event && event.data && event.data.type && event.data.data) {\n                    switch(event.data.type) {\n                        case 'init':\n                            var dummyElement = document.createElement('div');\n                            document.body.appendChild(dummyElement);\n                            window.MOATMAPI_ENV = event.data.data.moatData;\n                            moat = initMoatTracking(dummyElement, event.data.data.ids, event.data.data.duration, \"unityinappvideo254672075459\", event.data.data.url);\n                            break;\n\n                        case 'videoEvent':\n                            if(moat) {\n                                moat.dispatchEvent({\n                                    \"type\": event.data.data.type,\n                                    \"adVolume\": event.data.data.volume !== 0 ? 1 : 0,\n                                    \"deviceVolume\": event.data.data.volume\n                                });\n                            }\n                            break;\n\n                        default:\n                            break;\n                    }\n                }\n            }, false);\n\n        });\x3c/script><script>/*Copyright (c) 2011-2016 Moat Inc. All Rights Reserved.*/\n        function initMoatTracking(c, d, e, k, l) {\n            var g = document.createElement(\"script\"), a = [];\n            d = {\n                adData: {ids: d, duration: e, url: l}, dispatchEvent: function(b) {\n                    this.sendEvent ? (a && (a.push(b), b = a, a = !1), this.sendEvent(b)) : a.push(b)\n                }\n            };\n            e = \"_moatApi\" + Math.floor(1E8 * Math.random());\n            var f, h;\n            try {\n                f = c.ownerDocument, h = f.defaultView || f.parentWindow\n            } catch(b) {\n                f = document, h = window\n            }\n            h[e] = d;\n            g.type = \"text/javascript\";\n            g.onerror = loadError;\n            c && c.insertBefore(g, c.childNodes[0] || null);\n            g.src = \"https://z.moatads.com/\" + k + \"/moatvideo.js#\" + e;\n            return d\n        }\n\n        function loadError(e) {\n            window.parent.postMessage({\n                type: 'MOATVideoError',\n                error: e.target.src + ' failed to download'\n            }, '*');\n        }\x3c/script></head><body></body></html>";
    };
    b.prototype.resume = function(a) {
      this.triggerVideoEvent("AdPlaying", a);
      this.triggerViewabilityEvent("exposure", !0);
    };
    b.prototype.pause = function(a) {
      this._iframe.contentWindow && (this.triggerVideoEvent("AdPaused", a), this.triggerViewabilityEvent("exposure", !1));
    };
    b.prototype.init = function(a, b, c, g, e) {
      var d = this;
      this._didInitMoat ? this._nativeBridge.getPlatform() === h.ANDROID && this.resume(e) : (this._didInitMoat = !0, this._resizeDelayer = function(a) {
        d._resizeTimeout = setTimeout(function() {
          d._resizeHandler(a);
        }, 200);
      }, this._resizeHandler = function() {
        d._iframe.contentWindow && d._iframe.contentWindow.postMessage({type:"resize", width:window.innerWidth, height:window.innerHeight}, "*");
      }, this._nativeBridge.getPlatform() === h.IOS ? window.addEventListener("resize", this._resizeDelayer, !1) : window.addEventListener("resize", this._resizeHandler, !1), this._nativeBridge.Sdk.logDebug("Calling MOAT init with: " + JSON.stringify(a) + " duration: " + b + " url: " + c), this._iframe.contentWindow.postMessage({type:"init", data:{ids:a, duration:b, url:c, moatData:g}}, "*"), this._iframe.contentWindow.postMessage({type:"resize", width:window.innerWidth, height:window.innerHeight}, 
      "*"));
    };
    b.prototype.addMessageListener = function() {
      window.addEventListener("message", this._messageListener);
    };
    b.prototype.removeMessageListener = function() {
      window.removeEventListener("message", this._messageListener);
    };
    b.prototype.triggerVideoEvent = function(a, b) {
      this._nativeBridge.Sdk.logDebug('Calling MOAT video event "' + a + '" with volume: ' + b);
      this._iframe.contentWindow && this._iframe.contentWindow.postMessage({type:"videoEvent", data:{type:a, volume:b}}, "*");
    };
    b.prototype.triggerViewabilityEvent = function(a, b) {
      this._nativeBridge.Sdk.logDebug('Calling MOAT viewability event "' + a + '" with payload: ' + b);
      this._iframe.contentWindow && this._iframe.contentWindow.postMessage({type:a, payload:b}, "*");
    };
    b.prototype.onMessage = function(a) {
      switch(a.data.type) {
        case "MOATVideoError":
          t.trigger("moat_video_error", a.data.error);
          break;
        default:
          this._nativeBridge.Sdk.logWarning("MOAT Unknown message type " + a.data.type);
      }
    };
    return b;
  }(ja), Ne = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Ma;
  (function(c) {
    c[c.LANDSCAPE = 0] = "LANDSCAPE";
    c[c.PORTRAIT = 1] = "PORTRAIT";
  })(Ma || (Ma = {}));
  var Oe = function() {
    function c() {
    }
    c.getDeviceOrientation = function() {
      var b = window.innerHeight;
      0 >= b && (b = 1);
      return 1.0 <= window.innerWidth / b ? Ma.LANDSCAPE : Ma.PORTRAIT;
    };
    return c;
  }(), fb = function(c) {
    function b(a, b) {
      var d = c.call(this, a, b) || this;
      d._muted = !1;
      d._events = [[0.0, "AdVideoStart"], [0.25, "AdVideoFirstQuartile"], [0.5, "AdVideoMidpoint"], [0.75, "AdVideoThirdQuartile"]];
      d._onPauseObserver = d._container.onAndroidPause.subscribe(function() {
        return d.onSystemPause();
      });
      b.overlay.setSpinnerEnabled(!b.campaign.getVideo().isCached());
      d._endScreen = b.endScreen || null;
      d._thirdPartyEventManager = b.thirdPartyEventManager;
      d._vastCampaign = b.campaign;
      d._vastPlacement = b.placement;
      d._endScreen && (d._endScreen.render(), d._endScreen.hide(), document.body.appendChild(d._endScreen.container()));
      a.getPlatform() === h.ANDROID ? Promise.all([a.DeviceInfo.Android.getDeviceVolume(Fa.STREAM_MUSIC), a.DeviceInfo.Android.getDeviceMaxVolume(Fa.STREAM_MUSIC)]).then(function(a) {
        d.setVolume(a[0] / a[1]);
      }) : a.getPlatform() === h.IOS && a.DeviceInfo.Ios.getDeviceVolume().then(function(a) {
        d.setVolume(a);
      });
      return d;
    }
    Ne(b, c);
    b.prototype.hide = function() {
      var a = this;
      return (new Promise(function(a) {
        setTimeout(a, 500);
      })).then(function() {
        var b = a.getEndScreen();
        b && (b.hide(), b.remove());
        a._moat && (a._moat.removeMessageListener(), a._moat.container().parentElement.removeChild(a._moat.container()));
        return c.prototype.hide.call(a);
      });
    };
    b.prototype.description = function() {
      return "VAST";
    };
    b.prototype.getMoat = function() {
      return this._moat;
    };
    b.prototype.getEvents = function() {
      return this._events;
    };
    b.prototype.setEvents = function(a) {
      this._events = a;
    };
    b.prototype.getVolume = function() {
      return this._muted ? 0 : this._volume;
    };
    b.prototype.setVolume = function(a) {
      this._volume = a;
    };
    b.prototype.setMuted = function(a) {
      this._muted = a;
    };
    b.prototype.getMuted = function() {
      return this._muted;
    };
    b.prototype.sendImpressionEvent = function(a, b) {
      var d = this._vastCampaign.getVast().getImpressionUrls();
      if (d) {
        for (var c = 0; c < d.length; c++) {
          this.sendThirdPartyEvent("vast impression", a, b, d[c]);
        }
      }
    };
    b.prototype.sendTrackingEvent = function(a, b, c) {
      var d = this._vastCampaign.getVast().getTrackingEventUrls(a);
      if (d) {
        for (var f = 0; f < d.length; f++) {
          this.sendThirdPartyEvent("vast " + a, b, c, d[f]);
        }
      }
    };
    b.prototype.sendProgressEvents = function(a, b, c, g) {
      this.sendQuartileEvent(a, b, c, g, 1, "firstQuartile");
      this.sendQuartileEvent(a, b, c, g, 2, "midpoint");
      this.sendQuartileEvent(a, b, c, g, 3, "thirdQuartile");
    };
    b.prototype.getVideoClickThroughURL = function() {
      var a = this._vastCampaign.getVast().getVideoClickThroughURL();
      return this.isValidURL(a) ? a : null;
    };
    b.prototype.getCompanionClickThroughUrl = function() {
      var a = this._vastCampaign.getVast().getCompanionClickThroughUrl();
      return this.isValidURL(a) ? a : null;
    };
    b.prototype.initMoat = function() {
      this._moat = new Me(this._nativeBridge);
      this._moat.render();
      this._moat.addMessageListener();
      document.body.appendChild(this._moat.container());
    };
    b.prototype.sendVideoClickTrackingEvent = function(a, b) {
      this.sendTrackingEvent("click", a, b);
      var d = this._vastCampaign.getVast().getVideoClickTrackingURLs();
      if (d) {
        for (var c = 0; c < d.length; c++) {
          this.sendThirdPartyEvent("vast video click", a, b, d[c]);
        }
      }
    };
    b.prototype.getEndScreen = function() {
      return this._endScreen;
    };
    b.prototype.sendCompanionTrackingEvent = function(a, b) {
      var d = this.getCompanionForOrientation();
      if (d) {
        var c = 0;
        for (d = d.getEventTrackingUrls("creativeView"); c < d.length; c++) {
          this.sendThirdPartyEvent("companion", a, b, d[c]);
        }
      }
    };
    b.prototype.onSystemInterrupt = function(a) {
      c.prototype.onSystemInterrupt.call(this, a);
      this._moat && (a || this._moat.resume(this.getVolume()));
    };
    b.prototype.onSystemPause = function() {
      this._moat && !this._container.isPaused() && this._moat.pause(this.getVolume());
    };
    b.prototype.getCompanionForOrientation = function() {
      var a = Oe.getDeviceOrientation();
      this._forceOrientation === q.LANDSCAPE ? a = Ma.LANDSCAPE : this._forceOrientation === q.PORTRAIT && (a = Ma.PORTRAIT);
      return a === Ma.LANDSCAPE ? this._vastCampaign.getVast().getLandscapeOrientedCompanionAd() : this._vastCampaign.getVast().getPortraitOrientedCompanionAd();
    };
    b.prototype.sendQuartileEvent = function(a, b, c, g, e, k) {
      if (this.getTrackingEventUrls(k)) {
        var d = this._vastCampaign.getVideo().getDuration();
        d && 0 < d && c > 0.25 * d * e && g < 0.25 * d * e && this.sendTrackingEvent(k, a, b);
      }
    };
    b.prototype.sendThirdPartyEvent = function(a, b, c, g) {
      g = g.replace(/%ZONE%/, this._vastPlacement.getId());
      g = g.replace(/%SDK_VERSION%/, c.toString());
      this._thirdPartyEventManager.sendEvent(a, b, g, this._vastCampaign.getUseWebViewUserAgentForTracking());
    };
    b.prototype.getTrackingEventUrls = function(a) {
      return this._vastCampaign.getVast().getTrackingEventUrls(a);
    };
    b.prototype.isValidURL = function(a) {
      var b = /^(https?):\/\/.+$/;
      return !!a && b.test(a);
    };
    return b;
  }(Yb), Pe = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Qe = function(c) {
    function b(a, b) {
      a = c.call(this, a, b) || this;
      a._operativeEventManager = b.operativeEventManager;
      a._thirdPartyEventManager = b.thirdPartyEventManager;
      a._view = b.view;
      a._campaign = b.campaign;
      a._placement = b.placement;
      a._options = b.options;
      a.setShowing(!1);
      return a;
    }
    Pe(b, c);
    b.prototype.show = function() {
      var a = this;
      this.setShowing(!0);
      this.onStart.trigger();
      this._nativeBridge.Listener.sendStartEvent(this._placement.getId());
      this.sendStartEvents();
      return this._view.render().then(function() {
        document.body.appendChild(a._view.container());
        a._view.show();
        a._onShowObserver = a._container.onShow.subscribe(function() {
          return a.onShow();
        });
        a._onSystemKillObserver = a._container.onSystemKill.subscribe(function() {
          return a.onSystemKill();
        });
        a.setFinishState(u.COMPLETED);
        return a._container.open(a, !1, !1, a._forceOrientation, !0, !1, !0, !1, a._options);
      }).catch(function() {
        a.hide();
      });
    };
    b.prototype.hide = function() {
      if (!this.isShowing()) {
        return Promise.resolve();
      }
      this.setShowing(!1);
      this._container.onShow.unsubscribe(this._onShowObserver);
      this._container.onSystemKill.unsubscribe(this._onSystemKillObserver);
      this._view.hide();
      this.onFinish.trigger();
      this._view.container().parentElement.removeChild(this._view.container());
      this.unsetReferences();
      this._nativeBridge.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
      return this._container.close();
    };
    b.prototype.isCached = function() {
      return !1;
    };
    b.prototype.description = function() {
      return "programmaticImage";
    };
    b.prototype.openLink = function(a) {
      this._operativeEventManager.sendClick(this._campaign.getSession(), this._placement, this._campaign);
      for (var b = 0, c = this._campaign.getTrackingUrlsForEvent("click"); b < c.length; b++) {
        var g = c[b];
        g = g.replace(/%ZONE%/, this._placement.getId());
        g = g.replace(/%SDK_VERSION%/, this._operativeEventManager.getClientInfo().getSdkVersion().toString());
        this._thirdPartyEventManager.sendEvent("display click", this._campaign.getSession().getId(), g, this._campaign.getUseWebViewUserAgentForTracking());
      }
      this.isWhiteListedLinkType(a) && (this._nativeBridge.getPlatform() === h.ANDROID ? this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:a}) : this._nativeBridge.UrlScheme.open(a));
    };
    b.prototype.isWhiteListedLinkType = function(a) {
      for (var b = 0, c = ["http", "market", "itunes"]; b < c.length; b++) {
        if (0 === a.indexOf(c[b])) {
          return !0;
        }
      }
      return !1;
    };
    b.prototype.onShow = function() {
      var a = this;
      I.getAutoClose() && setTimeout(function() {
        a.setFinishState(u.COMPLETED);
        a.hide();
      }, I.getAutoCloseDelay());
    };
    b.prototype.onSystemKill = function() {
      this.isShowing() && this.onClose.trigger();
    };
    b.prototype.unsetReferences = function() {
      delete this._view;
    };
    b.prototype.sendStartEvents = function() {
      for (var a = this, b = 0, c = this._campaign.getTrackingUrlsForEvent("impression"); b < c.length; b++) {
        var g = c[b];
        g = g.replace(/%ZONE%/, this._campaign.getId());
        g = g.replace(/%SDK_VERSION%/, this._operativeEventManager.getClientInfo().getSdkVersion().toString());
        this._thirdPartyEventManager.sendEvent("display impression", this._campaign.getSession().getId(), g);
      }
      this._operativeEventManager.sendStart(this._campaign.getSession(), this._placement, this._campaign).then(function() {
        a.onStartProcessed.trigger();
      });
    };
    return b;
  }(I), Re = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Se = function(c) {
    function b(a, b, f) {
      var d = c.call(this, a, "display-interstitial") || this;
      d._canClose = !1;
      d._canSkip = !1;
      d._didReward = !1;
      d._timers = [];
      d._placement = b;
      d._campaign = f;
      d._template = new S('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><iframe id="display-iframe" scrolling="yes" sandbox="allow-scripts"></iframe>');
      d._messageListener = function(a) {
        return d.onMessage(a);
      };
      d._bindings = [{event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".close-region"}];
      return d;
    }
    Re(b, c);
    b.prototype.render = function() {
      var a = this;
      c.prototype.render.call(this);
      return Promise.resolve().then(function() {
        a._closeElement = a._container.querySelector(".close-region");
        a.enableClickThroughCatcher();
        var b = a._iframe = a._container.querySelector("#display-iframe");
        return a.getIFrameSrcDoc().then(function(a) {
          b.srcdoc = a;
        });
      });
    };
    b.prototype.show = function() {
      var a = this;
      c.prototype.show.call(this);
      window.addEventListener("message", this._messageListener);
      if (this._placement.allowSkip()) {
        var b = this._placement.allowSkipInSeconds(), f = 30, g = b, e = window.setInterval(function() {
          0 < f && f--;
          0 < g && (g--, a.updateProgressCircle(a._closeElement, (b - g) / b));
          0 >= g && (a._canSkip = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
          0 >= f && (a.clearTimer(e), a._canClose = !0);
        }, 1000);
        this._timers.push(e);
      } else {
        var k = 30, m = window.setInterval(function() {
          var b = (30 - k) / 30;
          0.75 <= b && !a._didReward && (a._handlers.forEach(function(a) {
            return a.onDisplayInterstitialReward();
          }), a._didReward = !0);
          0 < k && (k--, a.updateProgressCircle(a._closeElement, b));
          0 >= k && (a.clearTimer(m), a._canClose = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
        }, 1000);
        this._timers.push(m);
      }
    };
    b.prototype.hide = function() {
      window.removeEventListener("message", this._messageListener);
      c.prototype.hide.call(this);
      for (var a = 0, b = this._timers; a < b.length; a++) {
        window.clearInterval(b[a]);
      }
      this._timers = [];
    };
    b.prototype.clearTimer = function(a) {
      var b = this._timers.indexOf(a);
      -1 !== b && this._timers.splice(b, 1);
      window.clearInterval(a);
    };
    b.prototype.onIFrameClicked = function(a) {
      a.preventDefault();
      a.stopPropagation();
      var b = this._campaign.getClickThroughUrl();
      b && this._handlers.forEach(function(a) {
        return a.onDisplayInterstitialClick(b);
      });
    };
    b.prototype.updateProgressCircle = function(a, b) {
      var d = a.querySelector(".progress-wrapper");
      if (this._nativeBridge.getPlatform() === h.ANDROID && 15 > this._nativeBridge.getApiLevel()) {
        d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
      } else {
        var c = a.querySelector(".circle-left");
        a = a.querySelector(".circle-right");
        c.style.webkitTransform = "rotate(" + 360 * b + "deg)";
        0.5 <= b && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
      }
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this._canSkip && !this._canClose ? this._handlers.forEach(function(a) {
        return a.onDisplayInterstitialSkip();
      }) : this._canClose && this._handlers.forEach(function(a) {
        return a.onDisplayInterstitialClose();
      });
    };
    b.prototype.onMessage = function(a) {
      switch(a.data.type) {
        case "redirect":
          this._handlers.forEach(function(b) {
            return b.onDisplayInterstitialClick(a.data.href);
          });
          break;
        default:
          this._nativeBridge.Sdk.logWarning("Unknown message: " + a.data.type);
      }
    };
    b.prototype.requestMarkupFromURL = function(a) {
      var b = this;
      return new Promise(function(d, c) {
        var f = new XMLHttpRequest;
        f.addEventListener("load", function() {
          b._nativeBridge.getPlatform() === h.ANDROID && 0 === f.status || 200 <= f.status && 299 >= f.status ? d(f.responseText) : c(Error("XHR returned with unknown status code " + f.status));
        }, !1);
        f.open("GET", decodeURIComponent(a));
        f.send();
      });
    };
    b.prototype.getClickThroughUrlFromMarkup = function(a) {
      if (a = (new DOMParser).parseFromString(a, "text/html").querySelector("a")) {
        if (a = a.getAttribute("href")) {
          return a;
        }
      }
      throw Error("No clickthrough URL was found");
    };
    b.prototype.fetchMarkupAndParseClickThroughURL = function() {
      var a = this, b = this._campaign;
      return this.requestMarkupFromURL(b.getMarkupUrl()).then(function(d) {
        var c = a.getClickThroughUrlFromMarkup(d);
        b.setClickThroughUrl(c);
        return d;
      });
    };
    b.prototype.enableClickThroughCatcher = function() {
      var a = this, b = document.createElement("div");
      b.classList.add("iframe-click-catcher");
      this._container.appendChild(b);
      b.addEventListener("click", function(b) {
        return a.onIFrameClicked(b);
      });
    };
    b.prototype.getIFrameSrcDoc = function() {
      return this._campaign instanceof Sb && this._campaign.getClickThroughUrl() ? Promise.resolve(this._campaign.getDynamicMarkup()) : this._campaign instanceof Ub ? this.fetchMarkupAndParseClickThroughURL() : Promise.reject("Unknown campaign type");
    };
    return b;
  }(ja), fa;
  (function(c) {
    c.OPEN_URL = "openUrl";
    c.CLOSE = "close";
    c.FORCE_ORIENTATION = "forceOrientation";
    c.CLICK = "click";
    c.REWARDED_VIDEO_START = "rewardedVideoStart";
    c.GRANT_REWARD = "grantReward";
    c.DISABLE_BACK_BUTTON = "disableBackButton";
    c.OPEN_STORE_OVERLAY = "openStoreOverlay";
    c.OPEN_IN_APP_STORE = "openInAppStore";
    c.FETCH_APP_STORE_OVERLAY = "fetchAppStoreOverlay";
  })(fa || (fa = {}));
  var Te = function() {
    function c(b, a) {
      var d = this;
      this._nativeBridge = b;
      this._handler = a;
      this._messageListener = function(a) {
        return d.onMessage(a);
      };
      this._afmaHandlers = {};
      this._afmaHandlers[fa.OPEN_URL] = function(a) {
        return d._handler.onAFMAOpenURL(a.data.url);
      };
      this._afmaHandlers[fa.CLOSE] = function() {
        return d._handler.onAFMAClose();
      };
      this._afmaHandlers[fa.FORCE_ORIENTATION] = function(a) {
        return d._handler.onAFMAForceOrientation("portrait" === a.data.orientation ? q.PORTRAIT : q.LANDSCAPE);
      };
      this._afmaHandlers[fa.CLICK] = function(a) {
        return d._handler.onAFMAClick(a.data.url, a.data.touch);
      };
      this._afmaHandlers[fa.REWARDED_VIDEO_START] = function() {
        return d._handler.onAFMARewardedVideoStart();
      };
      this._afmaHandlers[fa.GRANT_REWARD] = function() {
        return d._handler.onAFMAGrantReward();
      };
      this._afmaHandlers[fa.DISABLE_BACK_BUTTON] = function(a) {
        return d._handler.onAFMADisableBackButton(a.data.disabled);
      };
      this._afmaHandlers[fa.OPEN_STORE_OVERLAY] = function(a) {
        return d._handler.onAFMAOpenStoreOverlay(a.data.url);
      };
      this._afmaHandlers[fa.OPEN_IN_APP_STORE] = function(a) {
        return d._handler.onAFMAOpenInAppStore(a.data.productId, a.data.url);
      };
      this._afmaHandlers[fa.FETCH_APP_STORE_OVERLAY] = function(a) {
        return d._handler.onAFMAFetchAppStoreOverlay(a.data.productId);
      };
    }
    c.prototype.connect = function(b) {
      this._iframe = b;
      window.addEventListener("message", this._messageListener);
    };
    c.prototype.disconnect = function() {
      window.removeEventListener("message", this._messageListener);
    };
    c.prototype.onBackPressed = function() {
      this.postMessage("back");
    };
    c.prototype.onMessage = function(b) {
      b = b.data;
      if ("afma" === b.type && (this._nativeBridge.Sdk.logInfo("afma: event=" + b.event + ", data=" + b.data), b.event in this._afmaHandlers)) {
        (0,this._afmaHandlers[b.event])(b);
      }
    };
    c.prototype.postMessage = function(b) {
      this._iframe.contentWindow.postMessage({type:"afma", event:b}, "*");
    };
    return c;
  }(), ub;
  (ub || (ub = {})).ORIENTATION = "orientation";
  var Ue = function() {
    function c(b, a) {
      var d = this;
      this._nativeBridge = b;
      this._handler = a;
      this._messageListener = function(a) {
        return d.onMessage(a);
      };
      this._mraidHandlers = {};
      this._mraidHandlers[ub.ORIENTATION] = function(a) {
        return d.handleSetOrientationProperties(a.data);
      };
    }
    c.prototype.connect = function() {
      window.addEventListener("message", this._messageListener, !1);
    };
    c.prototype.disconnect = function() {
      window.removeEventListener("message", this._messageListener);
    };
    c.prototype.onMessage = function(b) {
      b = b.data;
      if ("mraid" === b.type && (this._nativeBridge.Sdk.logInfo("mraid: event=" + b.event + ", data=" + b.data), b.event in this._mraidHandlers)) {
        (0,this._mraidHandlers[b.event])(b);
      }
    };
    c.prototype.handleSetOrientationProperties = function(b) {
      var a = q.NONE;
      if (b.forceOrientation) {
        switch(b.forceOrientation) {
          case "landscape":
            a = q.LANDSCAPE;
            break;
          case "portrait":
            a = q.PORTRAIT;
            break;
          case "none":
            a = q.NONE;
        }
      }
      this._handler.onSetOrientationProperties(b.allowOrientation, a);
    };
    return c;
  }(), Ve = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), We = function(c) {
    function b(a, b, f, g, e) {
      var d = c.call(this, a, "admob") || this;
      d._placement = g;
      d._campaign = e;
      d._template = new S('<iframe id="admob-iframe" sandbox="allow-scripts"></iframe>');
      d._adMobSignalFactory = b;
      d._afmaBridge = new Te(a, {onAFMAClose:function() {
        return d.onClose();
      }, onAFMAOpenURL:function(a) {
        return d.onOpenURL(a);
      }, onAFMADisableBackButton:function() {
      }, onAFMAClick:function(a, b) {
        return d.onAttribution(a, b);
      }, onAFMAFetchAppStoreOverlay:function() {
      }, onAFMAForceOrientation:function() {
      }, onAFMAGrantReward:function() {
        return d.onGrantReward();
      }, onAFMAOpenInAppStore:function() {
      }, onAFMAOpenStoreOverlay:function() {
      }, onAFMARewardedVideoStart:function() {
        return d.onVideoStart();
      }});
      d._mraidBridge = new Ue(a, {onSetOrientationProperties:function(a, b) {
        return d.onSetOrientationProperties(a, b);
      }});
      d._bindings = [];
      return d;
    }
    Ve(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      this.setupIFrame();
    };
    b.prototype.show = function() {
      c.prototype.show.call(this);
      this._afmaBridge.connect(this._iframe);
      this._mraidBridge.connect(this._iframe);
      this._handlers.forEach(function(a) {
        return a.onShow();
      });
    };
    b.prototype.hide = function() {
      this._mraidBridge.disconnect();
      this._afmaBridge.disconnect();
      c.prototype.hide.call(this);
    };
    b.prototype.onBackPressed = function() {
      this._afmaBridge.onBackPressed();
    };
    b.prototype.setupIFrame = function() {
      var a = this._iframe = this._container.querySelector("#admob-iframe");
      this._iframe = a;
      this.getIFrameSrcDoc().then(function(b) {
        a.srcdoc = b;
      });
    };
    b.prototype.getIFrameSrcDoc = function() {
      var a = this._campaign.getDynamicMarkup(), b = (new DOMParser).parseFromString(a, "text/html");
      if (!b) {
        return Promise.reject(Error("Not a valid HTML document => " + a));
      }
      this.removeScriptTags(b);
      return this.injectScripts(b).then(function() {
        return b.documentElement.outerHTML;
      });
    };
    b.prototype.removeScriptTags = function(a) {
      this.removeScriptTag(a, "mraid.js");
      this.removeScriptTag(a, "afma_unity_stub.js");
      return a.documentElement.outerHTML;
    };
    b.prototype.removeScriptTag = function(a, b) {
      (a = a.querySelector('script[src^="' + b + '"]')) && a.parentNode && a.parentNode.removeChild(a);
    };
    b.prototype.injectScripts = function(a) {
      a = a.head || document.body;
      this.injectScript(a, "<script>(function() {\n        var MRAID = function() {\n            var state = 'loading';\n\n            var listeners = {\n                ready: [],\n                error: [],\n                stateChange: [],\n                viewableChange: [],\n                sizeChange: []\n            };\n\n            var viewable = false;\n\n            var orientationProperties = {\n                allowOrientationChange: true,\n                forceOrientation: 'none'\n            };\n\n            var trigger = function(event, parameters) {\n                if(!parameters) {\n                    parameters = [];\n                }\n                if(event in listeners) {\n                    listeners[event].forEach(function(listener) {\n                        listener.apply(window, parameters);\n                    });\n                }\n            };\n\n            var width = window.innerWidth;\n            var height = window.innerHeight;\n\n            var setState = function(newState) {\n                state = newState;\n                trigger('stateChange', [newState]);\n            };\n\n            window.addEventListener('message', function(event) {\n                if (event.data.type && event.data.type === 'mraid') {\n                    switch(event.data.event) {\n                    case 'viewable':\n                        viewable = event.data.value;\n                        trigger('viewableChange', [viewable]);\n                        break;\n\n                    case 'resize':\n                        window.innerWidth = width = event.data.width;\n                        window.innerHeight = height = event.data.height;\n                        trigger('sizeChange', [width, height]);\n                        break;\n\n                    default:\n                        break;\n                    }\n                }\n            }, false);\n\n            window.addEventListener('resize', function(e) {\n                width = window.innerWidth;\n                height = window.innerHeight;\n                trigger('sizeChange', [width, height]);\n            });\n\n            window.addEventListener('DOMContentLoaded', function() {\n                window.mraid.postMessage('loaded');\n                setState('default');\n                trigger('ready');\n            }, false);\n\n            this.postMessage = function(event, data) {\n                window.parent.postMessage({\n                    type: 'mraid',\n                    event: event,\n                    data: data\n                }, '*');\n            };\n\n            this.addEventListener = function(event, listener) {\n                if(event in listeners) {\n                    listeners[event].push(listener);\n                }\n            };\n\n            this.createCalendarEvent = function() {\n                trigger('error', ['not implemented', 'createCalendarEvent']);\n            };\n\n            this.close = function() {\n                setState('hidden');\n                this.postMessage('close');\n            };\n\n            this.expand = function() {\n                trigger('error', ['not implemented', 'expand']);\n            };\n\n            this.getCurrentPosition = this.getDefaultPosition = function() {\n                return {\n                    x: 0,\n                    y: 0,\n                    width: width,\n                    height: height\n                };\n            };\n\n            this.getExpandProperties = function() {\n                trigger('error', ['not implemented', 'getExpandProperties']);\n            };\n\n            this.getMaxSize = this.getScreenSize = function() {\n                return {\n                    width: width,\n                    height: height\n                };\n            };\n\n            this.getOrientationProperties = function() {\n                return orientationProperties;\n            };\n\n            this.getPlacementType = function() {\n                return 'interstitial';\n            };\n\n            this.getResizeProperties = function() {\n                trigger('error', ['not implemented', 'getResizeProperties']);\n            };\n\n            this.getState = function() {\n                return state;\n            };\n\n            this.getVersion = function() {\n                return '2.0';\n            };\n\n            this.isViewable = function() {\n                return viewable;\n            };\n\n            this.open = function(url) {\n                this.postMessage('open', {\n                    url: url,\n                });\n            };\n\n            this.playVideo = function() {\n                trigger('error', ['not implemented', 'playVideo']);\n            };\n\n            this.removeEventListener = function(event, listener) {\n                if(event in listeners) {\n                    var index = listeners[event].indexOf(listener);\n                    if(index !== -1) {\n                        listeners[event].splice(index, 1);\n                    }\n                }\n            };\n\n            this.resize = function() {\n                trigger('error', ['not implemented', 'resize']);\n            };\n\n            this.setExpandProperties = function() {\n                trigger('error', ['not implemented', 'setExpandProperties']);\n            };\n\n            this.setOrientationProperties = function(properties) {\n                orientationProperties = properties;\n                this.postMessage('orientation', {\n                    properties: properties,\n                });\n            };\n\n            this.setResizeProperties = function() {\n                trigger('error', ['not implemented', 'setResizeProperties']);\n            };\n\n            this.storePicture = function() {\n                trigger('error', ['not implemented', 'storePicture']);\n            };\n\n            this.useCustomClose = function() {\n                trigger('error', ['not implemented', 'useCustomClose']);\n            };\n\n            this.sendAnalyticsEvent = function(event, eventData) {\n                this.postMessage('analyticsEvent', {\n                    event: event,\n                    eventData: eventData,\n                });\n            };\n\n            this.setCustomMraidState = function(state) {\n                this.postMessage('customMraidState', {\n                    state: state,\n                });\n            };\n        };\n        window.mraid = new MRAID();\n    })();\x3c/script>");
      this.injectScript(a, "<script>(function() {\n        var touches = [];\n\n        window.addEventListener('pageshow', function() {\n            AFMA_ReceiveMessage('onshow');\n        });\n\n        var startTouch;\n        var endTouch;\n        var touchStartTime;\n        var upCounts = 0;\n        var downCounts = 0;\n        var moveCounts = 0;\n        var cancelCounts = 0;\n\n        document.addEventListener('touchstart', function(e) {\n            touchStartTime = Date.now();\n            startTouch = e.touches[0];\n            downCounts++;\n        });\n        document.addEventListener('touchend', function(e) {\n            var duration = Date.now() - touchStartTime;\n            endTouch = e.changedTouches[0];\n            upCounts++;\n        });\n        document.addEventListener('touchmove', function(e) {\n            moveCounts++;\n        });\n        document.addEventListener('touchcancel', function(e) {\n            cancelCounts++;\n        });\n\n        window.addEventListener('message', function(e) {\n            if (e.data.type === 'afma') {\n                if (e.data.event === 'back') {\n                    console.log('calling AFMA back function', e);\n                    AFMA_ReceiveMessage('onbackblocked');\n                }\n            }\n        });\n\n        var AFMA = function() {\n            this.forceOrientation = function(orientation, override, animationDuration) {\n                this.postMessage('forceOrientation', {\n                    orientation: orientation,\n                    override: override,\n                    animationDuration: animationDuration\n                });\n            };\n\n            this.click = function(url) {\n                this.postMessage('click', {\n                    url: url,\n                    touch: {\n                        start: {\n                            x: startTouch ? startTouch.clientX : 0,\n                            y: startTouch ? startTouch.clientY : 0\n                        },\n                        end: {\n                            x: endTouch ? endTouch.clientX : 0,\n                            y: endTouch ? endTouch.clientY : 0,\n                        },\n                        diameter: endTouch ? endTouch.radiusX * 2 : 0.0,\n                        pressure: endTouch ? endTouch.force || 0.0 : 0.0,\n                        counts: {\n                            up: upCounts,\n                            down: downCounts,\n                            move: moveCounts,\n                            cancel: cancelCounts\n                        }\n                    }\n                });\n            };\n\n            this.getClickSignals = function(clickString) {\n                return null;\n            };\n\n            this.appendClickSignals = function(url, spamSignals) {\n                return url;\n            };\n\n            this.notifyRewardedVideoStart = function() {\n                this.postMessage('rewardedVideoStart');\n            };\n\n            this.grantReward = function() {\n                this.postMessage('grantReward');\n            };\n\n            this.close = function(notifyParent) {\n                this.postMessage('close');\n            };\n\n            this.disableBackButton = function(disabled) {\n                this.postMessage('disableBackButton', {\n                    disabled: disabled\n                });\n            };\n\n            this.openIntent = function(url, action, mimeType) {\n                this.postMessage('openIntent', {\n                    url: url,\n                    action: action,\n                    mimeType: mimeType\n                });\n                return false;\n            };\n\n            this.openIntentExtended = function(params) {\n                return this.openIntent(params.url, params.action, params.mimeType);\n            };\n\n            this.openUrl = function(url) {\n                this.postMessage('openUrl', {\n                    url: url\n                });\n            };\n\n            this.openDeepLinkUrl = function(url, callback, failIfUnsure, packageName) {\n                this.postMessage('openUrl', {\n                    url: url\n                });\n                callback();\n            };\n\n            this.openBrowser = function(url) {\n                this.postMessage('openUrl', {\n                    url: url\n                });\n            };\n\n            this.openNativeApp = function(url) {\n                this.postMessage('openUrl', {\n                    url: url\n                });\n            };\n\n            this.openSystemBrowser = function(url, options) {\n                this.postMessage('openUrl', {\n                    url: url\n                });\n            };\n\n            this.openStoreOverlay = function(url) {\n                this.postMessage('openStoreOverlay', {\n                    url: url\n                });\n            };\n\n            this.openInAppStore = function(productId, url, waitForFetch) {\n                this.postMessage('openInAppStore', {\n                    productId: productId,\n                    url: url\n                });\n            };\n\n            this.fetchAppStoreOverlay = function(productId) {\n                this.postMessage('fetchAppStoreOverlay', {\n                    productId: productId\n                });\n            };\n\n            this.canOpenUrls = function(urls, callback, timeoutCallback, timeoutMillis) {\n                var canDo = {};\n                if (urls.length) {\n                    for (var i = 0; i < urls.length; i++) {\n                        canDo[urls[i]] = true;\n                    }\n                } else {\n                    canDo[urls] = true;\n                }\n                callback('openableURLs', canDo);\n            };\n\n            this.canOpenIntents = function(intents, callback, timeoutCallback, timeoutMillis) {\n                var canDo = {};\n                for (var i = 0; i < intents.length; i++) {\n                    canDo[intents[i].id] = true;\n                }\n                callback('openableIntents', canDo);\n            };\n\n            this.postMessage = function(event, data) {\n                window.parent.postMessage({\n                    type: 'afma',\n                    event: event,\n                    data: data\n                }, '*');\n            };\n\n            // MRAID proxy functions\n            this.setOrienationProperties = function(properties) {\n                window.mraid.setOrienationProperties(properties);\n            };\n\n            this.useCustomClose = function(uses) {\n            };\n        };\n\n        window.unity = window.unity || {};\n        window.unity.afma = new AFMA();\n    })();\x3c/script>");
      return Promise.resolve();
    };
    b.prototype.injectScript = function(a, b) {
      a.innerHTML = b + a.innerHTML;
    };
    b.prototype.onClose = function() {
      this._handlers.forEach(function(a) {
        return a.onClose();
      });
    };
    b.prototype.onAttribution = function(a, b) {
      this._handlers.forEach(function(d) {
        return d.onAttribution(a, b);
      });
    };
    b.prototype.onOpenURL = function(a) {
      this._handlers.forEach(function(b) {
        return b.onOpenURL(a);
      });
    };
    b.prototype.onGrantReward = function() {
      this._handlers.forEach(function(a) {
        return a.onGrantReward();
      });
    };
    b.prototype.onVideoStart = function() {
      this._handlers.forEach(function(a) {
        return a.onVideoStart();
      });
    };
    b.prototype.onSetOrientationProperties = function(a, b) {
      this._handlers.forEach(function(d) {
        return d.onSetOrientationProperties(a, b);
      });
    };
    return b;
  }(ja), Xe = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Ye = function(c) {
    function b(a, b) {
      var d = c.call(this, a, b) || this;
      d._timeOnScreen = 0;
      d._foregroundTime = 0;
      d._startTime = 0;
      d._operativeEventManager = b.operativeEventManager;
      d._view = b.view;
      d._options = b.options;
      d._thirdPartyEventManager = b.thirdPartyEventManager;
      d._operativeEventManager = b.operativeEventManager;
      d._focusManager = b.focusManager;
      d._keyDownListener = function(a) {
        return d.onKeyDown(a);
      };
      d._campaign = b.campaign;
      d._placement = b.placement;
      d.setFinishState(d._placement.allowSkip() ? u.COMPLETED : u.SKIPPED);
      return d;
    }
    Xe(b, c);
    b.prototype.show = function() {
      var a = this;
      this.setShowing(!0);
      this.onStart.trigger();
      t.trigger("admob_ad_show", {placement:this._placement.getId()}, this._campaign.getSession());
      this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.AndroidAdUnit.onKeyDown.subscribe(this._keyDownListener);
      this.subscribeToLifecycle();
      return this._container.open(this, !1, !0, this._forceOrientation, !0, !1, !0, !1, this._options).then(function() {
        0 === a._startTime && (a._startTime = Date.now());
        a._foregroundTime = Date.now();
        a.showView();
      });
    };
    b.prototype.hide = function() {
      this.onHide();
      this.hideView();
      this.unsubscribeFromLifecycle();
      return this._container.close();
    };
    b.prototype.isCached = function() {
      return !1;
    };
    b.prototype.description = function() {
      return "AdMob";
    };
    b.prototype.sendImpressionEvent = function() {
      this.sendTrackingEvent("impression");
      t.trigger("admob_ad_impression", {placement:this._placement.getId()}, this._campaign.getSession());
    };
    b.prototype.sendClickEvent = function() {
      this.sendTrackingEvent("click");
      this._operativeEventManager.sendClick(this._campaign.getSession(), this._placement, this._campaign);
    };
    b.prototype.sendStartEvent = function() {
      this.sendTrackingEvent("start");
      this._operativeEventManager.sendStart(this._campaign.getSession(), this._placement, this._campaign);
    };
    b.prototype.sendSkipEvent = function() {
      this.sendTrackingEvent("skip");
      this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign);
    };
    b.prototype.sendCompleteEvent = function() {
      this.sendTrackingEvent("complete");
    };
    b.prototype.sendRewardEvent = function() {
      this._operativeEventManager.sendThirdQuartile(this._campaign.getSession(), this._placement, this._campaign);
      this._operativeEventManager.sendView(this._campaign.getSession(), this._placement, this._campaign);
    };
    b.prototype.getTimeOnScreen = function() {
      return Date.now() - this._foregroundTime + this._timeOnScreen;
    };
    b.prototype.getStartTime = function() {
      return this._startTime;
    };
    b.prototype.showView = function() {
      this._view.show();
      document.body.appendChild(this._view.container());
    };
    b.prototype.sendTrackingEvent = function(a) {
      for (var b = 0, c = this._campaign.getTrackingUrlsForEvent(a); b < c.length; b++) {
        this.sendThirdPartyEvent("admob " + a, c[b]);
      }
    };
    b.prototype.sendThirdPartyEvent = function(a, b) {
      var d = this._campaign.getSession().getId(), c = this._operativeEventManager.getClientInfo().getSdkVersion();
      b = b.replace(/%ZONE%/, this._placement.getId());
      b = b.replace(/%SDK_VERSION%/, c.toString());
      this._thirdPartyEventManager.sendEvent(a, d, b);
    };
    b.prototype.onHide = function() {
      this.setShowing(!1);
      this._nativeBridge.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
      this.onClose.trigger();
      this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.AndroidAdUnit.onKeyDown.unsubscribe(this._keyDownListener);
      t.trigger("admob_ad_close", {placement:this._placement.getId(), finishState:this.getFinishState()}, this._campaign.getSession());
      this.getFinishState() === u.SKIPPED ? this.sendSkipEvent() : this.getFinishState() === u.COMPLETED && this.sendCompleteEvent();
    };
    b.prototype.hideView = function() {
      this._view.hide();
      document.body.removeChild(this._view.container());
    };
    b.prototype.onSystemKill = function() {
      this.isShowing() && (this.setFinishState(u.SKIPPED), this.hide());
    };
    b.prototype.onKeyDown = function(a) {
      if (4 === a) {
        this._view.onBackPressed();
      }
    };
    b.prototype.subscribeToLifecycle = function() {
      var a = this;
      this._onSystemKillObserver = this._container.onSystemKill.subscribe(function() {
        return a.onSystemKill();
      });
      this._nativeBridge.getPlatform() === h.IOS ? (this._onPauseObserver = this._focusManager.onAppBackground.subscribe(function() {
        return a.onAppBackground();
      }), this._onResumeObserver = this._focusManager.onAppForeground.subscribe(function() {
        return a.onAppForeground();
      })) : (this._onResumeObserver = this._container.onShow.subscribe(function() {
        return a.onAppForeground();
      }), this._onPauseObserver = this._container.onAndroidPause.subscribe(function() {
        return a.onAppBackground();
      }));
    };
    b.prototype.unsubscribeFromLifecycle = function() {
      this._container.onSystemKill.unsubscribe(this._onSystemKillObserver);
      this._nativeBridge.getPlatform() === h.ANDROID ? (this._focusManager.onAppBackground.unsubscribe(this._onPauseObserver), this._focusManager.onAppForeground.unsubscribe(this._onResumeObserver)) : (this._container.onShow.unsubscribe(this._onResumeObserver), this._container.onAndroidPause.unsubscribe(this._onPauseObserver));
    };
    b.prototype.onAppForeground = function() {
      this._foregroundTime = Date.now();
    };
    b.prototype.onAppBackground = function() {
      this._timeOnScreen = Date.now() - this._foregroundTime + this._timeOnScreen;
    };
    return b;
  }(I), y = function() {
    function c() {
    }
    c.setup = function(b) {
      var a = this, d = b.get("test.clearTestMetaData", !1), c = b.getKeys("test");
      return Promise.all([d, c]).then(function(d) {
        var c = d[0], f = c[1];
        d = d[1];
        var g = !1;
        c[0] && "boolean" === typeof f && (g = f);
        var e = [];
        d.forEach(function(d) {
          e.push(b.get("test." + d, g).then(function(b) {
            var c = b[1];
            b[0] && (a._testEnvironment[d] = c);
          }));
        });
        return Promise.all(e);
      });
    };
    c.get = function(b) {
      return c._testEnvironment[b];
    };
    c._testEnvironment = {};
    return c;
  }(), Ze = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), gb = function(c) {
    function b(a, b) {
      a = c.call(this, a, b) || this;
      var d = b.campaign, g = d.getVideo();
      g = g && g.isCached();
      d = (d = d.getPortraitVideo()) && d.isCached();
      b.overlay.setSpinnerEnabled(!g && !d);
      a._endScreen = b.endScreen;
      a._endScreen.render();
      a._endScreen.hide();
      document.body.appendChild(a._endScreen.container());
      return a;
    }
    Ze(b, c);
    b.prototype.hide = function() {
      var a = this.getEndScreen();
      a && (a.hide(), a.container().parentElement.removeChild(a.container()));
      return c.prototype.hide.call(this);
    };
    b.prototype.description = function() {
      return "performance";
    };
    b.prototype.getEndScreen = function() {
      return this._endScreen;
    };
    b.prototype.unsetReferences = function() {
      c.prototype.unsetReferences.call(this);
      delete this._endScreen;
    };
    return b;
  }(Yb), V = function() {
    function c() {
    }
    c.onVideoPrepared = function(b, a, d, c) {
      if (!a.getVideo().getErrorStatus() && a.isPrepareCalled()) {
        a.getContainer().addDiagnosticsEvent({type:"onVideoPrepared"});
        a.setPrepareCalled(!1);
        a.setVideoReady(!0);
        if (40000 < d) {
          var f = a.getVideo().getUrl(), e = a.getVideo().getOriginalUrl();
          f = new H(Error("Too long video"), {duration:d, campaignId:c.getId(), url:f, originalUrl:e});
          t.trigger("video_too_long", f, c.getSession());
          this.handleVideoError(b, a, c);
        }
        c = a.getOverlay();
        a.getVideo().setDuration(d);
        c && (c.setVideoDuration(d), 0 < a.getVideo().getPosition() && c.setVideoProgress(a.getVideo().getPosition()), c.setMuteEnabled(!0), c.setVideoDurationEnabled(!0), a instanceof fb && a.getVideoClickThroughURL() && (c.setCallButtonVisible(!0), c.setFadeEnabled(!1)));
        y.get("debugOverlayEnabled") && c && (c.setDebugMessageVisible(!0), d = "", d = a instanceof fb ? "Programmatic Ad" : "Performance Ad", c.setDebugMessage(d));
        b.VideoPlayer.setVolume(new ea(c && c.isMuted() ? 0.0 : 1.0)).then(function() {
          0 < a.getVideo().getPosition() ? b.VideoPlayer.seekTo(a.getVideo().getPosition()).then(function() {
            a.getContainer().isPaused() || b.VideoPlayer.play();
          }) : a.getContainer().isPaused() || b.VideoPlayer.play();
        });
      }
    };
    c.onVideoProgress = function(b, a, d, c, g, e, k, m, h) {
      var f = this;
      g.getContainer().addDiagnosticsEvent({type:"onVideoProgress", position:e});
      d = g.getOverlay();
      if (0 < e && !g.getVideo().hasStarted()) {
        g.getContainer().addDiagnosticsEvent({type:"videoStarted"});
        g.getVideo().setStarted(!0);
        a.sendStart(m.getSession(), h, m, this.getVideoOrientation(g)).then(function() {
          g.onStartProcessed.trigger();
        });
        var l = g.getVideo().getDuration().toString(10), w = m.getSession().getId(), n = m.getCreativeId(), p = m.getCategory(), u = m.getSubCategory();
        c.sendEvent("play", w, l, e, n, p, u);
        d && d.setSpinnerEnabled(!1);
        b.Listener.sendStartEvent(h.getId());
      }
      m.getSession() && g instanceof fb && g.sendProgressEvents(m.getSession().getId(), a.getClientInfo().getSdkVersion(), e, g.getVideo().getPosition());
      if (0 <= e) {
        c = g.getVideo().getPosition();
        if (e > c + 1000000) {
          b.Sdk.logError("Unity Ads video player ignoring too large progress from " + c + " to " + e);
          a = new H(Error("Too large progress in video player"), {position:e, lastPosition:c, duration:g.getVideo().getDuration()});
          t.trigger("video_player_too_large_progress", a, m.getSession());
          return;
        }
        if (e === c) {
          l = g.getVideo().getPositionRepeats();
          w = 5000 / g.getProgressInterval();
          if (l > w) {
            g.getContainer().addDiagnosticsEvent({type:"videoStuck"});
            b.Sdk.logError("Unity Ads video player stuck to " + e + "ms position");
            var r = {repeats:l, position:e, duration:g.getVideo().getDuration(), url:g.getVideo().getUrl(), originalUrl:g.getVideo().getOriginalUrl(), cached:g.getVideo().isCached(), cacheMode:k.getCacheMode(), lowMemory:g.isLowMemory()};
            a = g.getContainer();
            r.events = a.getDiagnosticsEvents();
            var q = g.getVideo().getFileId();
            q ? b.Cache.getFileInfo(q).then(function(a) {
              r.fileInfo = a;
              return a.found ? Ob.getVideoInfo(b, q).then(function(a) {
                r.videoInfo = {width:a[0], height:a[1], duration:a[2]};
                return r;
              }) : r;
            }).then(function(a) {
              f.handleVideoError(b, g, m, "video_player_stuck", a);
            }).catch(function() {
              f.handleVideoError(b, g, m, "video_player_stuck", r);
            }) : this.handleVideoError(b, g, m, "video_player_stuck", r);
            return;
          }
          g.getVideo().setPositionRepeats(l + 1);
        } else {
          g.getVideo().setPositionRepeats(0);
        }
        d && (0 < c && 100 > e - c ? d.setSpinnerEnabled(!0) : d.setSpinnerEnabled(!1));
        k = g.getVideo().getQuartile();
        g.getVideo().setPosition(e);
        0 === k && 1 === g.getVideo().getQuartile() ? a.sendFirstQuartile(m.getSession(), h, m, this.getVideoOrientation(g)) : 1 === k && 2 === g.getVideo().getQuartile() ? a.sendMidpoint(m.getSession(), h, m, this.getVideoOrientation(g)) : 2 === k && 3 === g.getVideo().getQuartile() && a.sendThirdQuartile(m.getSession(), h, m, this.getVideoOrientation(g));
      }
      d && d.setVideoProgress(e);
    };
    c.onVideoPlay = function(b, a) {
      a.getContainer().addDiagnosticsEvent({type:"onVideoPlay"});
      b.VideoPlayer.setProgressEventInterval(a.getProgressInterval());
    };
    c.onVideoCompleted = function(b, a, d, c, g) {
      d.getContainer().addDiagnosticsEvent({type:"onVideoCompleted"});
      d.setActive(!1);
      d.setFinishState(u.COMPLETED);
      b.sendView(c.getSession(), g, c, this.getVideoOrientation(d));
      b = d.getVideo().getPosition();
      g = d.getVideo().getDuration().toString(10);
      var f = c.getSession().getId(), e = c.getCreativeId(), m = c.getCategory();
      c = c.getSubCategory();
      a.sendEvent("end", f, g, b, e, m, c);
      this.afterVideoCompleted(d);
    };
    c.onAndroidGenericVideoError = function(b, a, d, c, g, e) {
      a.getContainer().addDiagnosticsEvent({type:"onAndroidGenericVideoError", what:c, extra:g});
      b.Sdk.logError("Unity Ads video player error  " + c + " " + g + " " + e);
      this.handleVideoError(b, a, d, "video_player_generic_error", {url:e, position:a.getVideo().getPosition(), what:c, extra:g});
    };
    c.onIosGenericVideoError = function(b, a, d, c, g) {
      a.getContainer().addDiagnosticsEvent({type:"onIosGenericVideoError", description:g});
      b.Sdk.logError("Unity Ads video player generic error " + c + " " + g);
      this.handleVideoError(b, a, d, "video_player_generic_error", {url:c, position:a.getVideo().getPosition(), description:g});
    };
    c.onVideoPrepareTimeout = function(b, a, d, c) {
      a.getContainer().addDiagnosticsEvent({type:"onVideoPrepareTimeout"});
      b.Sdk.logError("Unity Ads video player prepare timeout " + c);
      this.handleVideoError(b, a, d, "video_player_prepare_timeout", {url:c, position:a.getVideo().getPosition()});
    };
    c.onPrepareError = function(b, a, d, c) {
      a.getContainer().addDiagnosticsEvent({type:"onPrepareError"});
      b.Sdk.logError("Unity Ads video player prepare error " + c);
      this.handleVideoError(b, a, d, "video_player_prepare_error", {url:c, position:a.getVideo().getPosition()});
    };
    c.onSeekToError = function(b, a, d, c) {
      a.getContainer().addDiagnosticsEvent({type:"onSeekToError"});
      b.Sdk.logError("Unity Ads video player seek to error " + c);
      this.handleVideoError(b, a, d, "video_player_seek_to_error", {url:c, position:a.getVideo().getPosition()});
    };
    c.onPauseError = function(b, a, d, c) {
      a.getContainer().addDiagnosticsEvent({type:"onPauseError"});
      b.Sdk.logError("Unity Ads video player pause error " + c);
      this.handleVideoError(b, a, d, "video_player_pause_error", {url:c, position:a.getVideo().getPosition()});
    };
    c.onIllegalStateError = function(b, a, d) {
      a.getContainer().addDiagnosticsEvent({type:"onIllegalStateError"});
      b.Sdk.logError("Unity Ads video player illegal state error");
      this.handleVideoError(b, a, d, "video_player_illegal_state_error", {position:a.getVideo().getPosition()});
    };
    c.onIosVideoLikelyToKeepUp = function(b, a, d, c) {
      a.getContainer().addDiagnosticsEvent({type:"onIosVideoLikelyToKeepUp", likelyToKeepUp:c, hasStarted:a.getVideo().hasStarted()});
      !d.isPaused() && a.getVideo().hasStarted() && c && b.VideoPlayer.play();
    };
    c.afterVideoCompleted = function(b) {
      b.getContainer().addDiagnosticsEvent({type:"afterVideoCompleted"});
      b.getContainer().reconfigure(0);
      var a = b.getOverlay();
      a && a.hide();
      b.onFinish.trigger();
    };
    c.updateViewsOnVideoError = function(b) {
      b.getContainer().addDiagnosticsEvent({type:"updateViewsOnVideoError"});
      b.getContainer().reconfigure(0);
    };
    c.handleVideoError = function(b, a, d, c, g) {
      a.getVideo().getErrorStatus() || (a.getVideo().setErrorStatus(!0), c && g && t.trigger(c, g, d.getSession()), a.setActive(!1), a.setFinishState(u.ERROR), this.updateViewsOnVideoError(a), (d = a.getOverlay()) && d.hide(), a.onError.trigger(), a.onFinish.trigger(), a.getVideo().hasStarted() ? b.Listener.sendErrorEvent(N[N.VIDEO_PLAYER_ERROR], "Video player error") : (a.hide(), b.Listener.sendErrorEvent(N[N.VIDEO_PLAYER_ERROR], "Video player prepare error")));
    };
    c.getVideoOrientation = function(b) {
      if (b instanceof gb) {
        return b.getVideoOrientation();
      }
    };
    return c;
  }(), oa = function() {
    function c() {
    }
    c.onVideoPrepared = function(b, a, d, c, g) {
      var f = b.getMoat();
      f && f.init(g, d / 1000, a, c, b.getVolume());
    };
    c.onVideoStart = function(b, a, d, c) {
      if (c) {
        if (c.getEventSent(F.IMPRESSION)) {
          return;
        }
        c.setEventSent(F.IMPRESSION);
      }
      a.sendImpressionEvent(c.getId(), d.getSdkVersion());
      a.sendTrackingEvent("creativeView", c.getId(), d.getSdkVersion());
      a.sendTrackingEvent("start", c.getId(), d.getSdkVersion());
      if (b = a.getMoat()) {
        b.triggerViewabilityEvent("exposure", !0), b.triggerVideoEvent("AdPlaying", a.getVolume());
      }
    };
    c.onVideoProgress = function(b, a, d) {
      var c = b.getMoat();
      if (c) {
        var g = b.getEvents(), e = g.shift();
        e && (d / a.getVideo().getDuration() >= e[0] ? c.triggerVideoEvent(e[1], b.getVolume()) : g.unshift(e), b.setEvents(g));
      }
    };
    c.onVideoCompleted = function(b, a, d, c) {
      if (c) {
        if (c.getEventSent(F.VAST_COMPLETE)) {
          return;
        }
        c.setEventSent(F.VAST_COMPLETE);
      }
      a.sendTrackingEvent("complete", c.getId(), d.getSdkVersion());
      (b = a.getMoat()) && b.triggerVideoEvent("AdVideoComplete", a.getVolume());
      (b = a.getEndScreen()) ? b.show() : a.hide();
    };
    c.onVideoStopped = function(b) {
      var a = b.getMoat();
      a && a.triggerVideoEvent("AdStopped", b.getVolume());
    };
    c.onVideoPaused = function(b) {
      var a = b.getMoat();
      a && (a.triggerVideoEvent("AdPaused", b.getVolume()), a.triggerViewabilityEvent("exposure", !1));
    };
    c.onVolumeChange = function(b, a, d) {
      var c = b.getMoat();
      c && (b.setVolume(a / d), c.triggerVideoEvent("AdVolumeChange", b.getVolume()), c.triggerViewabilityEvent("volume", 100 * b.getVolume()));
    };
    c.onVideoError = function(b) {
      var a = b.getEndScreen();
      a ? a.show() : b.hide();
    };
    return c;
  }(), $e = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), hb = function(c) {
    function b(a, d) {
      var f = c.call(this, a, "privacy") || this;
      f._template = new S('<div class="pop-up"> <% if(!data.isCoppaCompliant) { %> <div class="privacy-text">This advertisement has been served by Unity Ads. Unity Ads collects and uses information gathered through your use of your apps in order to create an individualized and more relevant user experience, to predict your preferences, and to show you ads that are more likely to interest you (\u201cpersonalized ads\u201d). Please read our <a href="https://unity3d.com/legal/privacy-policy">Privacy Policy</a> for a full description of our data practices. You may be able to opt-out of Unity Ads\u2019 collection and use of your mobile app data for personalized ads through your device settings.</div> <% } else { %> <div class="privacy-simple-text">This advertisement has been served by Unity Ads. Please read our <a href="https://unity3d.com/legal/privacy-policy">Privacy Policy</a> for a full description of our data practices.</div> <% } %> <div class="build-information-container"> <% for (var k in data.buildInformation) { %> <span class="build-information-key"><%= k %>:</span> <span class="build-information-value"> <%= (data.buildInformation[k] === null || typeof data.buildInformation[k] === "undefined") ? "N/A" : data.buildInformation[k] %></span>; <% } %> </div><div class="ok-button">OK</div><div class="build-information-link">Show/hide build information</div></div>');
      f._templateData = {isCoppaCompliant:d, buildInformation:b.buildInformation};
      f._bindings = [{event:"click", listener:function(a) {
        return f.onOkEvent(a);
      }, selector:".ok-button"}, {event:"click", listener:function(a) {
        return f.onPrivacyEvent(a);
      }, selector:"a"}, {event:"click", listener:function(a) {
        return f.onBuildInformationEvent(a);
      }, selector:".build-information-link"}];
      return f;
    }
    $e(b, c);
    b.createBuildInformation = function(a, d, c) {
      b.buildInformation = {userAgent:window.navigator.userAgent, platform:a.getPlatform() === h.IOS ? "iOS" : "Android", campaign:d.getId(), apiLevel:c.getApiLevel(), group:d.getAbGroup(), sdk:a.getSdkVersionName(), webview:a.getWebviewVersion(), webviewHash:a.getWebviewHash(), app:a.getApplicationName(), appVersion:a.getApplicationVersion()};
    };
    b.prototype.onPrivacyEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(b) {
        return b.onPrivacy(a.target.href);
      });
    };
    b.prototype.onOkEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onPrivacyClose();
      });
    };
    b.prototype.onBuildInformationEvent = function(a) {
      a.preventDefault();
      this._container.classList.toggle("show-build-information");
    };
    return b;
  }(ja), af = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), bf = function(c) {
    function b(a, b, f, g) {
      var d = c.call(this, a, "vast-end-screen") || this;
      d._isSwipeToCloseEnabled = !1;
      d._coppaCompliant = b;
      d._template = new S('<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><a class="btn-close brand"><span class="icon-close"></span></a></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-landscape brand" style="background-image: url(<%= data.endScreenLandscape %>)"></div><div class="game-background game-background-portrait brand" style="background-image: url(<%= data.endScreenPortrait %>)"></div></div><div class="privacy-button"><span class="icon-info"></span></div>');
      f && (a = f.getLandscape(), f = f.getPortrait(), d._templateData = {endScreenLandscape:a ? a.getUrl() : f ? f.getUrl() : void 0, endScreenPortrait:f ? f.getUrl() : a ? a.getUrl() : void 0});
      d._bindings = [{event:"click", listener:function(a) {
        return d.onClickEvent(a);
      }, selector:".game-background"}, {event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".btn-close-region"}, {event:"click", listener:function(a) {
        return d.onPrivacyEvent(a);
      }, selector:".privacy-button"}];
      if ("1300023" === g || "1300024" === g) {
        d._isSwipeToCloseEnabled = !0, d._bindings.push({event:"swipe", listener:function(a) {
          return d.onCloseEvent(a);
        }, selector:".campaign-container, .game-background"});
      }
      return d;
    }
    af(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      this._isSwipeToCloseEnabled && (this._container.querySelector(".btn-close-region").style.display = "none");
    };
    b.prototype.show = function() {
      var a = this;
      c.prototype.show.call(this);
      this._handlers.forEach(function(a) {
        return a.onVastEndScreenShow();
      });
      I.getAutoClose() && setTimeout(function() {
        a._handlers.forEach(function(a) {
          return a.onVastEndScreenClose();
        });
      }, I.getAutoCloseDelay());
    };
    b.prototype.hide = function() {
      c.prototype.hide.call(this);
      this._privacy && (this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()), delete this._privacy);
    };
    b.prototype.remove = function() {
      this.container().parentElement.removeChild(this.container());
    };
    b.prototype.onPrivacyClose = function() {
      this._privacy && (this._privacy.removeEventHandler(this), this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()), delete this._privacy);
    };
    b.prototype.onPrivacy = function(a) {
      this._handlers.forEach(function(b) {
        return b.onEndScreenPrivacy(a);
      });
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onVastEndScreenClose();
      });
    };
    b.prototype.onClickEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onVastEndScreenClick();
      });
    };
    b.prototype.onPrivacyEvent = function(a) {
      a.preventDefault();
      this._privacy = new hb(this._nativeBridge, this._coppaCompliant);
      this._privacy.render();
      document.body.appendChild(this._privacy.container());
      this._privacy.addEventHandler(this);
    };
    return b;
  }(ja), Zb = function() {
    function c() {
    }
    c.onVideoCompleted = function(b) {
      (b = b.getEndScreen()) && b.show();
    };
    c.onVideoError = function(b) {
      (b = b.getEndScreen()) && b.show();
    };
    return c;
  }(), ib = function() {
    function c(b, a) {
      this._language = b;
      this._namespace = a;
    }
    c.getLanguageMap = function(b, a) {
      var d = c._languageMap[b];
      if (d) {
        return d[a];
      }
      for (var f in c._languageMap) {
        if (c._languageMap.hasOwnProperty(f) && b.match(f)) {
          return c._languageMap[f][a];
        }
      }
    };
    c.setLanguageMap = function(b, a, d) {
      c._languageMap || (c._languageMap = {});
      c._languageMap[b] || (c._languageMap[b] = {});
      c._languageMap[b][a] = d;
    };
    c.getLocalizedAbbreviations = function(b) {
      var a = c._localizedAbbreviations[b];
      if (a) {
        return a;
      }
      for (var d in c._localizedAbbreviations) {
        if (c._localizedAbbreviations.hasOwnProperty(d) && b.match(d)) {
          return c._localizedAbbreviations[d];
        }
      }
    };
    c.prototype.translate = function(b) {
      var a = c.getLanguageMap(this._language, this._namespace);
      return a && b in a ? a[b] : b;
    };
    c.prototype.abbreviate = function(b) {
      var a = c.getLocalizedAbbreviations(this._language);
      return a ? 1000000 <= b ? Math.floor(b / 1000000).toString() + " " + a.million : 10000 <= b ? Math.floor(b / 1000).toString() + " " + a.thousand : b.toString() : b.toString();
    };
    c._languageMap = {"en.*":{endscreen:JSON.parse('{\n  "Ratings": "Ratings",\n  "Download For Free": "Download For Free"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Learn More"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Try the playable demo"\n}\n')}, "ru.*":{endscreen:JSON.parse('{\n  "Ratings": "\u041e\u0446\u0435\u043d\u043a\u0438",\n  "Download For Free": "\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "\u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043c\u043e"\n}\n')}, "ja.*":{endscreen:JSON.parse('{\n  "Ratings": "\u8a55\u4fa1",\n  "Download For Free": "\u7121\u6599\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "\u3082\u3063\u3068\u307f\u308b"\n}\n')}, 
    "ko.*":{endscreen:JSON.parse('{\n  "Ratings": "\ud3c9\uc810",\n  "Download For Free": "\ubb34\ub8cc \ub2e4\uc6b4\ub85c\ub4dc"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "\ub354 \uc54c\uc544\ubcf4\uae30"\n}\n')}, "it.*":{endscreen:JSON.parse('{\n  "Ratings": "Valutazioni",\n  "Download For Free": "Scarica gratis"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Altre info"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Prova la demo giocabile"\n}\n')}, "de.*":{endscreen:JSON.parse('{\n  "Ratings": "Bewertungen",\n  "Download For Free": "Gratis Download"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "Erfahre mehr"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Probier die Demo f\u00fcr"\n}\n')}, "zh(_Hant)?(_TW|_HK|_MO|_Hant)+$":{endscreen:JSON.parse('{\n  "Ratings": "\u8a55\u5206",\n  "Download For Free": "\u514d\u8cbb\u4e0b\u8f09"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "\u4e86\u89e3\u66f4\u591a"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "\u8bd5\u73a9\u4e00\u4e0b\u6e38\u620f"\n}\n')}, "zh(_Hans)?(_\\D\\D)?$":{endscreen:JSON.parse('{\n  "Ratings": "\u8bc4\u4ef7",\n  "Download For Free": "\u514d\u8d39\u4e0b\u8f7d"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "\u66f4\u591a\u4fe1\u606f"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "\u8bd5\u73a9\u4e00\u4e0b\u6e38\u620f"\n}\n')}, "fi.*":{endscreen:JSON.parse('{\n  "Ratings": "Suosio",\n  "Download For Free": "Lataa ilmaiseksi"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Lis\u00e4\u00e4 tietoa"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Kokeile pelattavaa demoa"\n}\n')}, "es.*":{endscreen:JSON.parse('{\n  "Ratings": "Valoraciones",\n  "Download For Free": "Descarga gratis"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "M\u00e1s informaci\u00f3n"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Prueba la demo"\n}\n')}, "fr.*":{endscreen:JSON.parse('{\n  "Ratings": "Notes",\n  "Download For Free": "T\u00e9l\u00e9chargement gratuit"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Plus d\'infos"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Essayez la d\u00e9mo jouable"\n}\n')}, "tr.*":{endscreen:JSON.parse('{\n  "Ratings": "Oylar",\n  "Download For Free": "Bedava indir"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "Daha fazla bilgi"\n}\n')}, da_DK:{endscreen:JSON.parse('{\n  "Ratings": "Anmeldelser",\n  "Download For Free": "Download gratis"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Mere information"\n}\n')}, "nb.*":{endscreen:JSON.parse('{\n  "Ratings": "Anmeldelser",\n  "Download For Free": "Last ned gratis"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Les mer"\n}\n')}, "lt.*":{endscreen:JSON.parse('{\n  "Ratings": "\u012evertinimai",\n  "Download For Free": "Atsisi\u0173sti nemokamai"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "Daugiau informacijos"\n}\n')}, "is.*":{endscreen:JSON.parse('{\n  "Ratings": "Einkunnir",\n  "Download For Free": "Fr\u00edtt Ni\u00f0urhal"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "L\u00e6ra meira"\n}\n')}, "ro.*":{endscreen:JSON.parse('{\n  "Ratings": "Note",\n  "Download For Free": "Descarc\u0103 gratis"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Afl\u0103 mai multe"\n}\n')}, "pt.*":{endscreen:JSON.parse('{\n  "Ratings": "Avalia\u00e7\u00f5es",\n  "Download For Free": "Baixe de Gra\u00e7a"\n}\n'), 
    overlay:JSON.parse('{\n  "Learn More": "Saiba Mais"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Teste o demo"\n}\n')}};
    c._localizedAbbreviations = {"en.*":{thousand:"k", million:"m"}, "zh.*":{thousand:"\u5343", million:"\u767e\u4e07"}};
    return c;
  }(), cf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), vb = function(c) {
    function b(a, b, f, g) {
      void 0 === g && (g = 0);
      a = c.call(this, a, b) || this;
      a._fadeEnabled = !0;
      a._abGroup = g;
      a._muted = f;
      return a;
    }
    cf(b, c);
    b.setAutoSkip = function(a) {
      b.AutoSkip = a;
    };
    b.prototype.setSkipDuration = function(a) {
      this._skipDuration = this._skipRemaining = 1000 * a;
    };
    b.prototype.setVideoDuration = function(a) {
      this._videoDuration = a;
    };
    b.prototype.isMuted = function() {
      return this._muted;
    };
    b.prototype.setFadeEnabled = function(a) {
      this._fadeEnabled !== a && (this._fadeEnabled = a);
    };
    b.AutoSkip = !1;
    return b;
  }(ja), df = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), wb = function(c) {
    function b(a, b, f, g, e) {
      void 0 === e && (e = 0);
      var d = c.call(this, a, "overlay", b, e) || this;
      d._spinnerEnabled = !1;
      d._skipVisible = !1;
      d._videoDurationEnabled = !1;
      d._muteEnabled = !1;
      d._debugMessageVisible = !1;
      d._callButtonVisible = !1;
      d._fadeStatus = !0;
      d._localization = new ib(f, "overlay");
      d._template = new S('<div class="skip-hit-area"><div class="skip"><div class="skip-icon"><span class="icon-skip"></span></div><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="progress"><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div><div class="buffering-spinner"><div class="spinner-animation"></div><div class="spinner-text"><%= data.t("Buffering") %></div></div><div class="mute-button <%= data.muted ? \'muted\' : \'\' %>"><div class="mute-icon"><span class="icon-volume"></span></div><div class="unmute-icon"><span class="icon-volume-mute"></span></div></div><div class="call-button"><%= data.t("Learn More") %></div><div class="debug-message-text"></div>', 
      d._localization);
      d._templateData = {muted:b};
      d._bindings = [{event:"click", listener:function(a) {
        return d.onSkipEvent(a);
      }, selector:".skip-hit-area"}, {event:"click", listener:function(a) {
        return d.onMuteEvent(a);
      }, selector:".mute-button"}, {event:"click", listener:function(a) {
        return d.onCallButtonEvent(a);
      }, selector:".call-button"}, {event:"click", listener:function(a) {
        return d.onPauseForTestingEvent(a);
      }, selector:".debug-message-text"}, {event:"click", listener:function(a) {
        return d.onClick(a);
      }}];
      "1300023" !== g && "1300024" !== g || d._bindings.push({event:"swipe", listener:function(a) {
        return d.onSkipEvent(a);
      }});
      return d;
    }
    df(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      this._skipElement = this._container.querySelector(".skip-hit-area");
      this._spinnerElement = this._container.querySelector(".buffering-spinner");
      this._muteButtonElement = this._container.querySelector(".mute-button");
      this._debugMessageElement = this._container.querySelector(".debug-message-text");
      this._callButtonElement = this._container.querySelector(".call-button");
      this._progressElement = this._container.querySelector(".progress");
    };
    b.prototype.setSpinnerEnabled = function(a) {
      this._spinnerEnabled !== a && (this._spinnerEnabled = a, this._spinnerElement.style.display = a ? "block" : "none");
    };
    b.prototype.setSkipEnabled = function(a) {
      this._skipEnabled !== a && (this._skipEnabled = a, this._skipElement.style.display = a ? "block" : "none");
    };
    b.prototype.setVideoDurationEnabled = function(a) {
      this._videoDurationEnabled !== a && (this._videoDurationEnabled = a, this._progressElement.style.display = a ? "block" : "none");
    };
    b.prototype.setVideoProgress = function(a) {
      var d = this;
      b.AutoSkip && this._handlers.forEach(function(b) {
        return b.onOverlaySkip(a);
      });
      this._fadeEnabled && !this._fadeTimer && (!this._skipEnabled || 0 >= this._skipRemaining) && (this._fadeTimer = setTimeout(function() {
        d.fade(!0);
        d._fadeTimer = void 0;
      }, 3000));
      this._videoProgress = a;
      this._skipEnabled && 0 < this._skipRemaining && (this._skipRemaining = this._skipDuration - a, 0 >= this._skipRemaining ? (this.setSkipElementVisible(!0), this.updateProgressCircle(this._skipElement, 1)) : this.updateProgressCircle(this._skipElement, (this._skipDuration - this._skipRemaining) / this._skipDuration));
      this._progressElement.setAttribute("data-seconds", Math.round((this._videoDuration - a) / 1000).toString());
      this.updateProgressCircle(this._progressElement, this._videoProgress / this._videoDuration);
    };
    b.prototype.setMuteEnabled = function(a) {
      this._muteEnabled !== a && (this._muteEnabled = a, this._muteButtonElement.style.display = a ? "block" : "none");
    };
    b.prototype.setDebugMessage = function(a) {
      this._debugMessageElement.innerHTML = a;
    };
    b.prototype.setDebugMessageVisible = function(a) {
      this._debugMessageVisible !== a && (this._debugMessageElement.style.display = a ? "block" : "none");
    };
    b.prototype.setCallButtonVisible = function(a) {
      this._callButtonVisible !== a && (this._callButtonElement.style.display = a ? "block" : "none");
    };
    b.prototype.isMuted = function() {
      return this._muted;
    };
    b.prototype.onSkipEvent = function(a) {
      var b = this;
      a.preventDefault();
      a.stopPropagation();
      this._skipEnabled && this._videoProgress > this._skipDuration && this._handlers.forEach(function(a) {
        return a.onOverlaySkip(b._videoProgress);
      });
    };
    b.prototype.onMuteEvent = function(a) {
      var b = this;
      a.preventDefault();
      a.stopPropagation();
      this.resetFadeTimer();
      this._muted ? (this._muteButtonElement.classList.remove("muted"), this._muted = !1) : (this._muteButtonElement.classList.add("muted"), this._muted = !0);
      this._handlers.forEach(function(a) {
        return a.onOverlayMute(b._muted);
      });
    };
    b.prototype.onCallButtonEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this.resetFadeTimer();
      this._handlers.forEach(function(a) {
        return a.onOverlayCallButton();
      });
    };
    b.prototype.onPauseForTestingEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this.resetFadeTimer();
      this._handlers.forEach(function(a) {
        return a.onOverlayPauseForTesting(!0);
      });
    };
    b.prototype.onClick = function() {
      this.resetFadeTimer();
      this._fadeStatus ? this.fade(!0) : this.fade(!1);
    };
    b.prototype.updateProgressCircle = function(a, b) {
      var d = a.querySelector(".progress-wrapper");
      if (this._nativeBridge.getPlatform() === h.ANDROID && 15 > this._nativeBridge.getApiLevel()) {
        d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
      } else {
        var c = a.querySelector(".circle-left");
        a = a.querySelector(".circle-right");
        c.style.webkitTransform = "rotate(" + 360 * b + "deg)";
        0.5 <= b && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
      }
    };
    b.prototype.setSkipElementVisible = function(a) {
      if (this._skipVisible !== a) {
        this._skipVisible = a;
        var b = this._container.querySelector(".skip");
        a ? b.classList.add("enabled") : b.classList.remove("enabled");
      }
    };
    b.prototype.resetFadeTimer = function() {
      this._fadeTimer && (clearTimeout(this._fadeTimer), this._fadeTimer = void 0);
    };
    b.prototype.fade = function(a) {
      a ? (this._skipElement.classList.remove("slide-back-in-place"), this._skipElement.classList.add("slide-up"), this._progressElement.classList.remove("slide-back-in-place"), this._progressElement.classList.add("slide-up"), this._muteButtonElement.classList.remove("slide-back-in-place"), this._muteButtonElement.classList.add("slide-down"), this._container.style.pointerEvents = "auto", this._fadeStatus = !1) : (this._container.style.pointerEvents = "none", this._skipElement.classList.remove("slide-up"), 
      this._skipElement.classList.add("slide-back-in-place"), this._progressElement.classList.remove("slide-up"), this._progressElement.classList.add("slide-back-in-place"), this._muteButtonElement.classList.remove("slide-down"), this._muteButtonElement.classList.add("slide-back-in-place"), this._fadeStatus = !0);
    };
    return b;
  }(vb), ef = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), ff = function(c) {
    function b(a, b) {
      a = c.call(this, a, b) || this;
      a._operativeEventManager = b.operativeEventManager;
      a._thirdPartyEventManager = b.thirdPartyEventManager;
      a._mraid = b.mraid;
      a._additionalTrackingEvents = b.campaign.getTrackingEventUrls();
      a._endScreen = b.endScreen;
      a._clientInfo = b.clientInfo;
      a._placement = b.placement;
      a._campaign = b.campaign;
      a._mraid.render();
      document.body.appendChild(a._mraid.container());
      a._endScreen && (a._endScreen.render(), a._endScreen.hide(), document.body.appendChild(a._endScreen.container()));
      a._orientationProperties = {allowOrientationChange:!0, forceOrientation:q.NONE};
      a._options = b.options;
      a.setShowing(!1);
      return a;
    }
    ef(b, c);
    b.prototype.show = function() {
      var a = this;
      this.setShowing(!0);
      this.setShowingMRAID(!0);
      this._mraid.show();
      this.onStart.trigger();
      this._nativeBridge.Listener.sendStartEvent(this._placement.getId());
      this._operativeEventManager.sendStart(this._campaign.getSession(), this._placement, this._campaign).then(function() {
        a.onStartProcessed.trigger();
      });
      this.sendTrackingEvent("impression");
      this._onShowObserver = this._container.onShow.subscribe(function() {
        return a.onShow();
      });
      this._onSystemKillObserver = this._container.onSystemKill.subscribe(function() {
        return a.onSystemKill();
      });
      this._onSystemInterruptObserver = this._container.onSystemInterrupt.subscribe(function(b) {
        return a.onSystemInterrupt(b);
      });
      this._onPauseObserver = this._container.onAndroidPause.subscribe(function() {
        return a.onSystemPause();
      });
      return this._container.open(this, !1, this._orientationProperties.allowOrientationChange, this._orientationProperties.forceOrientation, !0, !1, !0, !1, this._options);
    };
    b.prototype.hide = function() {
      var a = this;
      if (!this.isShowing()) {
        return Promise.resolve();
      }
      this.setShowing(!1);
      this.setShowingMRAID(!1);
      this._container.onShow.unsubscribe(this._onShowObserver);
      this._container.onSystemKill.unsubscribe(this._onSystemKillObserver);
      this._container.onSystemInterrupt.unsubscribe(this._onSystemInterruptObserver);
      this._container.onAndroidPause.unsubscribe(this._onPauseObserver);
      this._mraid.hide();
      this._endScreen && (this._endScreen.hide(), this._endScreen.container().parentElement.removeChild(this._endScreen.container()));
      var b = this.getFinishState();
      b === u.COMPLETED ? (this._campaign.getSession().getEventSent(F.THIRD_QUARTILE) || this._operativeEventManager.sendThirdQuartile(this._campaign.getSession(), this._placement, this._campaign), this._campaign.getSession().getEventSent(F.VIEW) || this._operativeEventManager.sendView(this._campaign.getSession(), this._placement, this._campaign), this.sendTrackingEvent("complete")) : b === u.SKIPPED && this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign);
      this.onFinish.trigger();
      this._mraid.container().parentElement.removeChild(this._mraid.container());
      this.unsetReferences();
      this._nativeBridge.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
      return this._container.close().then(function() {
        a.onClose.trigger();
      });
    };
    b.prototype.setOrientationProperties = function(a) {
      this._orientationProperties = a;
    };
    b.prototype.isCached = function() {
      var a = this._campaign.getResourceUrl();
      return a ? a.isCached() : !1;
    };
    b.prototype.description = function() {
      return "mraid";
    };
    b.prototype.sendClick = function() {
      this.sendTrackingEvent("click");
    };
    b.prototype.getEndScreen = function() {
      return this._endScreen;
    };
    b.prototype.getMRAIDView = function() {
      return this._mraid;
    };
    b.prototype.setShowingMRAID = function(a) {
      this._showingMRAID = a;
    };
    b.prototype.isShowingMRAID = function() {
      return this._showingMRAID;
    };
    b.prototype.onShow = function() {
      var a = this;
      this._mraid.setViewableState(!0);
      I.getAutoClose() && setTimeout(function() {
        a.setFinishState(u.COMPLETED);
        a.hide();
      }, I.getAutoCloseDelay());
    };
    b.prototype.onSystemKill = function() {
      this.isShowing() && (this.setFinishState(u.SKIPPED), this.hide());
    };
    b.prototype.onSystemInterrupt = function(a) {
      this.isShowing() && (a ? this._mraid.setViewableState(!1) : this._mraid.setViewableState(!0));
    };
    b.prototype.onSystemPause = function() {
      this.isShowing() && this._mraid.setViewableState(!1);
    };
    b.prototype.unsetReferences = function() {
      delete this._mraid;
      delete this._endScreen;
    };
    b.prototype.sendTrackingEvent = function(a) {
      var b = this._clientInfo.getSdkVersion(), c = this._placement.getId(), g = this._campaign.getSession().getId();
      if (this._additionalTrackingEvents && this._additionalTrackingEvents[a]) {
        var e = this._additionalTrackingEvents[a];
        if (e) {
          for (var k = 0; k < e.length; k++) {
            var m = e[k];
            m = m.replace(/%ZONE%/, c);
            m = m.replace(/%SDK_VERSION%/, b.toString());
            this._thirdPartyEventManager.sendEvent("mraid " + a, g, m, this._campaign.getUseWebViewUserAgentForTracking());
          }
        }
      }
    };
    return b;
  }(I), gf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), $b = function(c) {
    function b(a, b, f, g, e) {
      a = c.call(this, a, b) || this;
      a._placement = f;
      a._campaign = g;
      a._coppaCompliant = e;
      return a;
    }
    gf(b, c);
    b.prototype.hide = function() {
      c.prototype.hide.call(this);
      this._privacy && (this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()), delete this._privacy);
    };
    b.prototype.createMRAID = function() {
      var a = this;
      return this.fetchMRAID().then(function(b) {
        if (b) {
          var d = a._campaign.getDynamicMarkup();
          d && (b = b.replace("{UNITY_DYNAMIC_MARKUP}", d));
          b = b.replace(/\$/g, "$$");
          b = a.replaceMraidSources(b);
          return "\x3c!-- DO NOT PUT A DOCTYPE HERE! iOS will go crazy --\x3e<html lang=\"en\"><head><title>Unity Ads MRAID WebView</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\"><meta name=\"apple-mobile-web-app-capable\" content=\"yes\"><meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\"><meta name=\"format-detection\" content=\"telephone=no\"><script>(function() {\n            var MRAID = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    ready: [],\n                    error: [],\n                    stateChange: [],\n                    viewableChange: [],\n                    sizeChange: []\n                };\n\n                var viewable = false;\n\n                var orientationProperties = {\n                    allowOrientationChange: true,\n                    forceOrientation: 'none'\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        for (var len = listeners[event].length, i = len - 1; i >= 0; i--) {\n                            var listener = listeners[event][i];\n                            try {\n                                listener.apply(window, parameters);\n                            } catch (e) {\n                                console.log('Got error ', e);\n                                window.parent.postMessage({\n                                    type: 'diagnosticError',\n                                    error: {\n                                        message: e.message\n                                    }\n                                }, '*');\n                            }\n                        }\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'viewable':\n                            viewable = event.data.value;\n                            trigger('viewableChange', [viewable]);\n                            break;\n\n                        case 'resize':\n                            window.innerWidth = width = event.data.width;\n                            window.innerHeight = height = event.data.height;\n                            trigger('sizeChange', [width, height]);\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('resize', function(e) {\n                    width = window.innerWidth;\n                    height = window.innerHeight;\n                    trigger('sizeChange', [width, height]);\n                });\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.createCalendarEvent = function() {\n                    trigger('error', ['not implemented', 'createCalendarEvent']);\n                };\n\n                this.close = function() {\n                    setState('hidden');\n                    window.parent.postMessage({\n                        type: 'close'\n                    }, '*');\n                };\n\n                this.expand = function() {\n                    trigger('error', ['not implemented', 'expand']);\n                };\n\n                this.getCurrentPosition = this.getDefaultPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getExpandProperties = function() {\n                    trigger('error', ['not implemented', 'getExpandProperties']);\n                };\n\n                this.getMaxSize = this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getOrientationProperties = function() {\n                    return orientationProperties;\n                };\n\n                this.getPlacementType = function() {\n                    return 'interstitial';\n                };\n\n                this.getResizeProperties = function() {\n                    trigger('error', ['not implemented', 'getResizeProperties']);\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '2.0';\n                };\n\n                this.isViewable = function() {\n                    return viewable;\n                };\n\n                this.open = function(url) {\n                    window.parent.postMessage({\n                        type: 'open',\n                        url: url\n                    }, '*');\n                };\n\n                this.playVideo = function() {\n                    trigger('error', ['not implemented', 'playVideo']);\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.resize = function() {\n                    trigger('error', ['not implemented', 'resize']);\n                };\n\n                this.setExpandProperties = function() {\n                    trigger('error', ['not implemented', 'setExpandProperties']);\n                };\n\n                this.setOrientationProperties = function(properties) {\n                    orientationProperties = properties;\n                    window.parent.postMessage({\n                        type: 'orientation',\n                        properties: properties\n                    }, '*');\n                };\n\n                this.setResizeProperties = function() {\n                    trigger('error', ['not implemented', 'setResizeProperties']);\n                };\n\n                this.storePicture = function() {\n                    trigger('error', ['not implemented', 'storePicture']);\n                };\n\n                this.useCustomClose = function() {\n                    trigger('error', ['not implemented', 'useCustomClose']);\n                };\n\n                this.sendAnalyticsEvent = function(event, eventData) {\n                    window.parent.postMessage({\n                        type: 'analyticsEvent',\n                        event: event,\n                        eventData: eventData\n                    }, '*');\n                };\n\n                this.setCustomMraidState = function(state) {\n                    window.parent.postMessage({\n                        type: 'customMraidState',\n                        state: state\n                    }, '*');\n                };\n            };\n            window.mraid = new MRAID();\n        })();\x3c/script></head><body></body></html>".replace("<body></body>", 
          "<body>" + b + "</body>");
        }
        throw new Z("Unable to fetch MRAID");
      });
    };
    b.prototype.onPrivacyClose = function() {
      this._privacy && (this._privacy.removeEventHandler(this), this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()), delete this._privacy);
    };
    b.prototype.onPrivacy = function(a) {
      this._handlers.forEach(function(b) {
        return b.onMraidPrivacy(a);
      });
    };
    b.prototype.onPrivacyEvent = function(a) {
      a.preventDefault();
      this._privacy = new hb(this._nativeBridge, this._coppaCompliant);
      this._privacy.render();
      document.body.appendChild(this._privacy.container());
      this._privacy.addEventHandler(this);
    };
    b.prototype.replaceMraidSources = function(a) {
      var b = this._nativeBridge.getPlatform() === h.IOS ? Eb.parseFromString(a, "text/html") : (new DOMParser).parseFromString(a, "text/html");
      if (!b) {
        return this._nativeBridge.Sdk.logWarning("Could not parse markup for campaign " + this._campaign.getId()), a;
      }
      (a = b.documentElement.querySelector('script[src^="mraid.js"]')) && a.parentNode && a.parentNode.removeChild(a);
      return b.documentElement.outerHTML;
    };
    b.prototype.fetchMRAID = function() {
      var a = this._campaign.getResourceUrl();
      if (a) {
        if (this._nativeBridge.getPlatform() === h.ANDROID) {
          return this.requestMRaid(a.getUrl());
        }
        var b = a.getFileId();
        return b ? this._nativeBridge.Cache.getFileContent(b, "UTF-8") : this.requestMRaid(a.getOriginalUrl());
      }
      return Promise.resolve(this._campaign.getResource());
    };
    b.prototype.requestMRaid = function(a) {
      return new Promise(function(b, c) {
        var d = new XMLHttpRequest;
        d.addEventListener("load", function() {
          0 === d.status && 0 === a.indexOf("file://") || 200 <= d.status && 299 >= d.status ? b(d.responseText) : c(Error("XHR returned with unknown status code " + d.status));
        }, !1);
        d.open("GET", decodeURIComponent(a));
        d.send();
      });
    };
    return b;
  }(ja), hf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), jf = function(c) {
    function b(a, b, f, g) {
      var d = c.call(this, a, "mraid", b, f, g) || this;
      d.onLoaded = new x;
      d._loaded = !1;
      d._canClose = !1;
      d._canSkip = !1;
      d._didReward = !1;
      d._placement = b;
      d._campaign = f;
      d._template = new S('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="privacy-button"><span class="icon-info"></span></div><iframe id="mraid-iframe" scrolling="no" sandbox="allow-scripts"></iframe>');
      d._bindings = [{event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".close-region"}, {event:"click", listener:function(a) {
        return d.onPrivacyEvent(a);
      }, selector:".privacy-button"}];
      return d;
    }
    hf(b, c);
    b.prototype.render = function() {
      var a = this;
      c.prototype.render.call(this);
      this._closeElement = this._container.querySelector(".close-region");
      var b = this._iframe = this._container.querySelector("#mraid-iframe");
      this.createMRAID().then(function(d) {
        a._nativeBridge.Sdk.logError("setting iframe srcdoc (" + d.length + ")");
        b.srcdoc = d;
      }).catch(function(b) {
        return a._nativeBridge.Sdk.logError("failed to create mraid: " + b);
      });
      this._messageListener = function(b) {
        return a.onMessage(b);
      };
      window.addEventListener("message", this._messageListener, !1);
    };
    b.prototype.show = function() {
      var a = this;
      c.prototype.show.call(this);
      this._showTimestamp = Date.now();
      if (this._placement.allowSkip()) {
        var d = this._placement.allowSkipInSeconds();
        this._closeRemaining = b.CloseLength;
        var f = d;
        this._updateInterval = setInterval(function() {
          0 < a._closeRemaining && a._closeRemaining--;
          0 < f && (f--, a.updateProgressCircle(a._closeElement, (d - f) / d));
          0 >= f && (a._canSkip = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
          0 >= a._closeRemaining && (clearInterval(a._updateInterval), a._canClose = !0);
        }, 1000);
      } else {
        this._closeRemaining = b.CloseLength, this._updateInterval = setInterval(function() {
          var d = (b.CloseLength - a._closeRemaining) / b.CloseLength;
          0.75 <= d && !a._didReward && (a._handlers.forEach(function(a) {
            return a.onMraidReward();
          }), a._didReward = !0);
          0 < a._closeRemaining && (a._closeRemaining--, a.updateProgressCircle(a._closeElement, d));
          0 >= a._closeRemaining && (clearInterval(a._updateInterval), a._canClose = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
        }, 1000);
      }
      if (this._loaded) {
        this.setViewableState(!0);
      } else {
        var g = this.onLoaded.subscribe(function() {
          a.setViewableState(!0);
          a.onLoaded.unsubscribe(g);
        });
      }
    };
    b.prototype.hide = function() {
      this.setViewableState(!1);
      this._messageListener && (window.removeEventListener("message", this._messageListener, !1), this._messageListener = void 0);
      this._updateInterval && (clearInterval(this._updateInterval), this._updateInterval = void 0);
      c.prototype.hide.call(this);
    };
    b.prototype.setViewableState = function(a) {
      this._loaded && this._iframe.contentWindow.postMessage({type:"viewable", value:a}, "*");
    };
    b.prototype.updateProgressCircle = function(a, b) {
      var d = a.querySelector(".progress-wrapper");
      if (this._nativeBridge.getPlatform() === h.ANDROID && 15 > this._nativeBridge.getApiLevel()) {
        d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
      } else {
        var c = a.querySelector(".circle-left");
        a = a.querySelector(".circle-right");
        c.style.webkitTransform = "rotate(" + 360 * b + "deg)";
        0.5 <= b && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
      }
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this._canSkip && !this._canClose ? this._handlers.forEach(function(a) {
        return a.onMraidSkip();
      }) : this._canClose && this._handlers.forEach(function(a) {
        return a.onMraidClose();
      });
    };
    b.prototype.onMessage = function(a) {
      switch(a.data.type) {
        case "loaded":
          this._loaded = !0;
          this.onLoaded.trigger();
          break;
        case "open":
          this._handlers.forEach(function(b) {
            return b.onMraidClick(a.data.url);
          });
          break;
        case "close":
          this._handlers.forEach(function(a) {
            return a.onMraidClose();
          });
          break;
        case "orientation":
          var b = q.NONE;
          switch(a.data.properties.forceOrientation) {
            case "portrait":
              b = q.PORTRAIT;
              break;
            case "landscape":
              b = q.LANDSCAPE;
          }this._handlers.forEach(function(d) {
            return d.onMraidOrientationProperties({allowOrientationChange:a.data.properties.allowOrientationChange, forceOrientation:b});
          });
      }
    };
    b.CloseLength = 30;
    return b;
  }($b), kf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), lf = function(c) {
    function b(a, b, f, g, e) {
      var d = c.call(this, a, "playable-mraid", b, f, e) || this;
      d._iframeLoaded = !1;
      d._canClose = !1;
      d._canSkip = !1;
      d._didReward = !1;
      d._backgroundTime = 0;
      d._placement = b;
      d._campaign = f;
      d._localization = new ib(g, "loadingscreen");
      d._template = new S('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="loading-screen"><div class="container"><div class="user-text"><%= data.t("Try the playable demo") %></div><div class="game-icon" style="background-image:  url(<%= data.gameIcon %>)"></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div><div class="name-container"><%= data.gameName %></div><div class="progress-bar"><span class="filling"></span></div></div><div class="unityads-logo"></div></div><div class="privacy-button"><span class="icon-info"></span></div><iframe id="mraid-iframe" scrolling="no" sandbox="allow-scripts"></iframe>', 
      d._localization);
      if (f) {
        d._templateData = {gameName:f.getGameName()};
        if (a = f.getGameIcon()) {
          d._templateData.gameIcon = a.getUrl();
        }
        if (a = f.getRating()) {
          d._templateData.rating = (20 * a).toString();
        }
        if (f = f.getRatingCount()) {
          d._templateData.ratingCount = d._localization.abbreviate(f);
        }
      }
      d._bindings = [{event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".close-region"}, {event:"click", listener:function(a) {
        return d.onPrivacyEvent(a);
      }, selector:".privacy-button"}];
      return d;
    }
    kf(b, c);
    b.prototype.render = function() {
      var a = this;
      c.prototype.render.call(this);
      this._closeElement = this._container.querySelector(".close-region");
      this._loadingScreen = this._container.querySelector(".loading-screen");
      var b = this._iframe = this._container.querySelector("#mraid-iframe");
      this.createMRAID().then(function(d) {
        b.onload = function() {
          return a.onIframeLoaded();
        };
        b.srcdoc = d;
      });
      this._messageListener = function(b) {
        return a.onMessage(b);
      };
      window.addEventListener("message", this._messageListener, !1);
    };
    b.prototype.show = function() {
      c.prototype.show.call(this);
      this._showTimestamp = Date.now();
      this.showLoadingScreen();
    };
    b.prototype.hide = function() {
      this._iframe.contentWindow.postMessage({type:"viewable", value:!1}, "*");
      this._messageListener && (window.removeEventListener("message", this._messageListener, !1), this._messageListener = void 0);
      this._loadingScreenTimeout && (clearTimeout(this._loadingScreenTimeout), this._loadingScreenTimeout = void 0);
      this._prepareTimeout && (clearTimeout(this._prepareTimeout), this._prepareTimeout = void 0);
      this._updateInterval && (clearInterval(this._updateInterval), this._updateInterval = void 0);
      c.prototype.hide.call(this);
    };
    b.prototype.setViewableState = function(a) {
      this._iframeLoaded && !this._loadingScreenTimeout && ((this._iframe.contentWindow.postMessage({type:"viewable", value:a}, "*"), a) ? this._backgroundTimestamp && (this._backgroundTime += Date.now() - this._backgroundTimestamp) : this._backgroundTimestamp = Date.now());
    };
    b.prototype.onIframeLoaded = function() {
      this._iframeLoaded = !0;
      this._loadingScreenTimeout || (clearTimeout(this._prepareTimeout), this._prepareTimeout = void 0, this.showMRAIDAd());
    };
    b.prototype.showLoadingScreen = function() {
      var a = this;
      this._loadingScreen.style.display = "block";
      this._loadingScreenTimeout = setTimeout(function() {
        a._iframeLoaded ? a.showMRAIDAd() : a._prepareTimeout = setTimeout(function() {
          a._canClose = !0;
          a._closeElement.style.opacity = "1";
          a._closeElement.style.display = "block";
          a.updateProgressCircle(a._closeElement, 1);
          var b = a._campaign.getResourceUrl();
          t.trigger("playable_prepare_timeout", {url:b ? b.getOriginalUrl() : ""}, a._campaign.getSession());
          a._prepareTimeout = void 0;
        }, 4500);
        a._loadingScreenTimeout = void 0;
      }, 2500);
    };
    b.prototype.showMRAIDAd = function() {
      var a = this;
      if (this._placement.allowSkip()) {
        var d = this._placement.allowSkipInSeconds();
        this._closeRemaining = b.CloseLength;
        var c = d;
        this._updateInterval = setInterval(function() {
          0 < a._closeRemaining && a._closeRemaining--;
          0 < c && (c--, a.updateProgressCircle(a._closeElement, (d - c) / d));
          0 >= c && (a._canSkip = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
          0 >= a._closeRemaining && (clearInterval(a._updateInterval), a._canClose = !0);
        }, 1000);
      } else {
        this._closeRemaining = b.CloseLength;
        var g = setInterval(function() {
          var d = (b.CloseLength - a._closeRemaining) / b.CloseLength;
          0.75 <= d && !a._didReward && (a._handlers.forEach(function(a) {
            return a.onMraidReward();
          }), a._didReward = !0);
          0 < a._closeRemaining && (a._closeRemaining--, a.updateProgressCircle(a._closeElement, d));
          0 >= a._closeRemaining && (clearInterval(g), a._canClose = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
        }, 1000);
      }
      ["webkitTransitionEnd", "transitionend"].forEach(function(b) {
        "none" !== a._loadingScreen.style.display && a._loadingScreen.addEventListener(b, function() {
          a._closeElement.style.display = "block";
          a._playableStartTimestamp = Date.now();
          var b = a.checkIsValid((a._playableStartTimestamp - a._showTimestamp) / 1000), d = a.checkIsValid(a._backgroundTime / 1000);
          a._handlers.forEach(function(a) {
            return a.onMraidAnalyticsEvent(b, 0, d, "playable_start", void 0);
          });
          a._iframe.contentWindow.postMessage({type:"viewable", value:!0}, "*");
          a._loadingScreen.style.display = "none";
        }, !1);
      });
      this._loadingScreen.classList.add("hidden");
    };
    b.prototype.updateProgressCircle = function(a, b) {
      var d = a.querySelector(".progress-wrapper");
      if (this._nativeBridge.getPlatform() === h.ANDROID && 15 > this._nativeBridge.getApiLevel()) {
        d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
      } else {
        var c = a.querySelector(".circle-left");
        a = a.querySelector(".circle-right");
        c.style.webkitTransform = "rotate(" + 360 * b + "deg)";
        0.5 <= b && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
      }
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this._canSkip && !this._canClose ? this._handlers.forEach(function(a) {
        return a.onMraidSkip();
      }) : this._canClose && this._handlers.forEach(function(a) {
        return a.onMraidClose();
      });
    };
    b.prototype.onMessage = function(a) {
      switch(a.data.type) {
        case "open":
          this._handlers.forEach(function(b) {
            return b.onMraidClick(encodeURI(a.data.url));
          });
          break;
        case "close":
          this._handlers.forEach(function(a) {
            return a.onMraidClose();
          });
          break;
        case "orientation":
          var b = q.NONE;
          switch(a.data.properties.forceOrientation) {
            case "portrait":
              b = q.PORTRAIT;
              break;
            case "landscape":
              b = q.LANDSCAPE;
          }this._handlers.forEach(function(d) {
            return d.onMraidOrientationProperties({allowOrientationChange:a.data.properties.allowOrientationChange, forceOrientation:b});
          });
          break;
        case "analyticsEvent":
          var c = this.checkIsValid((Date.now() - this._showTimestamp) / 1000), g = this.checkIsValid((Date.now() - this._playableStartTimestamp - this._backgroundTime) / 1000), e = this.checkIsValid(this._backgroundTime / 1000);
          this._handlers.forEach(function(b) {
            return b.onMraidAnalyticsEvent(c, g, e, a.data.event, a.data.eventData);
          });
          break;
        case "customMraidState":
          switch(a.data.state) {
            case "completed":
              !this._placement.allowSkip() && 5 < this._closeRemaining && (this._closeRemaining = 5);
          }
      }
    };
    b.prototype.checkIsValid = function(a) {
      if (!(0 > a || 600 < a)) {
        return a;
      }
    };
    b.CloseLength = 30;
    return b;
  }($b), xb = function() {
    function c(b, a) {
      this._handle = -1;
      this._func = b;
      this._duration = a;
    }
    c.prototype.start = function() {
      var b = this;
      -1 === this._handle && (this._handle = window.setTimeout(function() {
        b._func();
      }, this._duration));
    };
    c.prototype.reset = function() {
      this.stop();
      this.start();
    };
    c.prototype.stop = function() {
      window.clearTimeout(this._handle);
      this._handle = -1;
    };
    return c;
  }(), mf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), nf = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, of = function(c) {
    function b(a, d, f) {
      var g = c.call(this, a, "vpaid") || this;
      g.vpaidSrcTag = "{{VPAID_SRC_URL}}";
      g._isPaused = !1;
      g._template = new S('<iframe id="vpaid-iframe" sandbox="allow-scripts"></iframe><div class="companion-container"><img class="companion"></div>');
      g._campaign = d;
      g._messageListener = function(a) {
        return g.onMessage(a);
      };
      g._loadingScreen = document.createElement("div");
      g._loadingScreen.classList.add("loading-container");
      g._loadingScreen.innerHTML = (new S('<div class="container"><div class="spinner-animation"></div><div class="spinner-text">Loading</div></div>')).render({});
      g._placement = f;
      g._stuckTimer = new xb(function() {
        return g._handlers.forEach(function(a) {
          return a.onVPAIDStuck();
        });
      }, b.stuckDelay);
      g._bindings = [{selector:".companion", event:"click", listener:function() {
        return g._handlers.forEach(function(a) {
          return a.onVPAIDCompanionClick();
        });
      }}];
      return g;
    }
    mf(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      var a = "<html><head><style>/* just a shadow iframe for loading the VPAID src */\n        iframe {\n            display: none;\n        }\n\n        body {\n            width: 100vw;\n            height: 100vh;\n            margin: 0;\n            padding: 0;\n        }\n\n        .video-player-slot {\n            width: 100%;\n            height: 100%;\n        }\n\n        .video-player-slot video {\n            width: 100%;\n            height: 100%;\n        }</style></head><body><div class=\"video-player-slot\"><video poster=\"data:image/svg+xml;base64,\" playsinline></video></div><script src=\"{{VPAID_SRC_URL}}\">\x3c/script><script>(function() {\n            // List of all ad events\n            var creativeEvents = [\n                'loaded', 'skipped', 'started', 'stopped',\n                'linearChange', 'expandedChange', 'remaningTimeChange',\n                'volumeChange', 'impression', 'videoStart', 'videoFirstQuartile',\n                'videoMidpoint', 'videoThirdQuartile', 'videoComplete',\n                'clickThru', 'interaction', 'userAcceptInvitation',\n                'userMinimize', 'userClose', 'paused', 'playing',\n                'log', 'error'\n            ];\n\n\n            var Container = function() {\n                this._iframe = document.querySelector('iframe');\n                this._creative = null;\n                this._slot = document.querySelector('.video-player-slot');\n                this._videoSlot = this._slot.querySelector('video');\n\n                var self = this;\n                window.addEventListener('message', function(e) {\n                    self._onMessage(e);\n                });\n                this._videoSlot.addEventListener('timeupdate', function(e) {\n                    self._sendProgressEvent();\n                });\n            };\n\n            Container.prototype.init = function() {\n                var getVPAID = this._getVPAIDFunction();\n                if (getVPAID && typeof getVPAID === 'function') {\n                    this._creative = getVPAID();\n\n                    this._subscribeToAllEvents();\n\n                    window.parent.postMessage({\n                        type: 'ready'\n                    }, '*');\n                } else {\n                    this._triggerError('getVPAIDAd is not defined');\n                }\n            };\n\n            Container.prototype.getHandshakeVersion = function() {\n                return this._creative.handshakeVersion('2.0');\n            };\n\n            Container.prototype.getAdDuration = function() {\n                if (this._creative.getAdDuration) {\n                    return this._creative.getAdDuration();\n                } else {\n                    return this._creative.adDuration || -2;\n                }\n            };\n\n            Container.prototype.getAdRemainingTime = function() {\n                if (this._creative.getAdRemainingTime) {\n                    return this._creative.getAdRemainingTime();\n            } else {\n                    return this._creative.adRemainingTime || -2;\n                }\n            };\n\n            Container.prototype._triggerError = function(e) {\n                window.parent.postMessage({\n                    type: 'VPAID',\n                    eventType: 'AdError',\n                    args: [e]\n                }, '*');\n            }\n\n            Container.prototype._subscribeToAllEvents = function() {\n                var len = creativeEvents.length;\n                for (var i = 0; i < creativeEvents.length; i++) {\n                    var creativeEvent = creativeEvents[i];\n                    var normalizedEventName = 'Ad' + creativeEvent.charAt(0).toUpperCase() + creativeEvent.substring(1);\n                    this._subscribeToEvent(normalizedEventName);\n                }\n            };\n\n            Container.prototype._subscribeToEvent = function(eventName) {\n                this._creative.subscribe(function() {\n                    var args = [eventName].concat(Array.prototype.slice.call(arguments));\n                    this._handleEvent.apply(this, args);\n                }, eventName, this);\n            }\n\n            Container.prototype._getVPAIDFunction = function() {\n                return window.getVPAIDAd;\n            };\n\n            Container.prototype._handleEvent = function() {\n                var eventType = arguments[0];\n                var args = arguments.length > 1 ? Array.prototype.slice.call(arguments, 1) : [];\n\n                window.parent.postMessage({\n                    type: 'VPAID',\n                    eventType: eventType,\n                    args: args\n                }, '*');\n            };\n\n            Container.prototype._initAd = function(width, height, viewMode, bitrate, creativeData, envVars) {\n                this._version = this._creative.handshakeVersion('2.0');\n                this._creative.initAd(width, height, viewMode, bitrate, creativeData, envVars);\n            }\n\n            Container.prototype._showAd = function() {\n                this._creative.startAd();\n            };\n\n            Container.prototype._stopAd = function() {\n                return this._creative.stopAd();\n            };\n\n            Container.prototype._pauseAd = function() {\n                return this._creative.pauseAd();\n            };\n\n            Container.prototype._resumeAd = function() {\n                return this._creative.resumeAd();\n            };\n\n            Container.prototype._sendProgressEvent = function() {\n                window.parent.postMessage({\n                    type: 'progress',\n                    adDuration: this._videoSlot.duration,\n                    adRemainingTime: this._videoSlot.duration - this._videoSlot.currentTime,\n                }, '*');\n            };\n\n            Container.prototype._onMessage = function(e) {\n                switch (e.data.type) {\n                    case 'init':\n                        this._initAd(e.data.width, e.data.height, e.data.viewMode, e.data.bitrate, e.data.creativeData, {\n                            slot: this._slot,\n                            videoSlot: this._videoSlot\n                        });\n                        break;\n                    case 'show':\n                        this._showAd();\n                        break;\n                    case 'destroy':\n                        this._stopAd();\n                        break;\n                    case 'pause':\n                        this._pauseAd();\n                        break;\n                    case 'resume':\n                        this._resumeAd();\n                        break;\n                    default:\n                        // todo post back error\n                        break;\n                }\n            }\n\n            var container = window.container = new Container();\n            container.init();\n        })();\x3c/script></body></html>".replace(this.vpaidSrcTag, 
      this._campaign.getVPAID().getScriptUrl());
      this._iframe = this._container.querySelector("iframe");
      this._iframe.setAttribute("srcdoc", a);
      this._container.insertBefore(this._loadingScreen, this._container.firstChild);
      if (this._campaign.hasCompanionAd()) {
        this._container.querySelector(".companion-container").style.display = "block";
        a = this._container.querySelector(".companion");
        var b = this._campaign.getCompanionAd();
        if (b) {
          var f = b.getStaticResourceURL();
          a.style.width = b.getWidth() + "px";
          a.style.height = b.getHeight() + "px";
          f && (a.src = f);
        }
      }
    };
    b.prototype.show = function() {
      c.prototype.show.call(this);
      window.addEventListener("message", this._messageListener);
      this._campaign.hasCompanionAd() && this._handlers.forEach(function(a) {
        return a.onVPAIDCompanionView();
      });
    };
    b.prototype.hide = function() {
      this._iframe.contentWindow.postMessage({type:"destroy"}, "*");
      window.removeEventListener("message", this._messageListener);
      c.prototype.hide.call(this);
      this._stuckTimer.stop();
    };
    b.prototype.showAd = function() {
      this._container.removeChild(this._loadingScreen);
      this._iframe.contentWindow.postMessage({type:"show"}, "*");
      this._stuckTimer.start();
    };
    b.prototype.pauseAd = function() {
      this._isPaused = !0;
      this._iframe.contentWindow.postMessage({type:"pause"}, "*");
      this._stuckTimer.stop();
    };
    b.prototype.resumeAd = function() {
      this._isPaused = !1;
      this._iframe.contentWindow.postMessage({type:"resume"}, "*");
      this._stuckTimer.start();
    };
    b.prototype.onMessage = function(a) {
      switch(a.data.type) {
        case "progress":
          this._handlers.forEach(function(b) {
            return b.onVPAIDProgress(a.data.adDuration, a.data.adRemainingTime);
          });
          this._isPaused || this._stuckTimer.reset();
          break;
        case "VPAID":
          this._handlers.forEach(function(b) {
            return b.onVPAIDEvent(a.data.eventType, a.data.args);
          });
          break;
        case "ready":
          this.onVPAIDContainerReady();
          break;
        default:
          this._nativeBridge.Sdk.logWarning("VPAID Unknown message type " + a.data.type);
      }
    };
    b.prototype.onVPAIDContainerReady = function() {
      var a = this.getInitAdOptions();
      this._iframe.contentWindow.postMessage(nf({}, a, {type:"init"}), "*");
    };
    b.prototype.getInitAdOptions = function() {
      return {width:this._container.clientWidth, height:this._container.clientHeight, bitrate:500, viewMode:"normal", creativeData:{AdParameters:this._campaign.getVPAID().getCreativeParameters()}};
    };
    b.stuckDelay = 5E3;
    return b;
  }(ja), pf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), qf = function(c) {
    function b(a, d) {
      var f = c.call(this, a, d) || this;
      f._focusManager = d.focusManager;
      f._vpaidCampaign = d.campaign;
      f._operativeEventManager = d.operativeEventManager;
      f._thirdPartyEventManager = d.thirdPartyEventManager;
      f._options = d.options;
      f._view = d.vpaid;
      f._overlay = d.overlay;
      f._placement = d.placement;
      f._overlay.render();
      f._overlay.setFadeEnabled(!0);
      f._overlay.setSkipEnabled(!1);
      f._overlay.setMuteEnabled(!1);
      a = f._overlay.container();
      a.style.position = "absolute";
      a.style.top = "0px";
      a.style.left = "0px";
      document.body.appendChild(a);
      f._placement.allowSkip() && (d.overlay.setSkipEnabled(!0), d.overlay.setSkipDuration(f._placement.allowSkipInSeconds()));
      f._vpaidCampaign.hasEndScreen() && d.endScreen && (d.endScreen.render(), d.endScreen.hide(), document.body.appendChild(d.endScreen.container()));
      f._timer = new xb(function() {
        return f.onAdUnitNotLoaded();
      }, b._adLoadTimeout);
      f._onAppBackgroundHandler = function() {
        return f.onAppBackground();
      };
      f._onAppForegroundHandler = function() {
        return f.onAppForeground();
      };
      f._view.render();
      return f;
    }
    pf(b, c);
    b.setAdLoadTimeout = function(a) {
      b._adLoadTimeout = a;
    };
    b.prototype.show = function() {
      this.onShow();
      this.showView();
      return this._container.open(this, !1, !1, this._forceOrientation, !1, !1, !0, !1, this._options);
    };
    b.prototype.hide = function() {
      this.onHide();
      this.hideView();
      return this._container.close();
    };
    b.prototype.description = function() {
      return "vpaid";
    };
    b.prototype.isCached = function() {
      return !1;
    };
    b.prototype.getAdUnitNotLoadedTimer = function() {
      return this._timer;
    };
    b.prototype.openUrl = function(a) {
      a && p.isProtocolWhitelisted(a) && (this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.UrlScheme.open(a) : this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:a}));
    };
    b.prototype.sendTrackingEvent = function(a) {
      for (var b = 0, c = this._vpaidCampaign.getTrackingEventUrls(a); b < c.length; b++) {
        this.sendThirdPartyEvent("vpaid " + a, c[b]);
      }
    };
    b.prototype.sendImpressionTracking = function() {
      var a = this._vpaidCampaign.getImpressionUrls();
      if (a) {
        for (var b = 0; b < a.length; b++) {
          this.sendThirdPartyEvent("vpaid impression", a[b]);
        }
      }
    };
    b.prototype.sendThirdPartyEvent = function(a, b) {
      var d = this._vpaidCampaign.getSession().getId(), c = this._operativeEventManager.getClientInfo().getSdkVersion();
      b = b.replace(/%ZONE%/, this._placement.getId());
      b = b.replace(/%SDK_VERSION%/, c.toString());
      this._thirdPartyEventManager.sendEvent(a, d, b, this._vpaidCampaign.getUseWebViewUserAgentForTracking());
    };
    b.prototype.onAdUnitNotLoaded = function() {
      this.setFinishState(u.ERROR);
      t.trigger("vpaid_load_timeout", new H(Error("VPAID failed to load within timeout"), {id:this._vpaidCampaign.getId()}), this._vpaidCampaign.getSession());
      this.hide();
    };
    b.prototype.onShow = function() {
      this.setShowing(!0);
      this.onStart.trigger();
      this._timer.start();
      this._nativeBridge.getPlatform() === h.IOS ? (this._focusManager.onAppForeground.subscribe(this._onAppForegroundHandler), this._focusManager.onAppBackground.subscribe(this._onAppBackgroundHandler)) : (this._container.onShow.subscribe(this._onAppForegroundHandler), this._container.onAndroidPause.subscribe(this._onAppBackgroundHandler));
    };
    b.prototype.onHide = function() {
      this._overlay.container().parentElement.removeChild(this._overlay.container());
      this._timer.stop();
      this.setShowing(!1);
      this._nativeBridge.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
      this.onClose.trigger();
      this._nativeBridge.getPlatform() === h.IOS ? (this._focusManager.onAppForeground.unsubscribe(this._onAppForegroundHandler), this._focusManager.onAppBackground.unsubscribe(this._onAppBackgroundHandler)) : (this._container.onShow.unsubscribe(this._onAppForegroundHandler), this._container.onAndroidPause.unsubscribe(this._onAppBackgroundHandler));
    };
    b.prototype.showView = function() {
      this._view.show();
      document.body.appendChild(this._view.container());
    };
    b.prototype.hideView = function() {
      this._view.hide();
      document.body.removeChild(this._view.container());
    };
    b.prototype.onAppForeground = function() {
      this._view.resumeAd();
    };
    b.prototype.onAppBackground = function() {
      this._view.pauseAd();
    };
    b._adLoadTimeout = 1E4;
    return b;
  }(I), ac = function() {
    function c(b, a, d) {
      this._nativeBridge = b;
      this._operativeEventManager = d.operativeEventManager;
      this._comScoreTrackingService = d.comScoreTrackingService;
      this._abGroup = d.campaign.getAbGroup();
      this._adUnit = a;
      this._campaign = d.campaign;
      this._placement = d.placement;
    }
    c.prototype.onOverlaySkip = function() {
      this._nativeBridge.VideoPlayer.pause();
      this._adUnit.setActive(!1);
      this._adUnit.setFinishState(u.SKIPPED);
      this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign, this._adUnit.getVideo().getPosition(), this.getVideoOrientation());
      this.sendComscoreEvent();
      this._adUnit.getContainer().reconfigure(0);
      var b = this._adUnit.getOverlay();
      b && b.hide();
      this._adUnit.onFinish.trigger();
    };
    c.prototype.onOverlayMute = function(b) {
      this._nativeBridge.VideoPlayer.setVolume(new ea(b ? 0.0 : 1.0));
    };
    c.prototype.onOverlayCallButton = function() {
    };
    c.prototype.onOverlayPauseForTesting = function() {
    };
    c.prototype.onOverlayClose = function() {
      this._nativeBridge.VideoPlayer.pause();
      this._adUnit.setActive(!1);
      this._adUnit.setFinishState(u.SKIPPED);
      this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign, this._adUnit.getVideo().getPosition(), this.getVideoOrientation());
      this._adUnit.onFinish.trigger();
      this._adUnit.hide();
    };
    c.prototype.getVideoOrientation = function() {
      if (this._adUnit instanceof gb) {
        return this._adUnit.getVideoOrientation();
      }
    };
    c.prototype.sendComscoreEvent = function() {
      var b = this._campaign.getSession().getId(), a = this._adUnit.getVideo().getPosition(), d = this._adUnit.getVideo().getDuration().toString(10), c = this._campaign.getCreativeId(), g = this._campaign.getCategory(), e = this._campaign.getSubCategory();
      this._comScoreTrackingService.sendEvent("end", b, d, a, c, g, e);
    };
    return c;
  }(), rf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), sf = function(c) {
    function b(a, b, f) {
      a = c.call(this, a, b, f) || this;
      a._performanceAdUnit = b;
      a._performanceOperativeEventManger = f.operativeEventManager;
      a._performanceCampaign = f.campaign;
      return a;
    }
    rf(b, c);
    b.prototype.onOverlaySkip = function(a) {
      c.prototype.onOverlaySkip.call(this, a);
      (a = this._performanceAdUnit.getEndScreen()) && a.show();
      this._performanceAdUnit.onFinish.trigger();
    };
    return b;
  }(ac), tf = function() {
    function c(b, a, d) {
      this._nativeBridge = b;
      this._adUnit = a;
      this._clientInfo = d.clientInfo;
      this._request = d.request;
      this._campaign = d.campaign;
    }
    c.prototype.onVastEndScreenClick = function() {
      var b = this, a = this._nativeBridge.getPlatform(), d = this._adUnit.getCompanionClickThroughUrl() || this._adUnit.getVideoClickThroughURL();
      this._adUnit.sendTrackingEvent("videoEndCardClick", this._campaign.getSession().getId(), this._clientInfo.getSdkVersion());
      return d ? this._request.followRedirectChain(d).then(function(d) {
        a === h.IOS ? b._nativeBridge.UrlScheme.open(d) : b._nativeBridge.getPlatform() === h.ANDROID && b._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:d});
      }) : Promise.reject(Error("There is no clickthrough URL for video or companion"));
    };
    c.prototype.onVastEndScreenClose = function() {
      this._adUnit.hide();
    };
    c.prototype.onKeyEvent = function(b) {
      4 === b && this._adUnit.isShowing() && !this._adUnit.isActive() && this._adUnit.hide();
    };
    c.prototype.onVastEndScreenShow = function() {
      this._adUnit.sendCompanionTrackingEvent(this._campaign.getSession().getId(), this._clientInfo.getSdkVersion());
    };
    c.prototype.onEndScreenPrivacy = function(b) {
      this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.UrlScheme.open(b) : this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:b});
    };
    return c;
  }(), uf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), vf = function(c) {
    function b(a, b, f) {
      a = c.call(this, a, b, f) || this;
      a._paused = !1;
      a._vastAdUnit = b;
      a._request = f.request;
      a._clientInfo = f.clientInfo;
      a._vastCampaign = f.campaign;
      a._placement = f.placement;
      return a;
    }
    uf(b, c);
    b.prototype.onOverlaySkip = function(a) {
      c.prototype.onOverlaySkip.call(this, a);
      (a = this._vastAdUnit.getEndScreen()) ? (a.show(), this._vastAdUnit.onFinish.trigger()) : this._vastAdUnit.hide();
    };
    b.prototype.onOverlayMute = function(a) {
      c.prototype.onOverlayMute.call(this, a);
      if (a) {
        if (a = this._vastAdUnit.getMoat()) {
          a.triggerVideoEvent("AdVolumeChange", 0), a.triggerViewabilityEvent("volume", 0.0);
        }
        this._vastAdUnit.sendTrackingEvent("mute", this._vastCampaign.getSession().getId(), this._clientInfo.getSdkVersion());
      } else {
        if (a = this._vastAdUnit.getMoat()) {
          a.triggerVideoEvent("AdVolumeChange", this._vastAdUnit.getVolume()), a.triggerViewabilityEvent("volume", 100 * this._vastAdUnit.getVolume());
        }
        this._vastAdUnit.sendTrackingEvent("unmute", this._vastCampaign.getSession().getId(), this._clientInfo.getSdkVersion());
      }
    };
    b.prototype.onOverlayCallButton = function() {
      var a = this;
      c.prototype.onOverlayCallButton.call(this);
      this._nativeBridge.Listener.sendClickEvent(this._placement.getId());
      this._vastAdUnit.sendVideoClickTrackingEvent(this._vastCampaign.getSession().getId(), this._clientInfo.getSdkVersion());
      var b = this._vastAdUnit.getVideoClickThroughURL();
      return b ? this._request.followRedirectChain(b).then(function(b) {
        a._nativeBridge.getPlatform() === h.IOS ? a._nativeBridge.UrlScheme.open(b) : a._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:b});
      }) : Promise.reject(Error("No clickThroughURL was defined"));
    };
    b.prototype.onOverlayPauseForTesting = function() {
      if (this._paused) {
        this._nativeBridge.getPlatform() === h.IOS && this._vastAdUnit.getContainer().unPause();
        this._nativeBridge.VideoPlayer.play();
        var a = this._vastAdUnit.getMoat();
        a && (a.triggerViewabilityEvent("exposure", !0), a.triggerVideoEvent("AdPlaying", this._vastAdUnit.getVolume()));
        this._paused = !1;
      } else {
        this._nativeBridge.getPlatform() === h.IOS && this._vastAdUnit.getContainer().pause(), this._nativeBridge.VideoPlayer.pause(), this._paused = !0;
      }
    };
    return b;
  }(ac), wf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), xf = function(c) {
    function b(a, b, f) {
      var d = c.call(this, a, "end-screen") || this;
      d._isSwipeToCloseEnabled = !1;
      d._template = new S('<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><a class="btn-close brand"><span class="icon-close"></span></a></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-landscape brand" style="background-image: url(<%= data.endScreenLandscape %>)"></div><div class="game-background game-background-portrait brand" style="background-image: url(<%= data.endScreenPortrait %>)"></div></div><div class="privacy-button"><span class="icon-info"></span></div>');
      b && (a = b.getCompanionLandscapeUrl(), b = b.getCompanionPortraitUrl(), d._templateData = {endScreenLandscape:a ? a : b ? b : void 0, endScreenPortrait:b ? b : a ? a : void 0});
      d._bindings = [{event:"click", listener:function(a) {
        return d.onClickEvent(a);
      }, selector:".game-background"}, {event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".btn-close-region"}];
      if ("1300023" === f || "1300024" === f) {
        d._isSwipeToCloseEnabled = !0, d._bindings.push({event:"swipe", listener:function(a) {
          return d.onCloseEvent(a);
        }, selector:".campaign-container, .game-background"});
      }
      return d;
    }
    wf(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      this._isSwipeToCloseEnabled && (this._container.querySelector(".btn-close-region").style.display = "none");
    };
    b.prototype.show = function() {
      var a = this;
      c.prototype.show.call(this);
      this._handlers.forEach(function(a) {
        return a.onVPAIDEndScreenShow();
      });
      I.getAutoClose() && setTimeout(function() {
        a._handlers.forEach(function(a) {
          return a.onVPAIDEndScreenClose();
        });
      }, I.getAutoCloseDelay());
    };
    b.prototype.remove = function() {
      this.container().parentElement.removeChild(this.container());
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onVPAIDEndScreenClose();
      });
    };
    b.prototype.onClickEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onVPAIDEndScreenClick();
      });
    };
    return b;
  }(ja), yf = function() {
    function c(b, a, d) {
      this._adUnit = a;
      this._vpaidCampaign = d.campaign;
    }
    c.prototype.onVPAIDEndScreenClick = function() {
      var b = this.getCompanionClickThroughURL() || this.getClickThroughURL();
      this._adUnit.openUrl(b);
    };
    c.prototype.onVPAIDEndScreenClose = function() {
      this._adUnit.hide();
    };
    c.prototype.onVPAIDEndScreenShow = function() {
    };
    c.prototype.getCompanionClickThroughURL = function() {
      return this._vpaidCampaign.getCompanionClickThroughURL();
    };
    c.prototype.getClickThroughURL = function() {
      return this._vpaidCampaign.getVideoClickThroughURL();
    };
    return c;
  }(), zf = function() {
    function c(b, a, d) {
      this._vpaidEventHandlers = {};
      this._adRemainingTime = this._adDuration = -2;
      this._nativeBridge = b;
      this._operativeEventManager = d.operativeEventManager;
      this._thirdPartyEventManager = d.thirdPartyEventManager;
      this._comScoreTrackingService = d.comScoreTrackingService;
      this._adUnit = a;
      this._vpaidCampaign = d.campaign;
      this._placement = d.placement;
      this._vpaidView = d.vpaid;
      this._overlay = d.overlay;
      this._vpaidEndScreen = d.endScreen;
      this._abGroup = d.campaign.getAbGroup();
      this._campaign = d.campaign;
      this._vpaidEventHandlers.AdError = this.onAdError;
      this._vpaidEventHandlers.AdLoaded = this.onAdLoaded;
      this._vpaidEventHandlers.AdStarted = this.onAdStarted;
      this._vpaidEventHandlers.AdStopped = this.onAdStopped;
      this._vpaidEventHandlers.AdSkipped = this.onAdSkipped;
      this._vpaidEventHandlers.AdImpression = this.onAdImpression;
      this._vpaidEventHandlers.AdVideoStart = this.onAdVideoStart;
      this._vpaidEventHandlers.AdVideoFirstQuartile = this.onAdVideoFirstQuartile;
      this._vpaidEventHandlers.AdVideoMidpoint = this.onAdVideoMidpoint;
      this._vpaidEventHandlers.AdVideoThirdQuartile = this.onAdVideoThirdQuartile;
      this._vpaidEventHandlers.AdVideoComplete = this.onAdVideoComplete;
      this._vpaidEventHandlers.AdPaused = this.onAdPaused;
      this._vpaidEventHandlers.AdPlaying = this.onAdPlaying;
      this._vpaidEventHandlers.AdClickThru = this.onAdClickThru;
      this._vpaidEventHandlers.AdDurationChange = this.onAdDurationChange;
    }
    c.prototype.onVPAIDEvent = function(b, a) {
      this._nativeBridge.Sdk.logInfo("vpaid event " + b + " with args " + (a && a.length ? a.join(" ") : "None"));
      (b = this._vpaidEventHandlers[b]) && b.apply(this, a);
    };
    c.prototype.onVPAIDCompanionClick = function() {
      var b = this.getCompanionClickThroughURL() || this.getClickThroughURL();
      this._adUnit.openUrl(b);
    };
    c.prototype.onVPAIDCompanionView = function() {
      var b = this._vpaidCampaign.getCompanionAd();
      if (b) {
        var a = 0;
        for (b = b.getEventTrackingUrls("creativeView"); a < b.length; a++) {
          this._adUnit.sendThirdPartyEvent("vpaid companion creativeView", b[a]);
        }
      }
    };
    c.prototype.onVPAIDStuck = function() {
      t.trigger("vpaid_ad_stuck", new H(Error("Ad playback stuck"), {campaignId:this._vpaidCampaign.getId()}));
      this._adUnit.setFinishState(u.ERROR);
      this._adUnit.hide();
    };
    c.prototype.onVPAIDSkip = function() {
      this.onAdSkipped();
    };
    c.prototype.onVPAIDProgress = function(b, a) {
      this._adDuration = b;
      this._adRemainingTime = a;
      b && -2 !== b && a && -2 !== a ? (this._overlay.setVideoDurationEnabled(!0), this._overlay.setVideoDuration(1000 * b), this._overlay.setVideoProgress(1000 * (b - a))) : this._overlay.setVideoDurationEnabled(!1);
    };
    c.prototype.getDuration = function() {
      return this._adDuration;
    };
    c.prototype.getPlayTime = function() {
      return 1000 * (this._adDuration - this._adRemainingTime);
    };
    c.prototype.onAdLoaded = function() {
      this._adUnit.getAdUnitNotLoadedTimer().stop();
      this.onVPAIDProgress(this._adDuration, this._adRemainingTime);
      this._vpaidView.showAd();
    };
    c.prototype.onAdError = function() {
      this._adUnit.sendTrackingEvent("error");
      this._adUnit.setFinishState(u.ERROR);
      this._adUnit.hide();
    };
    c.prototype.onAdSkipped = function() {
      this._adUnit.sendTrackingEvent("skip");
      this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign);
      this._adUnit.setFinishState(u.SKIPPED);
      this._adUnit.hide();
    };
    c.prototype.onAdStopped = function() {
      this._vpaidCampaign.hasEndScreen() && this._vpaidEndScreen ? this._vpaidEndScreen.show() : this._adUnit.hide();
    };
    c.prototype.onAdStarted = function() {
      var b = this;
      this._nativeBridge.Listener.sendStartEvent(this._placement.getId());
      this._adUnit.sendTrackingEvent("creativeView");
      this._operativeEventManager.sendStart(this._campaign.getSession(), this._placement, this._campaign).then(function() {
        b._adUnit.onStartProcessed.trigger();
      });
      this.sendComscoreEvent("play", 0);
    };
    c.prototype.onAdImpression = function() {
      this._adUnit.sendTrackingEvent("impression");
      this._adUnit.sendImpressionTracking();
    };
    c.prototype.onAdVideoStart = function() {
      this._adUnit.sendTrackingEvent("start");
    };
    c.prototype.onAdVideoFirstQuartile = function() {
      this._adUnit.sendTrackingEvent("firstQuartile");
      this._operativeEventManager.sendFirstQuartile(this._campaign.getSession(), this._placement, this._campaign);
    };
    c.prototype.onAdVideoMidpoint = function() {
      this._adUnit.sendTrackingEvent("midpoint");
      this._operativeEventManager.sendMidpoint(this._campaign.getSession(), this._placement, this._campaign);
    };
    c.prototype.onAdVideoThirdQuartile = function() {
      this._adUnit.sendTrackingEvent("thirdQuartile");
      this._operativeEventManager.sendThirdQuartile(this._campaign.getSession(), this._placement, this._campaign);
    };
    c.prototype.onAdVideoComplete = function() {
      this._adUnit.sendTrackingEvent("complete");
      this._adUnit.setFinishState(u.COMPLETED);
      this._operativeEventManager.sendView(this._campaign.getSession(), this._placement, this._campaign);
      this.sendComscoreEvent("end", 1000 * (this._adDuration - this._adRemainingTime));
    };
    c.prototype.onAdPaused = function() {
      if (this._adUnit.getFinishState() === u.COMPLETED) {
        this.onAdStopped();
      } else {
        this._adUnit.sendTrackingEvent("paused");
      }
    };
    c.prototype.onAdPlaying = function() {
      this._adUnit.sendTrackingEvent("resume");
    };
    c.prototype.onAdClickThru = function(b, a, d) {
      this.sendClickTrackingEvents();
      d && (b ? this._adUnit.openUrl(b) : this._adUnit.openUrl(this.getClickThroughURL()));
    };
    c.prototype.onAdDurationChange = function() {
      this.onVPAIDProgress(this._adDuration, this._adRemainingTime);
    };
    c.prototype.getCompanionClickThroughURL = function() {
      return this._vpaidCampaign.getCompanionClickThroughURL();
    };
    c.prototype.getClickThroughURL = function() {
      return this._vpaidCampaign.getVideoClickThroughURL();
    };
    c.prototype.sendClickTrackingEvents = function() {
      for (var b = 0, a = this._vpaidCampaign.getVideoClickTrackingURLs(); b < a.length; b++) {
        this._adUnit.sendThirdPartyEvent("vpaid video click", a[b]);
      }
    };
    c.prototype.sendComscoreEvent = function(b, a) {
      var d = this._campaign.getSession().getId(), c = this._campaign.getCreativeId(), g = this._campaign.getCategory(), e = this._campaign.getSubCategory(), k = 1000 * this._adDuration;
      if (0 > k || "undefined" === typeof k) {
        k = 0;
      }
      this._comScoreTrackingService.sendEvent(b, d, k.toString(10), a, c, g, e);
    };
    return c;
  }(), Af = function() {
    function c(b, a, d) {
      this._adUnit = a;
      this._operativeEventManager = d.operativeEventManager;
      this._comScoreTrackingService = d.comScoreTrackingService;
      this._abGroup = d.campaign.getAbGroup();
      this._campaign = d.campaign;
      this._placement = d.placement;
    }
    c.prototype.onOverlaySkip = function() {
      this._adUnit.sendTrackingEvent("skip");
      this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign);
      this.sendComscoreEvent("end", 0);
      this._adUnit.setFinishState(u.SKIPPED);
      this._adUnit.hide();
    };
    c.prototype.onOverlayMute = function() {
    };
    c.prototype.onOverlayCallButton = function() {
    };
    c.prototype.onOverlayPauseForTesting = function() {
    };
    c.prototype.onOverlayClose = function() {
      this._adUnit.sendTrackingEvent("skip");
      this._operativeEventManager.sendSkip(this._campaign.getSession(), this._placement, this._campaign);
      this._adUnit.setFinishState(u.SKIPPED);
      this._adUnit.hide();
    };
    c.prototype.sendComscoreEvent = function(b, a) {
      var d = this._campaign.getSession().getId(), c = this._campaign.getCreativeId(), g = this._campaign.getCategory(), e = this._campaign.getSubCategory();
      this._comScoreTrackingService.sendEvent(b, d, (0).toString(10), a, c, g, e);
    };
    return c;
  }(), Bf = function() {
    function c(b, a, d) {
      this._nativeBridge = b;
      this._operativeEventManager = d.operativeEventManager;
      this._thirdPartyEventManager = d.thirdPartyEventManager;
      this._adUnit = a;
      this._clientInfo = d.clientInfo;
      this._deviceInfo = d.deviceInfo;
      this._campaign = d.campaign;
      this._placement = d.placement;
      this._request = d.request;
    }
    c.prototype.onMraidClick = function(b) {
      var a = this;
      this._nativeBridge.Listener.sendClickEvent(this._placement.getId());
      this._campaign.getSession().getEventSent(F.THIRD_QUARTILE) || this._operativeEventManager.sendThirdQuartile(this._campaign.getSession(), this._placement, this._campaign);
      this._campaign.getSession().getEventSent(F.VIEW) || this._operativeEventManager.sendView(this._campaign.getSession(), this._placement, this._campaign);
      this._campaign.getSession().getEventSent(F.CLICK) || this._operativeEventManager.sendClick(this._campaign.getSession(), this._placement, this._campaign);
      this._adUnit.sendClick();
      if (this._campaign.getClickAttributionUrl()) {
        if (this.handleClickAttribution(), !this._campaign.getClickAttributionUrlFollowsRedirects()) {
          return this.followUrl(b).then(function(b) {
            a.openUrl(b);
          });
        }
      } else {
        return this.followUrl(b).then(function(b) {
          a.openUrl(b);
        });
      }
      return Promise.resolve();
    };
    c.prototype.onMraidReward = function() {
      this._operativeEventManager.sendThirdQuartile(this._campaign.getSession(), this._placement, this._campaign);
    };
    c.prototype.onMraidSkip = function() {
      this._adUnit.setFinishState(u.SKIPPED);
      this._adUnit.hide();
    };
    c.prototype.onMraidClose = function() {
      this._adUnit.setFinishState(u.COMPLETED);
      this._adUnit.hide();
    };
    c.prototype.onMraidOrientationProperties = function(b) {
      this._adUnit.isShowing() ? this._nativeBridge.getPlatform() === h.IOS ? this._adUnit.getContainer().reorient(!0, b.forceOrientation) : this._adUnit.getContainer().reorient(b.allowOrientationChange, b.forceOrientation) : this._adUnit.setOrientationProperties(b);
    };
    c.prototype.onMraidAnalyticsEvent = function(b, a, d, c, g) {
      var f = {};
      f.type = c;
      f.eventData = g;
      f.timeFromShow = b;
      f.timeFromPlayableStart = a;
      f.backgroundTime = d;
      if (b = this._campaign.getResourceUrl()) {
        f.url = b.getOriginalUrl();
      }
      aa.sendEvent("events.playable.json", f);
    };
    c.prototype.onMraidShowEndScreen = function() {
      var b = this._adUnit.getEndScreen();
      b && (this._adUnit.setShowingMRAID(!1), this._adUnit.getMRAIDView().hide(), b.show());
    };
    c.prototype.onMraidPrivacy = function(b) {
      this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.UrlScheme.open(b) : this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:b});
    };
    c.prototype.handleClickAttribution = function() {
      var b = this, a = this._campaign.getClickAttributionUrl();
      this._campaign.getClickAttributionUrlFollowsRedirects() && a ? this._thirdPartyEventManager.clickAttributionEvent(a, !0).then(function(a) {
        var d = Ja.getHeader(a.headers, "location");
        d ? b.openUrl(d) : t.trigger("mraid_click_attribution_misconfigured", {url:b._campaign.getClickAttributionUrl(), followsRedirects:b._campaign.getClickAttributionUrlFollowsRedirects(), response:a});
      }).catch(function(a) {
        a instanceof ya && (a = new H(Error(a.message), {request:a.nativeRequest, auctionId:b._campaign.getSession().getId(), url:b._campaign.getClickAttributionUrl(), response:a.nativeResponse}));
        t.trigger("mraid_click_attribution_failed", a);
      }) : a && this._thirdPartyEventManager.clickAttributionEvent(a, !1);
    };
    c.prototype.openUrl = function(b) {
      this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.UrlScheme.open(b) : this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:b});
    };
    c.prototype.followUrl = function(b) {
      return this._request.followRedirectChain(b);
    };
    return c;
  }(), Cf = function() {
    function c(b, a, d) {
      this._nativeBridge = b;
      this._operativeEventManager = d.operativeEventManager;
      this._adUnit = a;
      this._campaign = d.campaign;
      this._placement = d.placement;
    }
    c.prototype.onDisplayInterstitialClick = function(b) {
      this._adUnit.openLink(b);
    };
    c.prototype.onDisplayInterstitialReward = function() {
    };
    c.prototype.onDisplayInterstitialSkip = function() {
      this.onDisplayInterstitialClose();
    };
    c.prototype.onDisplayInterstitialClose = function() {
      this._operativeEventManager.sendThirdQuartile(this._campaign.getSession(), this._placement, this._campaign);
      this._operativeEventManager.sendView(this._campaign.getSession(), this._placement, this._campaign);
      this._adUnit.hide();
    };
    return c;
  }(), Df = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), bc = function(c) {
    function b(a, b, f, g, e, k) {
      var d = c.call(this, a, "end-screen") || this;
      d._isSwipeToCloseEnabled = !1;
      d._coppaCompliant = b;
      d._localization = new ib(f, "endscreen");
      d._abGroup = k;
      d._gameName = e;
      "combined-end-screen" === d.getEndscreenAlt() ? d._template = new S('<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><span class="icon-close"></span></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="underlay" style="background-image: url(<%= data.endScreenLandscape && data.endScreenLandscape.replace("file://", "") %>)"></div><div class="game-background game-background-landscape" style="background-image: url(<%= data.endScreenLandscape && data.endScreenLandscape.replace("file://", "") %>)"></div><div class="game-background game-background-portrait" style="background-image: url(<%= data.endScreenPortrait && data.endScreenPortrait.replace("file://", "") %>)"></div><div class="end-screen-info-background">\x3c!--TODO: Is it in use?--\x3e\x3c!--<div class="end-screen-stripe"></div>--\x3e<div class="end-screen-info"><div class="row-container"><div class="game-icon" style="background-image: url(<%= data.gameIcon && data.gameIcon.replace("file://", "") %>)"></div><div class="column-container"><div class="name-container"><%= data.gameName %></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div></div></div><div class="download-container"><span class="download-text"><%= data.t("Download For Free") %></span></div></div><div class="privacy-button"><span class="icon-info"></span></div><div class="unityads-logo"></div></div></div>', 
      d._localization) : d._template = new S('<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><span class="icon-close"></span></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-landscape" style="background-image: url(<%= data.endScreenLandscape && data.endScreenLandscape.replace("file://", "") %>)"></div><div class="game-background game-background-portrait" style="background-image: url(<%= data.endScreenPortrait && data.endScreenPortrait.replace("file://", "") %>)"></div><div class="end-screen-info-background">\x3c!--TODO: Is it in use?--\x3e\x3c!--<div class="end-screen-stripe"></div>--\x3e<div class="end-screen-info"><div class="row-container"><div class="game-icon" style="background-image: url(<%= data.gameIcon && data.gameIcon.replace("file://", "") %>)"></div><div class="column-container"><div class="name-container"><%= data.gameName %></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div></div></div><div class="download-container"><span class="download-text"><%= data.t("Download For Free") %></span></div></div><div class="privacy-button"><span class="icon-info"></span></div><div class="unityads-logo"></div></div></div>', 
      d._localization);
      d._bindings = [{event:"click", listener:function(a) {
        return d.onDownloadEvent(a);
      }, selector:".game-background, .download-container, .game-icon"}, {event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".btn-close-region"}, {event:"click", listener:function(a) {
        return d.onPrivacyEvent(a);
      }, selector:".privacy-button"}];
      if ("1300023" === g || "1300024" === g) {
        d._isSwipeToCloseEnabled = !0, d._bindings.push({event:"swipe", listener:function(a) {
          return d.onCloseEvent(a);
        }, selector:".campaign-container, .game-background, .btn.download"});
      }
      return d;
    }
    Df(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      this._isSwipeToCloseEnabled && (this._container.querySelector(".btn-close-region").style.display = "none");
      var a = this.getEndscreenAlt();
      "string" === typeof a && (this._container.classList.add(a), 10 !== this._abGroup && 11 !== this._abGroup || this._container.classList.add("gold"));
    };
    b.prototype.show = function() {
      var a = this;
      c.prototype.show.call(this);
      this._container.querySelector(".name-container").innerHTML = this._gameName + " ";
      I.getAutoClose() && setTimeout(function() {
        a._handlers.forEach(function(a) {
          return a.onEndScreenClose();
        });
      }, I.getAutoCloseDelay());
      if ("combined-end-screen" === this.getEndscreenAlt()) {
        var b = this._container.querySelector(".underlay"), f = window.getComputedStyle(b);
        (["filter", "webkitFilter", "-webkit-filter"].filter(function(a) {
          return f.hasOwnProperty(a) && f.getPropertyValue(a) && "none" !== f.getPropertyValue(a);
        }) || []).length || this._container.classList.add("filter-fallback");
      }
    };
    b.prototype.hide = function() {
      c.prototype.hide.call(this);
      this._privacy && (this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()), delete this._privacy);
    };
    b.prototype.onPrivacyClose = function() {
      this._privacy && (this._privacy.removeEventHandler(this), this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()), delete this._privacy);
    };
    b.prototype.onPrivacy = function(a) {
      this._handlers.forEach(function(b) {
        return b.onEndScreenPrivacy(a);
      });
    };
    b.prototype.getEndscreenAlt = function() {
      if (8 === this._abGroup || 9 === this._abGroup || 10 === this._abGroup || 11 === this._abGroup) {
        return "combined-end-screen";
      }
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onEndScreenClose();
      });
    };
    b.prototype.onPrivacyEvent = function(a) {
      a.preventDefault();
      this._privacy = new hb(this._nativeBridge, this._coppaCompliant);
      this._privacy.render();
      document.body.appendChild(this._privacy.container());
      this._privacy.addEventHandler(this);
    };
    return b;
  }(ja), Ef = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Ff = function(c) {
    function b(a, b, f, g, e) {
      a = c.call(this, a, f, g, e, b.getGameName(), b.getAbGroup()) || this;
      f = 20 * b.getRating();
      a._templateData = {gameName:b.getGameName(), gameIcon:b.getGameIcon().getUrl(), endScreenLandscape:b.getPortrait().getUrl(), endScreenPortrait:b.getLandscape().getUrl(), rating:f.toString(), ratingCount:a._localization.abbreviate(b.getRatingCount()), endscreenAlt:a.getEndscreenAlt(b)};
      a._campaign = b;
      return a;
    }
    Ef(b, c);
    b.prototype.onDownloadEvent = function(a) {
      var b = this;
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onEndScreenDownload({clickAttributionUrl:b._campaign.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:b._campaign.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:b._campaign.getBypassAppSheet(), appStoreId:b._campaign.getAppStoreId(), store:b._campaign.getStore(), gamerId:b._campaign.getGamerId()});
      });
    };
    return b;
  }(bc), Gf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (b[d] = a[d]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Hf = function(c) {
    function b(a, b, f, g, e) {
      a = c.call(this, a, f, g, e, b.getGameName(), b.getAbGroup()) || this;
      a._campaign = b;
      a._templateData = {gameName:b.getGameName(), endscreenAlt:a.getEndscreenAlt(b)};
      if (f = b.getGameIcon()) {
        a._templateData.gameIcon = f.getUrl();
      }
      if (f = b.getRating()) {
        a._templateData.rating = (20 * f).toString();
      }
      if (f = b.getRatingCount()) {
        a._templateData.ratingCount = a._localization.abbreviate(f);
      }
      if (f = b.getPortrait()) {
        a._templateData.endScreenLandscape = f.getUrl();
      }
      if (b = b.getLandscape()) {
        a._templateData.endScreenPortrait = b.getUrl();
      }
      return a;
    }
    Gf(b, c);
    b.prototype.onDownloadEvent = function(a) {
      var b = this;
      a.preventDefault();
      this._handlers.forEach(function(a) {
        return a.onEndScreenDownload({clickAttributionUrl:b._campaign.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:b._campaign.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:b._campaign.getBypassAppSheet(), appStoreId:b._campaign.getAppStoreId(), store:b._campaign.getStore(), gamerId:b._campaign.getGamerId()});
      });
    };
    return b;
  }(bc), cc = function() {
    function c(b, a, c) {
      this._nativeBridge = b;
      this._operativeEventManager = c.operativeEventManager;
      this._thirdPartyEventManager = c.thirdPartyEventManager;
      this._adUnit = a;
      this._clientInfo = c.clientInfo;
      this._deviceInfo = c.deviceInfo;
      this._placement = c.placement;
      this._campaign = c.campaign;
    }
    c.prototype.onEndScreenDownload = function(b) {
      if (this._nativeBridge.getPlatform() === h.IOS) {
        this.onDownloadIos(b);
      } else {
        if (this._nativeBridge.getPlatform() === h.ANDROID) {
          this.onDownloadAndroid(b);
        }
      }
    };
    c.prototype.onEndScreenPrivacy = function(b) {
      this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.UrlScheme.open(b) : this._nativeBridge.getPlatform() === h.ANDROID && this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:b});
    };
    c.prototype.onEndScreenClose = function() {
      this._adUnit.hide();
    };
    c.prototype.onDownloadAndroid = function(b) {
      this._nativeBridge.Listener.sendClickEvent(this._placement.getId());
      this._operativeEventManager.sendClick(this._campaign.getSession(), this._placement, this._campaign, this.getVideoOrientation());
      b.clickAttributionUrl ? (this.handleClickAttribution(b), b.clickAttributionUrlFollowsRedirects || this.openAppStore(b)) : this.openAppStore(b);
    };
    c.prototype.onDownloadIos = function(b) {
      this._nativeBridge.Listener.sendClickEvent(this._placement.getId());
      this._operativeEventManager.sendClick(this._campaign.getSession(), this._placement, this._campaign, this.getVideoOrientation());
      b.clickAttributionUrl ? (this.handleClickAttribution(b), b.clickAttributionUrlFollowsRedirects || this.openAppStore(b, eb.isAppSheetBroken(this._deviceInfo.getOsVersion()))) : this.openAppStore(b, eb.isAppSheetBroken(this._deviceInfo.getOsVersion()));
    };
    c.prototype.handleClickAttribution = function(b) {
      var a = this, c = this._campaign.getSession(), f = this._nativeBridge.getPlatform();
      b.clickAttributionUrlFollowsRedirects && b.clickAttributionUrl ? this._thirdPartyEventManager.clickAttributionEvent(b.clickAttributionUrl, !0).then(function(c) {
        var d = Ja.getHeader(c.headers, "location");
        d ? f === h.ANDROID ? p.parse(d).pathname.match(/\.apk$/i) && 21 <= a._nativeBridge.getApiLevel() ? a._nativeBridge.Intent.launch({action:"android.intent.action.WEB_SEARCH", extras:[{key:"query", value:d}]}) : a._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:d}) : f === h.IOS && a._nativeBridge.UrlScheme.open(d) : t.trigger("click_attribution_misconfigured", {url:b.clickAttributionUrl, followsRedirects:b.clickAttributionUrlFollowsRedirects, response:c});
      }).catch(function(a) {
        a instanceof ya && (a = new H(Error(a.message), {request:a.nativeRequest, auctionId:c.getId(), url:b.clickAttributionUrl, response:a.nativeResponse}));
        t.trigger("click_attribution_failed", a);
      }) : b.clickAttributionUrl && this._thirdPartyEventManager.clickAttributionEvent(b.clickAttributionUrl, !1);
    };
    c.prototype.openAppStore = function(b, a) {
      var c = this, f = this._nativeBridge.getPlatform(), g;
      f === h.ANDROID && (g = this._clientInfo.getApplicationName());
      var e = this.getAppStoreUrl(b, g);
      e ? f === h.ANDROID ? this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:e}) : f === h.IOS && (a || b.bypassAppSheet ? this._nativeBridge.UrlScheme.open(e) : this._nativeBridge.AppSheet.canOpen().then(function(a) {
        if (a) {
          if (b.appStoreId) {
            var d = {id:parseInt(b.appStoreId, 10)};
            c._nativeBridge.AppSheet.present(d).then(function() {
              c._nativeBridge.AppSheet.destroy(d);
            }).catch(function(a) {
              "APPSHEET_NOT_FOUND" === a[0] && c._nativeBridge.UrlScheme.open(e);
            });
          } else {
            t.trigger("no_appstore_id", {message:"trying to open ios appstore without appstore id"});
          }
        } else {
          c._nativeBridge.UrlScheme.open(e);
        }
      })) : t.trigger("no_appstore_url", {message:"cannot generate appstore url"});
    };
    c.prototype.getVideoOrientation = function() {
      if (this._adUnit instanceof gb) {
        return this._adUnit.getVideoOrientation();
      }
    };
    c.prototype.getAppStoreUrl = function(b, a) {
      if (b.appStoreId) {
        switch(b.store) {
          case ma.APPLE:
            return "https://itunes.apple.com/app/id" + b.appStoreId;
          case ma.GOOGLE:
            return "market://details?id=" + b.appStoreId;
          case ma.XIAOMI:
            return "migamecenter://details?pkgname=" + b.appStoreId + "&channel=unityAds&from=" + a + "&trace=" + b.gamerId;
          default:
            return "";
        }
      }
    };
    return c;
  }(), If = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Jf = function(c) {
    function b(a, b, f) {
      return c.call(this, a, b, f) || this;
    }
    If(b, c);
    b.prototype.onKeyEvent = function(a) {
      4 === a && this._adUnit.isShowing() && !this._adUnit.isShowingMRAID() && this._adUnit.hide();
    };
    return b;
  }(cc), Kf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Lf = function(c) {
    function b(a, b, f) {
      a = c.call(this, a, b, f) || this;
      a._performanceAdUnit = b;
      a._performanceOperativeEventManager = f.operativeEventManager;
      a._performanceCampaign = f.campaign;
      return a;
    }
    Kf(b, c);
    b.prototype.onKeyEvent = function(a) {
      4 === a && this._adUnit.isShowing() && !this._adUnit.isActive() && this._adUnit.hide();
    };
    return b;
  }(cc), Mf = function() {
    function c(b) {
      var a = this;
      this._adUnit = b.adUnit;
      this._nativeBridge = b.nativeBridge;
      this._request = b.request;
      this._thirdPartyEventManager = b.thirdPartyEventManager;
      this._session = b.session;
      this._adMobSignalFactory = b.adMobSignalFactory;
      this._timeoutTimer = new xb(function() {
        return a.onFailureToLoad();
      }, c._loadTimeout);
    }
    c.setLoadTimeout = function(b) {
      c._loadTimeout = b;
    };
    c.prototype.onClose = function() {
      this._adUnit.hide();
    };
    c.prototype.onOpenURL = function(b) {
      -1 === b.indexOf("mobile-about") && this._adUnit.sendClickEvent();
      this._nativeBridge.getPlatform() === h.IOS ? this._nativeBridge.UrlScheme.open(b) : this._nativeBridge.Intent.launch({action:"android.intent.action.VIEW", uri:b});
    };
    c.prototype.onAttribution = function(b, a) {
      var c = this;
      return this.createClickUrl(b, a).then(function(a) {
        return new Promise(function(b, d) {
          c._thirdPartyEventManager.sendEvent("admob click", c._session.getId(), a, !0).then(function() {
            return b();
          }).catch(d);
        });
      });
    };
    c.prototype.onGrantReward = function() {
      this._adUnit.sendRewardEvent();
      this._adUnit.setFinishState(u.COMPLETED);
    };
    c.prototype.onVideoStart = function() {
      this._adUnit.sendStartEvent();
      this._adUnit.sendImpressionEvent();
    };
    c.prototype.onShow = function() {
    };
    c.prototype.onSetOrientationProperties = function(b, a) {
      this._nativeBridge.getPlatform() === h.IOS ? this._adUnit.getContainer().reorient(!0, a) : this._adUnit.getContainer().reorient(b, a);
    };
    c.prototype.onFailureToLoad = function() {
      this._adUnit.setFinishState(u.ERROR);
      this._adUnit.hide();
    };
    c.prototype.createClickUrl = function(b, a) {
      var c = this;
      return this._adMobSignalFactory.getClickSignal().then(function(d) {
        d.setTimeOnScreen(c._adUnit.getTimeOnScreen());
        d.setTouchDiameter(a.diameter);
        d.setTouchPressure(a.pressure);
        d.setTouchXDown(a.start.x);
        d.setTouchYDown(a.start.y);
        d.setTouchXUp(a.end.x);
        d.setTouchYUp(a.end.y);
        d.setTouchDownTotal(a.counts.down);
        d.setTouchUpTotal(a.counts.up);
        d.setTouchMoveTotal(a.counts.move);
        d.setTouchCancelTotal(a.counts.cancel);
        return p.addParameters(b, {ms:d.getBase64ProtoBufNonEncoded(), rdvt:c._adUnit.getStartTime() - K.getAdRequestTimestamp()});
      });
    };
    c._loadTimeout = 5000;
    return c;
  }(), Nf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Of = function(c) {
    function b(a, b, f, g, e) {
      void 0 === e && (e = 0);
      var d = c.call(this, a, "interstitial-overlay", b, e) || this;
      d._spinnerEnabled = !1;
      d._canClose = !1;
      d._muteEnabled = !1;
      d._debugMessageVisible = !1;
      d._callButtonVisible = !1;
      d._fadeStatus = !0;
      a = new ib(f, "overlay");
      d._template = new S('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="buffering-spinner"><div class="spinner-animation"></div><div class="spinner-text"><%= data.t("Buffering") %></div></div><div class="mute-button <%= data.muted ? \'muted\' : \'\' %>"><div class="mute-icon"><span class="icon-volume"></span></div><div class="unmute-icon"><span class="icon-volume-mute"></span></div></div><div class="call-button"><%= data.t("Learn More") %></div><div class="debug-message-text"></div>', 
      a);
      d._templateData = {muted:b};
      d._bindings = [{event:"click", listener:function(a) {
        return d.onCloseEvent(a);
      }, selector:".close-region"}, {event:"click", listener:function(a) {
        return d.onMuteEvent(a);
      }, selector:".mute-button"}, {event:"click", listener:function(a) {
        return d.onCallButtonEvent(a);
      }, selector:".call-button"}, {event:"click", listener:function(a) {
        return d.onPauseForTestingEvent(a);
      }, selector:".debug-message-text"}, {event:"click", listener:function(a) {
        return d.onClick(a);
      }}];
      return d;
    }
    Nf(b, c);
    b.prototype.render = function() {
      c.prototype.render.call(this);
      this._closeElement = this._container.querySelector(".close-region");
      this._spinnerElement = this._container.querySelector(".buffering-spinner");
      this._muteButtonElement = this._container.querySelector(".mute-button");
      this._debugMessageElement = this._container.querySelector(".debug-message-text");
      this._callButtonElement = this._container.querySelector(".call-button");
    };
    b.prototype.setSpinnerEnabled = function(a) {
      this._spinnerEnabled !== a && (this._spinnerEnabled = a, this._spinnerElement.style.display = a ? "block" : "none");
    };
    b.prototype.setSkipEnabled = function() {
    };
    b.prototype.setVideoDurationEnabled = function() {
    };
    b.prototype.setVideoProgress = function(a) {
      var b = this;
      vb.AutoSkip && this._handlers.forEach(function(b) {
        return b.onOverlaySkip(a);
      });
      this._fadeEnabled && !this._fadeTimer && 0 >= this._skipRemaining && (this._fadeTimer = setTimeout(function() {
        b.fade(!0);
        b._fadeTimer = void 0;
      }, 3000));
      this._skipRemaining = this._skipDuration - a;
      0 < this._skipRemaining ? (this._skipRemaining--, this.updateProgressCircle(this._closeElement, (this._skipDuration - this._skipRemaining) / this._skipDuration)) : (this._canClose = !0, this._closeElement.style.opacity = "1", this.updateProgressCircle(this._closeElement, 1));
    };
    b.prototype.setMuteEnabled = function(a) {
      this._muteEnabled !== a && (this._muteEnabled = a, this._muteButtonElement.style.display = a ? "block" : "none");
    };
    b.prototype.setDebugMessage = function(a) {
      this._debugMessageElement.innerHTML = a;
    };
    b.prototype.setDebugMessageVisible = function(a) {
      this._debugMessageVisible !== a && (this._debugMessageElement.style.display = a ? "block" : "none");
    };
    b.prototype.setCallButtonVisible = function(a) {
      this._callButtonVisible !== a && (this._callButtonElement.style.display = a ? "block" : "none");
    };
    b.prototype.onCloseEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this._canClose && this._handlers.forEach(function(a) {
        return a.onOverlayClose();
      });
    };
    b.prototype.onMuteEvent = function(a) {
      var b = this;
      a.preventDefault();
      a.stopPropagation();
      this.resetFadeTimer();
      this._muted ? (this._muteButtonElement.classList.remove("muted"), this._muted = !1) : (this._muteButtonElement.classList.add("muted"), this._muted = !0);
      this._handlers.forEach(function(a) {
        return a.onOverlayMute(b._muted);
      });
    };
    b.prototype.onCallButtonEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this.resetFadeTimer();
      this._handlers.forEach(function(a) {
        return a.onOverlayCallButton();
      });
    };
    b.prototype.onPauseForTestingEvent = function(a) {
      a.preventDefault();
      a.stopPropagation();
      this.resetFadeTimer();
      this._handlers.forEach(function(a) {
        return a.onOverlayPauseForTesting(!0);
      });
    };
    b.prototype.onClick = function() {
      this.resetFadeTimer();
      this._fadeStatus ? this.fade(!0) : this.fade(!1);
    };
    b.prototype.resetFadeTimer = function() {
      this._fadeTimer && (clearTimeout(this._fadeTimer), this._fadeTimer = void 0);
    };
    b.prototype.fade = function(a) {
      a ? (this._closeElement.classList.remove("slide-back-in-place"), this._closeElement.classList.add("slide-up"), this._muteButtonElement.classList.remove("slide-back-in-place"), this._muteButtonElement.classList.add("slide-down"), this._container.style.pointerEvents = "auto", this._fadeStatus = !1) : (this._container.style.pointerEvents = "none", this._closeElement.classList.remove("slide-up"), this._closeElement.classList.add("slide-back-in-place"), this._muteButtonElement.classList.remove("slide-down"), 
      this._muteButtonElement.classList.add("slide-back-in-place"), this._fadeStatus = !0);
    };
    b.prototype.updateProgressCircle = function(a, b) {
      var c = a.querySelector(".progress-wrapper"), d = a.querySelector(".circle-left");
      a = a.querySelector(".circle-right");
      d.style.webkitTransform = "rotate(" + 360 * b + "deg)";
      0.5 <= b && (c.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
    };
    return b;
  }(vb), Pf = function() {
    function c() {
    }
    c.isFadeDisabled = function(b) {
      return -1 !== "1536139 1536140 1536129 15391 16061 131625570 15722 1541846 1541612 1541834 131621885 16063 1541840 1541619 1541810 1541615 1556514 131625767 1541590 1541802 1541823 1541697 1541690 16233 22991 1540733 1527935 21822 131623211 1540871 1542734 1504846 21369 131623186 1540880 25279 30439 24312 21686 27948 1541862 1540876 16284 16062 131625571 15723 1541847 1541613 48355 1541835 131621886 48358 16064 48359 1541876 1541841 1541620 1541811 1541616 1541602 131625768 1541591 1541881 1541793 1541824 1541698 1541691 16234 22992 52429 1527936 21823 131623212 1613773 1541821 1540872 1541685 1501244 21370 48360 131623187 1540881 25280 30440 24313 21687 27949 1541863 1540877".split(" ").indexOf(b) ? 
      !0 : !1;
    };
    return c;
  }(), Ta = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, Qf = function() {
    function c() {
    }
    c.createAdUnit = function(b, a) {
      hb.createBuildInformation(a.clientInfo, a.campaign, b);
      if (a.campaign instanceof Wa) {
        return this.createVastAdUnit(b, a);
      }
      if (a.campaign instanceof na) {
        return this.createMRAIDAdUnit(b, a);
      }
      if (a.campaign instanceof da) {
        return this.createPerformanceAdUnit(b, a);
      }
      if (a.campaign instanceof Ia) {
        return this.createDisplayInterstitialAdUnit(b, a);
      }
      if (a.campaign instanceof tb) {
        return this.createVPAIDAdUnit(b, a);
      }
      if (a.campaign instanceof Wb) {
        return this.createAdMobAdUnit(b, a);
      }
      throw Error("Unknown campaign instance type");
    };
    c.createPerformanceAdUnit = function(b, a) {
      var c = this.createOverlay(b, a), f = new Ff(b, a.campaign, a.configuration.isCoppaCompliant(), a.deviceInfo.getLanguage(), a.clientInfo.getGameId()), g = this.getOrientedVideo(a.campaign, a.forceOrientation);
      g = Ta({}, a, {video:g, overlay:c, endScreen:f});
      var e = new gb(b, g), k = new sf(b, e, g);
      c.addEventHandler(k);
      var m = new Lf(b, e, g);
      f.addEventHandler(m);
      this.prepareVideoPlayer(b, e, a);
      if (b.getPlatform() === h.ANDROID) {
        var w = b.AndroidAdUnit.onKeyDown.subscribe(function(a) {
          return m.onKeyEvent(a);
        });
        e.onClose.subscribe(function() {
          w && b.AndroidAdUnit.onKeyDown.unsubscribe(w);
        });
      }
      var n = b.VideoPlayer.onCompleted.subscribe(function() {
        return Zb.onVideoCompleted(e);
      }), p = e.onError.subscribe(function() {
        return Zb.onVideoError(e);
      });
      e.onClose.subscribe(function() {
        b.VideoPlayer.onCompleted.unsubscribe(n);
        e.onError.unsubscribe(p);
      });
      return e;
    };
    c.createVastAdUnit = function(b, a) {
      var c = this.createOverlay(b, a), f = Ta({}, a, {video:a.campaign.getVideo(), overlay:c});
      if (a.campaign.hasEndscreen()) {
        var g = new bf(b, a.configuration.isCoppaCompliant(), a.campaign, a.clientInfo.getGameId());
        f.endScreen = g;
      }
      var e = new fb(b, f);
      if (a.campaign.hasEndscreen() && g) {
        var k = new tf(b, e, f);
        g.addEventHandler(k);
        if (b.getPlatform() === h.ANDROID) {
          var m = b.AndroidAdUnit.onKeyDown.subscribe(function(a) {
            return k.onKeyEvent(a);
          });
          e.onClose.subscribe(function() {
            b.AndroidAdUnit.onKeyDown.unsubscribe(m);
          });
        }
      }
      var w = a.campaign;
      void 0 !== w.getAdvertiserDomain() && e.initMoat();
      var n = {level1:w.getSeatId(), level2:w.getBuyerId(), level3:w.getAdvertiserBundleId() ? w.getAdvertiserBundleId() : w.getAdvertiserDomain(), level4:w.getCreativeId(), slicer1:a.clientInfo.getSdkVersionName(), slicer2:a.clientInfo.getApplicationName(), slicer3:a.placement.getName()}, p = {SDK:"UnityAds", Version:"1.0", SDKVersion:a.clientInfo.getSdkVersionName(), IFA:a.deviceInfo.getAdvertisingIdentifier(), LimitAdTracking:a.deviceInfo.getLimitAdTracking(), COPPA:a.configuration.isCoppaCompliant(), 
      bundle:a.clientInfo.getApplicationName()};
      g = new vf(b, e, f);
      c.addEventHandler(g);
      this.prepareVideoPlayer(b, e, a);
      var t = b.VideoPlayer.onPrepared.subscribe(function(a, b) {
        return oa.onVideoPrepared(e, a, b, p, n);
      }), u = b.VideoPlayer.onPause.subscribe(function() {
        return oa.onVideoPaused(e);
      }), r = b.VideoPlayer.onStop.subscribe(function() {
        return oa.onVideoStopped(e);
      }), q = b.VideoPlayer.onProgress.subscribe(function(a) {
        return oa.onVideoProgress(e, w, a);
      }), x = b.VideoPlayer.onCompleted.subscribe(function() {
        return oa.onVideoCompleted(a.thirdPartyEventManager, e, a.clientInfo, a.campaign.getSession());
      }), y = b.VideoPlayer.onPlay.subscribe(function() {
        return oa.onVideoStart(a.thirdPartyEventManager, e, a.clientInfo, a.campaign.getSession());
      }), A = e.onError.subscribe(function() {
        return oa.onVideoError(e);
      });
      if (b.getPlatform() === h.ANDROID) {
        b.DeviceInfo.Android.registerVolumeChangeListener(Fa.STREAM_MUSIC);
        var v = b.DeviceInfo.Android.onVolumeChanged.subscribe(function(a, b, c) {
          return oa.onVolumeChange(e, b, c);
        });
      } else {
        b.getPlatform() === h.IOS && (b.DeviceInfo.Ios.registerVolumeChangeListener(), v = b.DeviceInfo.Ios.onVolumeChanged.subscribe(function(a, b) {
          return oa.onVolumeChange(e, a, b);
        }));
      }
      e.onClose.subscribe(function() {
        b.VideoPlayer.onPrepared.unsubscribe(t);
        b.VideoPlayer.onCompleted.unsubscribe(x);
        b.VideoPlayer.onPlay.unsubscribe(y);
        b.VideoPlayer.onPause.unsubscribe(u);
        b.VideoPlayer.onStop.unsubscribe(r);
        b.VideoPlayer.onProgress.unsubscribe(q);
        v && (b.getPlatform() === h.ANDROID ? (b.DeviceInfo.Android.unregisterVolumeChangeListener(Fa.STREAM_MUSIC), b.DeviceInfo.Android.onVolumeChanged.unsubscribe(v)) : b.getPlatform() === h.IOS && (b.DeviceInfo.Ios.unregisterVolumeChangeListener(), b.DeviceInfo.Ios.onVolumeChanged.unsubscribe(v)));
        e.onError.unsubscribe(A);
      });
      return e;
    };
    c.createMRAIDAdUnit = function(b, a) {
      var c = a.campaign.getResourceUrl(), f;
      var g = c && c.getOriginalUrl().match(/playables\/production\/unity|roll-the-ball/) ? new lf(b, a.placement, a.campaign, a.deviceInfo.getLanguage(), a.configuration.isCoppaCompliant()) : new jf(b, a.placement, a.campaign, a.configuration.isCoppaCompliant());
      c && c.getOriginalUrl().match(/playables\/production\/unity/) && (f = new Hf(b, a.campaign, a.configuration.isCoppaCompliant(), a.deviceInfo.getLanguage(), a.clientInfo.getGameId()));
      c = Ta({}, a, {mraid:g, endScreen:f});
      a = new ff(b, c);
      var e = new Bf(b, a, c);
      g.addEventHandler(e);
      f && (b = new Jf(b, a, c), f.addEventHandler(b));
      return a;
    };
    c.createVPAIDAdUnit = function(b, a) {
      var c = this.createOverlay(b, a), f = new of(b, a.campaign, a.placement, a.deviceInfo.getLanguage(), a.clientInfo.getGameId()), g = Ta({}, a, {vpaid:f, overlay:c});
      if (a.campaign.hasEndScreen()) {
        var e = new xf(b, a.campaign, a.clientInfo.getGameId());
        g.endScreen = e;
      }
      var k = new qf(b, g), h = new zf(b, k, g);
      f.addEventHandler(h);
      f = new Af(b, k, g);
      c.addEventHandler(f);
      a.campaign.hasEndScreen() && e && (b = new yf(b, k, g), e.addEventHandler(b));
      return k;
    };
    c.createDisplayInterstitialAdUnit = function(b, a) {
      var c = new Se(b, a.placement, a.campaign), f = Ta({}, a, {view:c});
      a = new Qe(b, f);
      b = new Cf(b, a, f);
      c.addEventHandler(b);
      return a;
    };
    c.prepareVideoPlayer = function(b, a, c) {
      var d = b.VideoPlayer.onPrepared.subscribe(function(d, f) {
        return V.onVideoPrepared(b, a, f, c.campaign);
      }), g = b.VideoPlayer.onPrepareTimeout.subscribe(function(d) {
        return V.onVideoPrepareTimeout(b, a, c.campaign, d);
      }), e = b.VideoPlayer.onProgress.subscribe(function(d) {
        return V.onVideoProgress(b, c.operativeEventManager, c.thirdPartyEventManager, c.comScoreTrackingService, a, d, c.configuration, c.campaign, c.placement);
      }), k = b.VideoPlayer.onPlay.subscribe(function() {
        return V.onVideoPlay(b, a);
      }), m = b.VideoPlayer.onCompleted.subscribe(function() {
        return V.onVideoCompleted(c.operativeEventManager, c.comScoreTrackingService, a, c.campaign, c.placement);
      });
      a.onClose.subscribe(function() {
        b.VideoPlayer.onPrepared.unsubscribe(d);
        b.VideoPlayer.onPrepareTimeout.unsubscribe(g);
        b.VideoPlayer.onProgress.unsubscribe(e);
        b.VideoPlayer.onPlay.unsubscribe(k);
        b.VideoPlayer.onCompleted.unsubscribe(m);
      });
      b.getPlatform() === h.ANDROID ? this.prepareAndroidVideoPlayer(b, a, c) : b.getPlatform() === h.IOS && this.prepareIosVideoPlayer(b, a, c);
    };
    c.prepareAndroidVideoPlayer = function(b, a, c) {
      var d = b.VideoPlayer.Android.onGenericError.subscribe(function(d, f, g) {
        return V.onAndroidGenericVideoError(b, a, c.campaign, f, g, d);
      }), g = b.VideoPlayer.Android.onPrepareError.subscribe(function(d) {
        return V.onPrepareError(b, a, c.campaign, d);
      }), e = b.VideoPlayer.Android.onSeekToError.subscribe(function(d) {
        return V.onSeekToError(b, a, c.campaign, d);
      }), k = b.VideoPlayer.Android.onPauseError.subscribe(function(d) {
        return V.onPauseError(b, a, c.campaign, d);
      }), h = b.VideoPlayer.Android.onIllegalStateError.subscribe(function() {
        return V.onIllegalStateError(b, a, c.campaign);
      });
      a.onClose.subscribe(function() {
        b.VideoPlayer.Android.onGenericError.unsubscribe(d);
        b.VideoPlayer.Android.onPrepareError.unsubscribe(g);
        b.VideoPlayer.Android.onSeekToError.unsubscribe(e);
        b.VideoPlayer.Android.onPauseError.unsubscribe(k);
        b.VideoPlayer.Android.onIllegalStateError.unsubscribe(h);
      });
    };
    c.prepareIosVideoPlayer = function(b, a, c) {
      var d = b.VideoPlayer.Ios.onGenericError.subscribe(function(d, f) {
        return V.onIosGenericVideoError(b, a, c.campaign, d, f);
      }), g = b.VideoPlayer.Ios.onPrepareError.subscribe(function(d) {
        return V.onPrepareError(b, a, c.campaign, d);
      }), e = b.VideoPlayer.Ios.onLikelyToKeepUp.subscribe(function(d, f) {
        return V.onIosVideoLikelyToKeepUp(b, a, c.container, f);
      });
      a.onClose.subscribe(function() {
        b.VideoPlayer.Ios.onLikelyToKeepUp.unsubscribe(e);
        b.VideoPlayer.Ios.onGenericError.unsubscribe(d);
        b.VideoPlayer.Ios.onPrepareError.unsubscribe(g);
      });
    };
    c.getOrientedVideo = function(b, a) {
      var d = c.getLandscapeVideo(b);
      b = c.getPortraitVideo(b);
      if (a === q.LANDSCAPE) {
        if (d) {
          return d;
        }
        if (b) {
          return b;
        }
      }
      if (a === q.PORTRAIT) {
        if (b) {
          return b;
        }
        if (d) {
          return d;
        }
      }
      throw new Z("Unable to select an oriented video");
    };
    c.getLandscapeVideo = function(b) {
      var a = b.getVideo();
      b = b.getStreamingVideo();
      if (a) {
        if (a.isCached()) {
          return a;
        }
        if (b) {
          return b;
        }
      }
    };
    c.getPortraitVideo = function(b) {
      var a = b.getPortraitVideo();
      b = b.getStreamingPortraitVideo();
      if (a) {
        if (a.isCached()) {
          return a;
        }
        if (b) {
          return b;
        }
      }
    };
    c.createAdMobAdUnit = function(b, a) {
      if (!a.adMobSignalFactory) {
        throw Error("AdMobSignalFactory is undefined, should not get here.");
      }
      var c = new We(b, a.adMobSignalFactory, a.container, a.placement, a.campaign, a.deviceInfo.getLanguage(), a.clientInfo.getGameId(), a.campaign.getAbGroup());
      c.render();
      var f = Ta({}, a, {view:c});
      f = new Ye(b, f);
      b = new Mf({nativeBridge:b, adUnit:f, request:a.request, thirdPartyEventManager:a.thirdPartyEventManager, session:a.campaign.getSession(), adMobSignalFactory:a.adMobSignalFactory});
      c.addEventHandler(b);
      return f;
    };
    c.createOverlay = function(b, a) {
      return a.placement.allowSkip() ? (b = -1 !== "15334 15333 24447 11595 11591 1178487 50650 130204 1413314 1307778 1413315 130205 24446 17671 130854 1307777 1495013".split(" ").indexOf(a.clientInfo.getGameId()) ? new Of(b, a.placement.muteVideo(), a.deviceInfo.getLanguage(), a.clientInfo.getGameId()) : new wb(b, a.placement.muteVideo(), a.deviceInfo.getLanguage(), a.clientInfo.getGameId()), Pf.isFadeDisabled(a.clientInfo.getGameId()) && b.setFadeEnabled(!1), b) : new wb(b, a.placement.muteVideo(), 
      a.deviceInfo.getLanguage(), a.clientInfo.getGameId());
    };
    return c;
  }(), pa;
  (function(c) {
    c[c.REQUIRED = 0] = "REQUIRED";
    c[c.OPTIONAL = 1] = "OPTIONAL";
  })(pa || (pa = {}));
  var Rf = function() {
    function c(b, a, c) {
      var d = this;
      this._cache = b;
      this._cacheMode = a;
      this._deviceInfo = c;
      this._fastConnectionDetected = this._caching = this._stopped = !1;
      this._requiredQueue = [];
      this._optionalQueue = [];
      this._campaignQueue = {};
      this._queueId = 0;
      a === M.ADAPTIVE && this._cache.onFastConnectionDetected.subscribe(function() {
        return d.onFastConnectionDetected();
      });
    }
    c.prototype.setup = function(b) {
      var a = this;
      if (!this.validateAssets(b)) {
        throw Error("Invalid required assets in campaign " + b.getId());
      }
      return this._cacheMode === M.DISABLED ? Promise.resolve(b) : this.selectAssets(b).then(function(c) {
        var d = c[0], g = c[1];
        c = a.cache(d, b, pa.REQUIRED).then(function() {
          return a.validateVideos(d, b);
        });
        if (a._cacheMode === M.FORCED) {
          return c.then(function() {
            a.cache(g, b, pa.OPTIONAL).catch(function() {
            });
            return b;
          });
        }
        if (a._cacheMode === M.ADAPTIVE) {
          if (a._fastConnectionDetected) {
            c.then(function() {
              return a.cache(g, b, pa.OPTIONAL);
            }).catch(function() {
            });
          } else {
            var e = a._queueId, k = a.registerCampaign(b, e);
            a._queueId++;
            c.then(function() {
              var c = a._campaignQueue[e];
              c && (c.resolved || (c.resolved = !0, c.resolve(b)), delete a._campaignQueue[e]);
              a.cache(g, b, pa.OPTIONAL).catch(function() {
              });
              return b;
            }).catch(function(b) {
              var c = a._campaignQueue[e];
              c && (c.resolved || (c.resolved = !0, c.reject(b)), delete a._campaignQueue[e]);
            });
            return k;
          }
        } else {
          c.then(function() {
            return a.cache(g, b, pa.OPTIONAL);
          }).catch(function() {
          });
        }
        return Promise.resolve(b);
      });
    };
    c.prototype.selectAssets = function(b) {
      var a = b.getRequiredAssets(), c = b.getOptionalAssets();
      return b instanceof da ? this.getOrientedVideo(b).then(function(a) {
        return [[a], c];
      }) : Promise.resolve([a, c]);
    };
    c.prototype.enableCaching = function() {
      this._stopped = !1;
    };
    c.prototype.stopCaching = function() {
      this._stopped = !0;
      this._fastConnectionDetected = !1;
      for (this._cache.stop(); this._requiredQueue.length;) {
        var b = this._requiredQueue.shift();
        b && b.reject(E.STOPPED);
      }
      for (; this._optionalQueue.length;) {
        (b = this._optionalQueue.shift()) && b.reject(E.STOPPED);
      }
    };
    c.prototype.checkFreeSpace = function() {
      var b = this;
      return this._cacheMode === M.DISABLED ? Promise.resolve() : this._cache.getFreeSpace().then(function(a) {
        20480 > a && (b._cacheMode = M.DISABLED, t.trigger("caching_disabled", {freeCacheSpace:a}));
      }).catch(function() {
        t.trigger("cache_space_check_failed", {});
      });
    };
    c.prototype.cache = function(b, a, c) {
      function d(b) {
        e = e.then(function() {
          if (g._stopped) {
            throw Error("Caching stopped");
          }
          var d = g.queueAsset(b.getUrl(), g.getCacheDiagnostics(b, a), c).then(function(a) {
            var c = a[0];
            a = a[1];
            b.setFileId(c);
            b.setCachedUrl(a);
            return c;
          }).then(function(b) {
            return c === pa.REQUIRED ? g._cache.writeCachedFileForCampaign(a.getId(), b) : Promise.resolve();
          });
          g.executeAssetQueue(a);
          return d;
        });
      }
      for (var g = this, e = Promise.resolve(), k = 0; k < b.length; k++) {
        d(b[k]);
      }
      return e;
    };
    c.prototype.queueAsset = function(b, a, c) {
      var d = this;
      return new Promise(function(f, e) {
        f = {url:b, diagnostics:a, resolve:f, reject:e};
        c === pa.REQUIRED ? d._requiredQueue.push(f) : d._optionalQueue.push(f);
      });
    };
    c.prototype.executeAssetQueue = function(b) {
      var a = this;
      if (!this._caching) {
        var c = this._requiredQueue.shift();
        c || (c = this._optionalQueue.shift());
        if (c) {
          var f = c;
          this._caching = !0;
          this._cache.cache(f.url, f.diagnostics, b).then(function(c) {
            f.resolve([c[0], c[1]]);
            a._caching = !1;
            a.executeAssetQueue(b);
          }).catch(function(c) {
            f.reject(c);
            a._caching = !1;
            a.executeAssetQueue(b);
          });
        }
      }
    };
    c.prototype.validateAssets = function(b) {
      for (var a = 0, c = b.getOptionalAssets(); a < c.length; a++) {
        var f = c[a];
        p.isValid(f.getUrl()) || this.reportInvalidUrl(b, f, !1);
      }
      a = 0;
      for (c = b.getRequiredAssets(); a < c.length; a++) {
        if (f = c[a], !p.isValid(f.getUrl())) {
          return this.reportInvalidUrl(b, f, !0), !1;
        }
      }
      return !0;
    };
    c.prototype.validateVideos = function(b, a) {
      function c(b) {
        b instanceof Ha && f.push(g._cache.isVideoValid(b, a).then(function(a) {
          if (!a) {
            throw Error("Video failed to validate: " + b.getOriginalUrl());
          }
        }));
      }
      for (var f = [], g = this, e = 0; e < b.length; e++) {
        c(b[e]);
      }
      return Promise.all(f);
    };
    c.prototype.reportInvalidUrl = function(b, a, c) {
      t.trigger("invalid_asset_url", {url:a.getUrl(), assetType:a.getDescription(), assetDTO:a.getDTO(), required:c, id:b.getId(), campaignDTO:b.getDTO()}, b.getSession());
    };
    c.prototype.getOrientedVideo = function(b) {
      return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(a) {
        var c = a[0], f = a[1];
        a = c >= f;
        c = f > c;
        f = b.getVideo();
        var g = b.getPortraitVideo();
        if (a) {
          if (f) {
            return f;
          }
          if (g) {
            return g;
          }
        }
        if (c) {
          if (g) {
            return g;
          }
          if (f) {
            return f;
          }
        }
        throw new Z("Unable to select oriented video for caching");
      });
    };
    c.prototype.onFastConnectionDetected = function() {
      this._fastConnectionDetected = !0;
      for (var b in this._campaignQueue) {
        if (this._campaignQueue.hasOwnProperty(b)) {
          var a = this._campaignQueue[b];
          a.resolved || (a.resolved = !0, a.resolve(a.campaign));
        }
      }
    };
    c.prototype.registerCampaign = function(b, a) {
      var c = this;
      return new Promise(function(d, g) {
        c._campaignQueue[a] = {campaign:b, resolved:!1, resolve:d, reject:g};
      });
    };
    c.prototype.getCacheDiagnostics = function(b, a) {
      return {creativeType:b.getDescription(), gamerId:a.getGamerId(), targetGameId:a instanceof da ? a.getGameId() : 0, targetCampaignId:a.getId()};
    };
    return c;
  }(), v;
  (function(c) {
    c[c.SCREEN_ORIENTATION_UNSPECIFIED = -1] = "SCREEN_ORIENTATION_UNSPECIFIED";
    c[c.SCREEN_ORIENTATION_LANDSCAPE = 0] = "SCREEN_ORIENTATION_LANDSCAPE";
    c[c.SCREEN_ORIENTATION_PORTRAIT = 1] = "SCREEN_ORIENTATION_PORTRAIT";
    c[c.SCREEN_ORIENTATION_USER = 2] = "SCREEN_ORIENTATION_USER";
    c[c.SCREEN_ORIENTATION_BEHIND = 3] = "SCREEN_ORIENTATION_BEHIND";
    c[c.SCREEN_ORIENTATION_SENSOR = 4] = "SCREEN_ORIENTATION_SENSOR";
    c[c.SCREEN_ORIENTATION_NOSENSOR = 5] = "SCREEN_ORIENTATION_NOSENSOR";
    c[c.SCREEN_ORIENTATION_SENSOR_LANDSCAPE = 6] = "SCREEN_ORIENTATION_SENSOR_LANDSCAPE";
    c[c.SCREEN_ORIENTATION_SENSOR_PORTRAIT = 7] = "SCREEN_ORIENTATION_SENSOR_PORTRAIT";
    c[c.SCREEN_ORIENTATION_REVERSE_LANDSCAPE = 8] = "SCREEN_ORIENTATION_REVERSE_LANDSCAPE";
    c[c.SCREEN_ORIENTATION_REVERSE_PORTRAIT = 9] = "SCREEN_ORIENTATION_REVERSE_PORTRAIT";
    c[c.SCREEN_ORIENTATION_FULL_SENSOR = 10] = "SCREEN_ORIENTATION_FULL_SENSOR";
    c[c.SCREEN_ORIENTATION_USER_LANDSCAPE = 11] = "SCREEN_ORIENTATION_USER_LANDSCAPE";
    c[c.SCREEN_ORIENTATION_USER_PORTRAIT = 12] = "SCREEN_ORIENTATION_USER_PORTRAIT";
    c[c.SCREEN_ORIENTATION_FULL_USER = 13] = "SCREEN_ORIENTATION_FULL_USER";
    c[c.SCREEN_ORIENTATION_LOCKED = 14] = "SCREEN_ORIENTATION_LOCKED";
  })(v || (v = {}));
  var P;
  (function(c) {
    c[c.ROTATION_0 = 0] = "ROTATION_0";
    c[c.ROTATION_90 = 1] = "ROTATION_90";
    c[c.ROTATION_180 = 2] = "ROTATION_180";
    c[c.ROTATION_270 = 3] = "ROTATION_270";
  })(P || (P = {}));
  var Sf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Tf = function(c) {
    function b(a, b) {
      var d = c.call(this) || this;
      d._nativeBridge = a;
      d._deviceInfo = b;
      d._activityId = 0;
      d._currentActivityFinished = !1;
      d._onResumeObserver = d._nativeBridge.AndroidAdUnit.onResume.subscribe(function(a) {
        return d.onResume(a);
      });
      d._onPauseObserver = d._nativeBridge.AndroidAdUnit.onPause.subscribe(function(a, b) {
        return d.onPause(a, b);
      });
      d._onDestroyObserver = d._nativeBridge.AndroidAdUnit.onDestroy.subscribe(function(a, b) {
        return d.onDestroy(a, b);
      });
      return d;
    }
    Sf(b, c);
    b.prototype.open = function(a, b, c, g, e, k, h, n, p) {
      this.resetDiagnosticsEvents();
      this.addDiagnosticsEvent({type:"open"});
      this._activityId++;
      this._currentActivityFinished = !1;
      this._androidOptions = p;
      h = ["webview"];
      b && (h = ["videoplayer", "webview"]);
      this._lockedOrientation = (b = Xa.getForcedOrientation()) ? b : g;
      g = [];
      e && (g = [4]);
      e = this.isHardwareAccelerationAllowed();
      this._nativeBridge.Sdk.logInfo("Opening " + a.description() + " ad unit with orientation " + q[this._lockedOrientation] + ", hardware acceleration " + (e ? "enabled" : "disabled"));
      return this._nativeBridge.AndroidAdUnit.open(this._activityId, h, this.getOrientation(c, this._lockedOrientation, p), g, 1, e, k);
    };
    b.prototype.close = function() {
      this.addDiagnosticsEvent({type:"closeTried"});
      if (this._currentActivityFinished) {
        return Promise.resolve();
      }
      this._currentActivityFinished = !0;
      this.addDiagnosticsEvent({type:"close"});
      return this._nativeBridge.AndroidAdUnit.close();
    };
    b.prototype.reconfigure = function(a) {
      var b = this;
      this.addDiagnosticsEvent({type:"reconfigure"});
      var c = [];
      return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(d) {
        var f = d[0];
        d = d[1];
        switch(a) {
          case 0:
            c.push(b._nativeBridge.AndroidAdUnit.setViews(["webview"]));
            c.push(b._nativeBridge.AndroidAdUnit.setOrientation(v.SCREEN_ORIENTATION_FULL_SENSOR));
            break;
          case 1:
            c.push(b._nativeBridge.AndroidAdUnit.setOrientation(v.SCREEN_ORIENTATION_LANDSCAPE)), c.push(b._nativeBridge.AndroidAdUnit.setViewFrame("videoplayer", 0, 0, d, f));
        }
        return Promise.all(c);
      });
    };
    b.prototype.reorient = function(a, b) {
      this.addDiagnosticsEvent({type:"reorient"});
      return this._nativeBridge.AndroidAdUnit.setOrientation(this.getOrientation(a, b, this._androidOptions));
    };
    b.prototype.isPaused = function() {
      return !1;
    };
    b.prototype.getOrientation = function(a, b, c) {
      var d = v.SCREEN_ORIENTATION_FULL_SENSOR;
      a ? b === q.PORTRAIT ? d = c.requestedOrientation === v.SCREEN_ORIENTATION_PORTRAIT ? v.SCREEN_ORIENTATION_PORTRAIT : c.requestedOrientation === v.SCREEN_ORIENTATION_REVERSE_PORTRAIT ? v.SCREEN_ORIENTATION_REVERSE_PORTRAIT : c.display && this.getNaturalRotation(c.display) === P.ROTATION_0 ? v.SCREEN_ORIENTATION_PORTRAIT : c.display && this.getNaturalRotation(c.display) === P.ROTATION_180 ? v.SCREEN_ORIENTATION_REVERSE_PORTRAIT : v.SCREEN_ORIENTATION_SENSOR_PORTRAIT : b === q.LANDSCAPE && (d = 
      c.requestedOrientation === v.SCREEN_ORIENTATION_LANDSCAPE ? v.SCREEN_ORIENTATION_LANDSCAPE : c.requestedOrientation === v.SCREEN_ORIENTATION_REVERSE_LANDSCAPE ? v.SCREEN_ORIENTATION_REVERSE_LANDSCAPE : c.display && this.getNaturalRotation(c.display) === P.ROTATION_90 ? v.SCREEN_ORIENTATION_LANDSCAPE : c.display && this.getNaturalRotation(c.display) === P.ROTATION_270 ? v.SCREEN_ORIENTATION_REVERSE_LANDSCAPE : v.SCREEN_ORIENTATION_SENSOR_LANDSCAPE) : d = b === q.PORTRAIT ? v.SCREEN_ORIENTATION_PORTRAIT : 
      b === q.LANDSCAPE ? v.SCREEN_ORIENTATION_LANDSCAPE : v.SCREEN_ORIENTATION_LOCKED;
      return d;
    };
    b.prototype.onResume = function(a) {
      this.addDiagnosticsEvent({type:"onResumeTried"});
      a === this._activityId && (this.addDiagnosticsEvent({type:"onResume"}), this.onShow.trigger());
    };
    b.prototype.onPause = function(a, b) {
      this.addDiagnosticsEvent({type:"onPauseTried"});
      this.onAndroidPause.trigger();
      a && b === this._activityId && !this._currentActivityFinished && (this._currentActivityFinished = !0, this.addDiagnosticsEvent({type:"onPause"}), this.onSystemKill.trigger());
    };
    b.prototype.onDestroy = function(a, b) {
      this.addDiagnosticsEvent({type:"onDestroyTried"});
      a && b === this._activityId && !this._currentActivityFinished && (this._currentActivityFinished = !0, this.addDiagnosticsEvent({type:"onDestroy"}), this.onSystemKill.trigger());
    };
    b.prototype.isHardwareAccelerationAllowed = function() {
      return 18 > this._nativeBridge.getApiLevel() ? !1 : !0;
    };
    b.prototype.getNaturalRotation = function(a) {
      switch(a.rotation) {
        case P.ROTATION_0:
          return a.width > a.height ? P.ROTATION_90 : P.ROTATION_0;
        case P.ROTATION_90:
          return a.width < a.height ? P.ROTATION_180 : P.ROTATION_90;
        case P.ROTATION_180:
          return a.width > a.height ? P.ROTATION_270 : P.ROTATION_180;
        case P.ROTATION_270:
          return a.width < a.height ? P.ROTATION_180 : P.ROTATION_270;
        default:
          return a.rotation;
      }
    };
    return b;
  }(Xa), Na;
  (function(c) {
    c[c.INTERFACE_ORIENTATION_MASK_PORTRAIT = 2] = "INTERFACE_ORIENTATION_MASK_PORTRAIT";
    c[c.INTERFACE_ORIENTATION_MASK_LANDSCAPE_LEFT = 16] = "INTERFACE_ORIENTATION_MASK_LANDSCAPE_LEFT";
    c[c.INTERFACE_ORIENTATION_MASK_LANDSCAPE_RIGHT = 8] = "INTERFACE_ORIENTATION_MASK_LANDSCAPE_RIGHT";
    c[c.INTERFACE_ORIENTATION_MASK_PORTRAIT_UPSIDE_DOWN = 4] = "INTERFACE_ORIENTATION_MASK_PORTRAIT_UPSIDE_DOWN";
    c[c.INTERFACE_ORIENTATION_MASK_LANDSCAPE = 24] = "INTERFACE_ORIENTATION_MASK_LANDSCAPE";
    c[c.INTERFACE_ORIENTATION_MASK_ALL = 30] = "INTERFACE_ORIENTATION_MASK_ALL";
    c[c.INTERFACE_ORIENTATION_MASK_ALL_BUT_UPSIDE_DOWN = 26] = "INTERFACE_ORIENTATION_MASK_ALL_BUT_UPSIDE_DOWN";
  })(Na || (Na = {}));
  var Ua;
  (function(c) {
    c[c.UNKNOWN = 0] = "UNKNOWN";
    c[c.PORTRAIT = 1] = "PORTRAIT";
    c[c.PORTRAIT_UPSIDE_DOWN = 2] = "PORTRAIT_UPSIDE_DOWN";
    c[c.LANDSCAPE_RIGHT = 3] = "LANDSCAPE_RIGHT";
    c[c.LANDSCAPE_LEFT = 4] = "LANDSCAPE_LEFT";
  })(Ua || (Ua = {}));
  var Uf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), Vf = function(c) {
    function b(a, b, f) {
      var d = c.call(this) || this;
      d._paused = !1;
      d._nativeBridge = a;
      d._focusManager = f;
      d._deviceInfo = b;
      d._onViewControllerDidAppearObserver = d._nativeBridge.IosAdUnit.onViewControllerDidAppear.subscribe(function() {
        return d.onViewDidAppear();
      });
      d._onMemoryWarningObserver = d._nativeBridge.IosAdUnit.onViewControllerDidReceiveMemoryWarning.subscribe(function() {
        return d.onMemoryWarning();
      });
      d._onNotificationObserver = d._nativeBridge.Notification.onNotification.subscribe(function(a, b) {
        return d.onNotification(a, b);
      });
      return d;
    }
    Uf(b, c);
    b.prototype.open = function(a, c, f, g, e, k, h, n, p) {
      var d = this;
      this.resetDiagnosticsEvents();
      this.addDiagnosticsEvent({type:"open"});
      this._options = p;
      this._showing = !0;
      e = ["webview"];
      c && (e = ["videoplayer", "webview"]);
      (c = Xa.getForcedOrientation()) ? (f = !1, this._lockedOrientation = c) : this._lockedOrientation = g;
      this._onAppBackgroundObserver = this._focusManager.onAppBackground.subscribe(function() {
        return d.onAppBackground();
      });
      this._onAppForegroundObserver = this._focusManager.onAppForeground.subscribe(function() {
        return d.onAppForeground();
      });
      this._nativeBridge.Notification.addAVNotificationObserver(b._audioSessionInterrupt, ["AVAudioSessionInterruptionTypeKey", "AVAudioSessionInterruptionOptionKey"]);
      this._nativeBridge.Notification.addAVNotificationObserver(b._audioSessionRouteChange, ["AVAudioSessionRouteChangeReasonKey"]);
      this._nativeBridge.Sdk.logInfo("Opening " + a.description() + " ad with orientation " + q[this._lockedOrientation]);
      a = !0;
      n && (a = p.statusBarHidden);
      return this._nativeBridge.IosAdUnit.open(e, this.getOrientation(p, f, this._lockedOrientation), a, f, k, h);
    };
    b.prototype.close = function() {
      this.addDiagnosticsEvent({type:"close"});
      this._showing = !1;
      this._focusManager.onAppBackground.unsubscribe(this._onAppBackgroundObserver);
      this._focusManager.onAppForeground.unsubscribe(this._onAppForegroundObserver);
      this._nativeBridge.Notification.removeAVNotificationObserver(b._audioSessionInterrupt);
      this._nativeBridge.Notification.removeAVNotificationObserver(b._audioSessionRouteChange);
      return this._nativeBridge.IosAdUnit.close();
    };
    b.prototype.reconfigure = function(a) {
      var b = this;
      this.addDiagnosticsEvent({type:"reconfigure"});
      var c = [];
      return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(d) {
        var f = d[0];
        d = d[1] + b._deviceInfo.getStatusBarHeight();
        switch(a) {
          case 0:
            c.push(b._nativeBridge.IosAdUnit.setViews(["webview"]));
            c.push(b._nativeBridge.IosAdUnit.setSupportedOrientations(Na.INTERFACE_ORIENTATION_MASK_ALL));
            break;
          case 1:
            c.push(b._nativeBridge.IosAdUnit.setViewFrame("videoplayer", new ea(0), new ea(0), new ea(f), new ea(d))), c.push(b._nativeBridge.IosAdUnit.setTransform(new ea(1.57079632679))), c.push(b._nativeBridge.IosAdUnit.setViewFrame("adunit", new ea(0), new ea(0), new ea(f), new ea(d)));
        }
        return Promise.all(c);
      });
    };
    b.prototype.reorient = function(a, b) {
      var c = this;
      this.addDiagnosticsEvent({type:"reorient"});
      return this._nativeBridge.IosAdUnit.setShouldAutorotate(a).then(function() {
        return c._nativeBridge.IosAdUnit.setSupportedOrientations(c.getOrientation(c._options, a, b));
      });
    };
    b.prototype.isPaused = function() {
      return this._paused;
    };
    b.prototype.pause = function() {
      this._paused = !0;
    };
    b.prototype.unPause = function() {
      this._paused = !1;
    };
    b.prototype.getOrientation = function(a, b, c) {
      b = a.supportedOrientations;
      if (c === q.LANDSCAPE) {
        switch(a.statusBarOrientation) {
          case Ua.LANDSCAPE_LEFT:
            b = Na.INTERFACE_ORIENTATION_MASK_LANDSCAPE_LEFT;
            break;
          case Ua.LANDSCAPE_RIGHT:
            b = Na.INTERFACE_ORIENTATION_MASK_LANDSCAPE_RIGHT;
        }
      } else {
        if (c === q.PORTRAIT) {
          switch(a.statusBarOrientation) {
            case Ua.PORTRAIT:
              b = Na.INTERFACE_ORIENTATION_MASK_PORTRAIT;
              break;
            case Ua.PORTRAIT_UPSIDE_DOWN:
              b = Na.INTERFACE_ORIENTATION_MASK_PORTRAIT_UPSIDE_DOWN;
          }
        }
      }
      (a.supportedOrientations & b) !== b && (b = a.supportedOrientations);
      return b;
    };
    b.prototype.onViewDidAppear = function() {
      this.addDiagnosticsEvent({type:"viewDidAppear"});
      this.onShow.trigger();
    };
    b.prototype.onMemoryWarning = function() {
      this.addDiagnosticsEvent({type:"memoryWarning"});
      this.onLowMemoryWarning.trigger();
    };
    b.prototype.onAppBackground = function() {
      this.addDiagnosticsEvent({type:"appWillResignActive"});
      this._paused = !0;
      this.onSystemInterrupt.trigger(!0);
    };
    b.prototype.onAppForeground = function() {
      this.addDiagnosticsEvent({type:"appDidBecomeActive"});
      this._paused = !1;
      this.onSystemInterrupt.trigger(!1);
    };
    b.prototype.onNotification = function(a, c) {
      if (this._showing) {
        switch(a) {
          case b._audioSessionInterrupt:
            this.addDiagnosticsEvent({type:"audioSessionInterrupt", typeKey:c.AVAudioSessionInterruptionTypeKey, optionKey:c.AVAudioSessionInterruptionOptionKey});
            0 === c.AVAudioSessionInterruptionTypeKey ? 1 === c.AVAudioSessionInterruptionOptionKey && this.onSystemInterrupt.trigger(!1) : 1 === c.AVAudioSessionInterruptionTypeKey && this.onSystemInterrupt.trigger(!0);
            break;
          case b._audioSessionRouteChange:
            this.addDiagnosticsEvent({type:"audioSessionRouteChange", reasonKey:c.AVAudioSessionRouteChangeReasonKey}), 3 !== c.AVAudioSessionRouteChangeReasonKey && this.onSystemInterrupt.trigger(!1);
        }
      }
    };
    b._audioSessionInterrupt = "AVAudioSessionInterruptionNotification";
    b._audioSessionRouteChange = "AVAudioSessionRouteChangeNotification";
    return b;
  }(Xa), Wf = function() {
    function c(b) {
      this._metaDataCache = {};
      this._nativeBridge = b;
    }
    c.prototype.fetch = function(b, a, c) {
      var d = this;
      void 0 === a && (a = !0);
      var g = new b;
      this._metaDataCache[g.getCategory()] && (g = this._metaDataCache[g.getCategory()]);
      return g.fetch(this._nativeBridge, c).then(function(b) {
        if (b) {
          return a && (d._metaDataCache[g.getCategory()] = g), g;
        }
      });
    };
    c.prototype.clearCache = function() {
      this._metaDataCache = {};
    };
    return c;
  }(), dc = function() {
    function c(b) {
      this._nativeBridge = b;
    }
    c.prototype.getUserId = function() {
      var b = this;
      return this.getValue("analytics.userid").then(function(a) {
        return a ? a : b._nativeBridge.DeviceInfo.getUniqueEventId().then(function(a) {
          return a.toLowerCase().replace(/-/g, "");
        });
      });
    };
    c.prototype.getSessionId = function(b) {
      var a = this;
      return b ? this.getValue("analytics.sessionid").then(function(b) {
        return b ? b : a.getIntegerId();
      }).catch(function() {
        return a.getIntegerId();
      }) : this.getIntegerId();
    };
    c.prototype.getAppVersion = function() {
      return this.getValue("analytics.appversion");
    };
    c.prototype.getOsVersion = function() {
      return this.getValue("analytics.osversion");
    };
    c.prototype.getIAPTransactions = function() {
      var b = this;
      return this._nativeBridge.Storage.get(n.PUBLIC, "iap.purchases").then(function(a) {
        b._nativeBridge.Storage.delete(n.PUBLIC, "iap.purchases");
        b._nativeBridge.Storage.write(n.PUBLIC);
        return a;
      }).catch(function(a) {
        a = a[0];
        switch(a) {
          case z[z.COULDNT_GET_VALUE]:
            return [];
          case z[z.COULDNT_GET_STORAGE]:
            return [];
          default:
            throw Error(a);
        }
      });
    };
    c.prototype.setIds = function(b, a) {
      this._nativeBridge.Storage.set(n.PRIVATE, "analytics.userid", b);
      this._nativeBridge.Storage.set(n.PRIVATE, "analytics.sessionid", a);
      this._nativeBridge.Storage.write(n.PRIVATE);
    };
    c.prototype.setSessionId = function(b) {
      this._nativeBridge.Storage.set(n.PRIVATE, "analytics.sessionid", b);
    };
    c.prototype.setVersions = function(b, a) {
      this._nativeBridge.Storage.set(n.PRIVATE, "analytics.appversion", b);
      this._nativeBridge.Storage.set(n.PRIVATE, "analytics.osversion", a);
      this._nativeBridge.Storage.write(n.PRIVATE);
    };
    c.prototype.getIntegerId = function() {
      return this._nativeBridge.DeviceInfo.getUniqueEventId().then(function(b) {
        return parseInt(b.replace(/-/g, "").substring(0, 12), 16);
      });
    };
    c.prototype.getValue = function(b) {
      return this._nativeBridge.Storage.get(n.PRIVATE, b).then(function(a) {
        return a;
      }).catch(function(a) {
        a = a[0];
        switch(a) {
          case z[z.COULDNT_GET_VALUE]:
            break;
          case z[z.COULDNT_GET_STORAGE]:
            break;
          default:
            throw Error(a);
        }
      });
    };
    return c;
  }(), Oa = function() {
    function c() {
    }
    c.getCommonObject = function(b, a, d, f, g, e) {
      return {common:{appid:e.getUnityProjectId(), userid:a, sessionid:d, platform:b === h.IOS ? "IPhonePlayer" : "AndroidPlayer", platformid:b === h.IOS ? 8 : 11, sdk_ver:f.getSdkVersionName(), adsid:c.getAdvertisingIdentifier(g), ads_tracking:g.getLimitAdTracking() ? !1 : !0, ads_coppa:e.isCoppaCompliant(), ads_gamerid:e.getGamerId(), ads_gameid:f.getGameId(), ads_sdk:!0}};
    };
    c.getDeviceInfoObject = function(b, a) {
      return Promise.all([a.getScreenWidth(), a.getScreenHeight()]).then(function(c) {
        var d = c[0];
        c = c[1];
        var g = d, e = c;
        e > g && (g = c, e = d);
        return {type:"analytics.deviceInfo.v1", msg:{ts:Date.now(), app_ver:b.getApplicationVersion(), adsid:a.getAdvertisingIdentifier(), ads_tracking:a.getLimitAdTracking() ? !1 : !0, os_ver:a.getOsVersion(), model:a.getModel(), make:a.getManufacturer(), app_name:b.getApplicationName(), ram:Math.round(a.getTotalMemory() / 1024), screen:g + " x " + e, lang:a.getLanguage(), rooted_jailbroken:a.isRooted() ? !0 : void 0}};
      });
    };
    c.getStartObject = function() {
      return {type:"analytics.appStart.v1", msg:{ts:Date.now()}};
    };
    c.getInstallObject = function(b) {
      return {type:"analytics.appInstall.v1", msg:{ts:Date.now(), app_ver:b.getApplicationVersion()}};
    };
    c.getUpdateObject = function(b) {
      return {type:"analytics.appUpdate.v1", msg:{ts:Date.now(), app_ver:b.getApplicationVersion()}};
    };
    c.getRunningObject = function(b) {
      return {type:"analytics.appRunning.v1", msg:{ts:Date.now(), duration:b, local_time_offset:-6E4 * (new Date).getTimezoneOffset()}};
    };
    c.getIAPTransactionObject = function(b, a) {
      b = {ts:Date.now(), transactionId:b, productId:a.productId, amount:a.price, currency:a.currency};
      if (a.signature || a.receiptPurchaseData) {
        b.receipt = {data:a.receiptPurchaseData, signature:a.signature};
      }
      return {type:"analytics.transaction.v1", msg:b};
    };
    c.getAdvertisingIdentifier = function(b) {
      if (b = b.getAdvertisingIdentifier()) {
        return b.toLowerCase();
      }
    };
    return c;
  }(), Xf = function() {
    function c(b, a, c, f, g, e, k) {
      this._newSessionTreshold = 1800000;
      this._nativeBridge = b;
      this._focusManager = k;
      this._wakeUpManager = a;
      this._request = c;
      this._clientInfo = f;
      this._deviceInfo = g;
      this._configuration = e;
      this._storage = new dc(b);
      this._endpoint = "https://prd-lender.cdp.internal.unity3d.com/v1/events";
    }
    c.prototype.init = function() {
      var b = this;
      if (this._clientInfo.isReinitialized()) {
        var a = [];
        a.push(this._storage.getUserId());
        a.push(this._storage.getSessionId(this._clientInfo.isReinitialized()));
        return Promise.all(a).then(function(a) {
          var c = a[1];
          b._userId = a[0];
          b._sessionId = c;
          b.subscribeListeners();
        });
      }
      a = [];
      a.push(this._storage.getUserId());
      a.push(this._storage.getSessionId(this._clientInfo.isReinitialized()));
      a.push(this._storage.getAppVersion());
      a.push(this._storage.getOsVersion());
      return Promise.all(a).then(function(a) {
        var c = a[0], d = a[1], e = a[2];
        a = a[3];
        b._userId = c;
        b._sessionId = d;
        b._storage.setIds(c, d);
        b.sendNewSession();
        c = !1;
        e ? b._clientInfo.getApplicationVersion() !== e && (b.sendAppUpdate(), c = !0) : (b.sendNewInstall(), c = !0);
        a && b._deviceInfo.getOsVersion() !== a && (c = !0);
        c && (b.sendDeviceInfo(), b._storage.setVersions(b._clientInfo.getApplicationVersion(), b._deviceInfo.getOsVersion()));
        b._storage.getIAPTransactions().then(function(a) {
          b.sendIAPTransactions(a);
        });
        b.subscribeListeners();
      });
    };
    c.prototype.getGameSessionId = function() {
      return this._sessionId;
    };
    c.prototype.subscribeListeners = function() {
      var b = this;
      this._focusManager.onAppForeground.subscribe(function() {
        return b.onAppForeground();
      });
      this._focusManager.onAppBackground.subscribe(function() {
        return b.onAppBackground();
      });
      this._focusManager.onActivityResumed.subscribe(function(a) {
        return b.onActivityResumed(a);
      });
      this._focusManager.onActivityPaused.subscribe(function(a) {
        return b.onActivityPaused(a);
      });
      this._nativeBridge.Storage.onSet.subscribe(function(a, c) {
        return b.onStorageSet(a, c);
      });
    };
    c.prototype.sendNewSession = function() {
      this.send(Oa.getStartObject());
    };
    c.prototype.sendAppRunning = function() {
      this.send(Oa.getRunningObject(Math.round((this._bgTimestamp - this._clientInfo.getInitTimestamp()) / 1000)));
    };
    c.prototype.sendNewInstall = function() {
      this.send(Oa.getInstallObject(this._clientInfo));
    };
    c.prototype.sendAppUpdate = function() {
      this.send(Oa.getUpdateObject(this._clientInfo));
    };
    c.prototype.sendDeviceInfo = function() {
      var b = this;
      Oa.getDeviceInfoObject(this._clientInfo, this._deviceInfo).then(function(a) {
        b.send(a);
      });
    };
    c.prototype.sendIAPTransactions = function(b) {
      function a(a) {
        f._storage.getIntegerId().then(function(b) {
          c.send(Oa.getIAPTransactionObject(b, a));
        });
      }
      for (var c = this, f = this, e = 0; e < b.length; e++) {
        a(b[e]);
      }
    };
    c.prototype.onAppForeground = function() {
      var b = this;
      this._bgTimestamp && Date.now() - this._bgTimestamp > this._newSessionTreshold && this._storage.getSessionId(!1).then(function(a) {
        b._sessionId = a;
        b._storage.setIds(b._userId, b._sessionId);
        b.sendNewSession();
      });
    };
    c.prototype.onAppBackground = function() {
      this._bgTimestamp = Date.now();
      this.sendAppRunning();
    };
    c.prototype.onActivityResumed = function(b) {
      var a = this;
      this._topActivity === b && this._bgTimestamp && Date.now() - this._bgTimestamp > this._newSessionTreshold && this._storage.getSessionId(!1).then(function(b) {
        a._sessionId = b;
        a._storage.setIds(a._userId, a._sessionId);
        a.sendNewSession();
      });
      this._topActivity = b;
    };
    c.prototype.onActivityPaused = function(b) {
      this._topActivity !== b && this._topActivity || (this._bgTimestamp = Date.now(), this.sendAppRunning());
      this._topActivity || (this._topActivity = b);
    };
    c.prototype.onStorageSet = function() {
    };
    c.prototype.send = function(b) {
      var a = Oa.getCommonObject(this._nativeBridge.getPlatform(), this._userId, this._sessionId, this._clientInfo, this._deviceInfo, this._configuration);
      b = JSON.stringify(a) + "\n" + JSON.stringify(b) + "\n";
      return this._request.post(this._endpoint, b);
    };
    return c;
  }(), Yf = function() {
    function c(b) {
      var a = this;
      this.onAppForeground = new x;
      this.onAppBackground = new x;
      this.onActivityResumed = new r;
      this.onActivityPaused = new r;
      this.onActivityDestroyed = new r;
      this.onScreenOn = new x;
      this.onScreenOff = new x;
      this._screenListener = "screenListener";
      this.ACTION_SCREEN_ON = "android.intent.action.SCREEN_ON";
      this.ACTION_SCREEN_OFF = "android.intent.action.SCREEN_OFF";
      this._nativeBridge = b;
      this._appForeground = !0;
      this._nativeBridge.Broadcast.onBroadcastAction.subscribe(function(b, c, e, l) {
        return a.onBroadcastAction(b, c, e, l);
      });
      this._nativeBridge.Notification.onNotification.subscribe(function(b, c) {
        return a.onNotification(b, c);
      });
      this._nativeBridge.Lifecycle.onActivityResumed.subscribe(function(b) {
        return a.onResume(b);
      });
      this._nativeBridge.Lifecycle.onActivityPaused.subscribe(function(b) {
        return a.onPause(b);
      });
      this._nativeBridge.Lifecycle.onActivityDestroyed.subscribe(function(b) {
        return a.onDestroyed(b);
      });
    }
    c.prototype.setListenAppForeground = function(b) {
      return b ? this._nativeBridge.Notification.addNotificationObserver(c._appForegroundNotification, []) : this._nativeBridge.Notification.removeNotificationObserver(c._appForegroundNotification);
    };
    c.prototype.setListenAppBackground = function(b) {
      return b ? this._nativeBridge.Notification.addNotificationObserver(c._appBackgroundNotification, []) : this._nativeBridge.Notification.removeNotificationObserver(c._appBackgroundNotification);
    };
    c.prototype.setListenAndroidLifecycle = function(b) {
      return b ? this._nativeBridge.Lifecycle.register(["onActivityResumed", "onActivityPaused"]) : this._nativeBridge.Lifecycle.unregister();
    };
    c.prototype.setListenScreen = function(b) {
      return b ? this._nativeBridge.Broadcast.addBroadcastListener(this._screenListener, [this.ACTION_SCREEN_ON, this.ACTION_SCREEN_OFF]) : this._nativeBridge.Broadcast.removeBroadcastListener(this._screenListener);
    };
    c.prototype.isAppForeground = function() {
      return this._appForeground;
    };
    c.prototype.onNotification = function(b) {
      b === c._appForegroundNotification ? (this._appForeground = !0, this.onAppForeground.trigger()) : b === c._appBackgroundNotification && (this._appForeground = !1, this.onAppBackground.trigger());
    };
    c.prototype.onResume = function(b) {
      this._appForeground = !0;
      this._topActivity = b;
      this.onActivityResumed.trigger(b);
    };
    c.prototype.onPause = function(b) {
      this._topActivity && b !== this._topActivity || (this._appForeground = !1, delete this._topActivity);
      this.onActivityPaused.trigger(b);
    };
    c.prototype.onDestroyed = function(b) {
      this.onActivityDestroyed.trigger(b);
    };
    c.prototype.onBroadcastAction = function(b, a) {
      if (b === this._screenListener) {
        switch(a) {
          case this.ACTION_SCREEN_ON:
            this.onScreenOn.trigger();
            break;
          case this.ACTION_SCREEN_OFF:
            this.onScreenOff.trigger();
        }
      }
    };
    c._appForegroundNotification = "UIApplicationDidBecomeActiveNotification";
    c._appBackgroundNotification = "UIApplicationWillResignActiveNotification";
    return c;
  }(), Zf = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), $f = window && window.__assign || Object.assign || function(c) {
    for (var b, a = 1, d = arguments.length; a < d; a++) {
      b = arguments[a];
      for (var f in b) {
        Object.prototype.hasOwnProperty.call(b, f) && (c[f] = b[f]);
      }
    }
    return c;
  }, ag = function(c) {
    function b() {
      var a = c.call(this, "PlayerMetaData", $f({}, xa.Schema, {server_id:["string"]})) || this;
      a.set("keys", ["server_id"]);
      a.set("category", "player");
      return a;
    }
    Zf(b, c);
    b.prototype.fetch = function(a, b) {
      var d = this;
      return c.prototype.fetch.call(this, a, b).then(function(b) {
        return b ? a.Storage.delete(n.PUBLIC, d.getCategory()).then(function() {
          return !0;
        }) : Promise.resolve(!1);
      });
    };
    b.prototype.getServerId = function() {
      return this.get("server_id");
    };
    b.prototype.getDTO = function() {
      return {sid:this.getServerId()};
    };
    return b;
  }(xa), ec = function() {
    function c(b, a, c, f, e, l) {
      this._nativeBridge = b;
      this._metaDataManager = c;
      this._sessionManager = f;
      this._clientInfo = e;
      this._deviceInfo = l;
      this._request = a;
    }
    c.setTestBaseUrl = function(b) {
      c.VideoEventBaseUrl = b + "/mobile/gamers";
      c.ClickEventBaseUrl = b + "/mobile/campaigns";
    };
    c.getEventKey = function(b, a) {
      return Xb.getSessionKey(b) + ".operative." + a;
    };
    c.getUrlKey = function(b, a) {
      return c.getEventKey(b, a) + ".url";
    };
    c.getDataKey = function(b, a) {
      return c.getEventKey(b, a) + ".data";
    };
    c.prototype.sendStart = function(b, a, c, f) {
      var d = this;
      if (b.getEventSent(F.START)) {
        return Promise.resolve();
      }
      b.setEventSent(F.START);
      return this._metaDataManager.fetch(ag).then(function(a) {
        a && d.setGamerServerId(a.getServerId());
        return d._metaDataManager.fetch(cb, !0, ["ordinal"]);
      }).then(function() {
        return d.createUniqueEventMetadata(b, a, c, d._sessionManager.getGameSessionId(), d._gamerServerId, d.getPreviousPlacementId(), f);
      }).then(function(a) {
        var b = a[1];
        return d.sendEvent("start", a[0], b.sessionId, d.createVideoEventUrl(c, "video_start"), JSON.stringify(b));
      }).then(function() {
      });
    };
    c.prototype.sendFirstQuartile = function(b, a, c, f) {
      var d = this;
      if (b.getEventSent(F.FIRST_QUARTILE)) {
        return Promise.resolve(void 0);
      }
      b.setEventSent(F.FIRST_QUARTILE);
      return this.createUniqueEventMetadata(b, a, c, this._sessionManager.getGameSessionId(), this._gamerServerId, this.getPreviousPlacementId(), f).then(function(a) {
        var b = a[1];
        d.sendEvent("first_quartile", a[0], b.sessionId, d.createVideoEventUrl(c, "first_quartile"), JSON.stringify(b));
      });
    };
    c.prototype.sendMidpoint = function(b, a, c, f) {
      var d = this;
      if (b.getEventSent(F.MIDPOINT)) {
        return Promise.resolve(void 0);
      }
      b.setEventSent(F.MIDPOINT);
      return this.createUniqueEventMetadata(b, a, c, this._sessionManager.getGameSessionId(), this._gamerServerId, this.getPreviousPlacementId(), f).then(function(a) {
        var b = a[1];
        d.sendEvent("midpoint", a[0], b.sessionId, d.createVideoEventUrl(c, "midpoint"), JSON.stringify(b));
      });
    };
    c.prototype.sendThirdQuartile = function(b, a, c, f) {
      var d = this;
      if (b.getEventSent(F.THIRD_QUARTILE)) {
        return Promise.resolve(void 0);
      }
      b.setEventSent(F.THIRD_QUARTILE);
      return this.createUniqueEventMetadata(b, a, c, this._sessionManager.getGameSessionId(), this._gamerServerId, this.getPreviousPlacementId(), f).then(function(a) {
        var b = a[1];
        d.sendEvent("third_quartile", a[0], b.sessionId, d.createVideoEventUrl(c, "third_quartile"), JSON.stringify(b));
      });
    };
    c.prototype.sendSkip = function(b, a, c, f, e) {
      if (b.getEventSent(F.SKIP)) {
        return Promise.resolve(void 0);
      }
      b.setEventSent(F.SKIP);
      return this.createUniqueEventMetadata(b, a, c, this._sessionManager.getGameSessionId(), this._gamerServerId, this.getPreviousPlacementId(), e).then(function(a) {
        var b = a[0];
        a = a[1];
        f && (a.skippedAt = f);
        delete a.eventId;
        delete a.apiLevel;
        delete a.advertisingTrackingId;
        delete a.limitAdTracking;
        delete a.osVersion;
        delete a.sid;
        delete a.deviceMake;
        delete a.deviceModel;
        delete a.sdkVersion;
        delete a.webviewUa;
        delete a.networkType;
        delete a.connectionType;
        a.id = b;
        a.ts = (new Date).toISOString();
        aa.sendEvent("events.skip.json", a);
      });
    };
    c.prototype.sendView = function(b, a, c, f) {
      var d = this;
      if (b.getEventSent(F.VIEW)) {
        return Promise.resolve(void 0);
      }
      b.setEventSent(F.VIEW);
      return this.createUniqueEventMetadata(b, a, c, this._sessionManager.getGameSessionId(), this._gamerServerId, this.getPreviousPlacementId(), f).then(function(a) {
        var b = a[1];
        d.sendEvent("view", a[0], b.sessionId, d.createVideoEventUrl(c, "video_end"), JSON.stringify(b));
      });
    };
    c.prototype.sendClick = function(b, a, c, f) {
      var d = this;
      if (b.getEventSent(F.CLICK)) {
        return Promise.resolve(void 0);
      }
      b.setEventSent(F.CLICK);
      return this.createUniqueEventMetadata(b, a, c, this._sessionManager.getGameSessionId(), this._gamerServerId, this.getPreviousPlacementId(), f).then(function(a) {
        var f = a[1];
        d.sendEvent("click", a[0], b.getId(), d.createClickEventUrl(c), JSON.stringify(f));
      });
    };
    c.prototype.sendUnsentEvents = function(b) {
      var a = this;
      return this.getUnsentEvents(b).then(function(c) {
        return Promise.all(c.map(function(c) {
          return a.resendEvent(b, c);
        }));
      });
    };
    c.prototype.setGamerServerId = function(b) {
      this._gamerServerId = b;
    };
    c.prototype.setPreviousPlacementId = function(b) {
      this._previousPlacementId = b;
    };
    c.prototype.getPreviousPlacementId = function() {
      return this._previousPlacementId;
    };
    c.prototype.getClientInfo = function() {
      return this._clientInfo;
    };
    c.prototype.sendEvent = function(b, a, d, f, e) {
      var g = this;
      this._nativeBridge.Sdk.logInfo("Unity Ads event: sending " + b + " event to " + f);
      return this._request.post(f, e, [], {retries:2, retryDelay:10000, followRedirects:!1, retryWithConnectionEvents:!1}).catch(function() {
        g._nativeBridge.Storage.set(n.PRIVATE, c.getUrlKey(d, a), f);
        g._nativeBridge.Storage.set(n.PRIVATE, c.getDataKey(d, a), e);
        g._nativeBridge.Storage.write(n.PRIVATE);
      });
    };
    c.prototype.createUniqueEventMetadata = function(b, a, c, f, e, h, k) {
      var d = this;
      return this._nativeBridge.DeviceInfo.getUniqueEventId().then(function(g) {
        return d.getInfoJson(b, a, c, g, f, e, h, k);
      });
    };
    c.prototype.getUnsentEvents = function(b) {
      return this._nativeBridge.Storage.getKeys(n.PRIVATE, "session." + b + ".operative", !1);
    };
    c.prototype.resendEvent = function(b, a) {
      var d = this;
      return this.getStoredEvent(b, a).then(function(c) {
        var f = c[0];
        c = c[1];
        d._nativeBridge.Sdk.logInfo("Unity Ads operative event: resending operative event to " + f + " (session " + b + ", event " + a + ")");
        return d._request.post(f, c);
      }).then(function() {
        return Promise.all([d._nativeBridge.Storage.delete(n.PRIVATE, c.getEventKey(b, a)), d._nativeBridge.Storage.write(n.PRIVATE)]);
      }).catch(function() {
      });
    };
    c.prototype.getStoredEvent = function(b, a) {
      return Promise.all([this._nativeBridge.Storage.get(n.PRIVATE, c.getUrlKey(b, a)), this._nativeBridge.Storage.get(n.PRIVATE, c.getDataKey(b, a))]);
    };
    c.prototype.getInfoJson = function(b, a, c, f, e, l, k, m) {
      var d = {eventId:f, auctionId:b.getId(), gameSessionId:e, gamerId:c.getGamerId(), campaignId:c.getId(), adType:c.getAdType(), correlationId:c.getCorrelationId(), creativeId:c.getCreativeId(), seatId:c.getSeatId(), placementId:a.getId(), apiLevel:this._deviceInfo.getApiLevel(), advertisingTrackingId:this._deviceInfo.getAdvertisingIdentifier(), limitAdTracking:this._deviceInfo.getLimitAdTracking(), osVersion:this._deviceInfo.getOsVersion(), sid:l, deviceMake:this._deviceInfo.getManufacturer(), 
      deviceModel:this._deviceInfo.getModel(), sdkVersion:this._clientInfo.getSdkVersion(), previousPlacementId:k, bundleId:this._clientInfo.getApplicationName(), meta:c.getMeta(), screenDensity:this._deviceInfo.getScreenDensity(), screenSize:this._deviceInfo.getScreenLayout(), platform:h[this._clientInfo.getPlatform()].toLowerCase(), language:this._deviceInfo.getLanguage()};
      c instanceof da ? (b = c.getVideo(), c = c.getPortraitVideo(), b && b.isCached() ? (d.cached = !0, d.cachedOrientation = "landscape") : c && c.isCached() ? (d.cached = !0, d.cachedOrientation = "portrait") : d.cached = !1) : c instanceof Wa ? d.cached = c.getVideo().isCached() : c instanceof na ? (b = c.getResourceUrl()) && b.isCached() || c.getResource() ? d.cached = !0 : d.cached = !1 : c instanceof Ia && (d.cached = !1);
      d.videoOrientation = m;
      "undefined" !== typeof navigator && navigator.userAgent && (d.webviewUa = navigator.userAgent);
      return Promise.all([this._deviceInfo.getNetworkType(), this._deviceInfo.getConnectionType(), this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight(), this._metaDataManager.fetch(cb), this._metaDataManager.fetch(rb)]).then(function(a) {
        var b = a[1], c = a[2], e = a[3], g = a[4], h = a[5];
        d.networkType = a[0];
        d.connectionType = b;
        d.screenWidth = c;
        d.screenHeight = e;
        g && (d.mediationName = g.getName(), d.mediationVersion = g.getVersion(), d.mediationOrdinal = g.getOrdinal());
        h && (d.frameworkName = h.getName(), d.frameworkVersion = h.getVersion());
        return [f, d];
      });
    };
    c.prototype.createVideoEventUrl = function(b, a) {
      if (b instanceof da || b instanceof na) {
        var d = b.getVideoEventUrl(a);
        if (d) {
          return d;
        }
      }
      return [c.VideoEventBaseUrl, b.getGamerId(), "video", a, b.getId(), this._clientInfo.getGameId()].join("/");
    };
    c.prototype.createClickEventUrl = function(b) {
      var a = {};
      if (b instanceof da || b instanceof na) {
        var d = b.getClickUrl();
        if (d) {
          a = {redirect:!1};
          var f = d;
        }
      }
      f || (f = [c.ClickEventBaseUrl, b.getId(), "click", b.getGamerId()].join("/"), a = {gameId:this._clientInfo.getGameId(), redirect:!1});
      return p.addParameters(f, a);
    };
    c.VideoEventBaseUrl = "https://adserver.unityads.unity3d.com/mobile/gamers";
    c.ClickEventBaseUrl = "https://adserver.unityads.unity3d.com/mobile/campaigns";
    return c;
  }(), bg = function() {
    function c(b, a, c) {
      this._thirdPartyEventManager = b;
      this._nativeBridge = a;
      this._deviceInfo = c;
      this._adBreakIdentifier = Date.now();
      this._adCounter = this._tagCounter = 1;
    }
    c.prototype.sendEvent = function(b, a, c, f, e, h, k) {
      c = this.setEventUrl(b, c, f, e, h, k);
      this._thirdPartyEventManager.sendEvent(b, a, c);
    };
    c.prototype.setEventUrl = function(b, a, c, f, e, l) {
      var d = this._deviceInfo.getModel(), g = this._adBreakIdentifier, n = this._tagCounter, t = this._tagCounter, u = "unknown", r = "none";
      if (!this._deviceInfo.getLimitAdTracking() && this._deviceInfo.getAdvertisingIdentifier()) {
        var q = this._deviceInfo.getAdvertisingIdentifier();
        r = [];
        for (var B = 0; B < 8 * q.length; B += 8) {
          r[B >> 5] |= (q.charCodeAt(B / 8) & 255) << 24 - B % 32;
        }
        q = 8 * q.length;
        r[q >> 5] |= 128 << 24 - q % 32;
        r[(q + 64 >> 9 << 4) + 15] = q;
        q = Array(80);
        B = 1732584193;
        for (var v = -271733879, x = -1732584194, y = 271733878, A = -1009589776, C = 0; C < r.length; C += 16) {
          for (var E = B, F = v, G = x, H = y, I = A, z = 0; 80 > z; z++) {
            if (16 > z) {
              q[z] = r[C + z];
            } else {
              var D = q[z - 3] ^ q[z - 8] ^ q[z - 14] ^ q[z - 16];
              q[z] = D << 1 | D >>> 31;
            }
            D = B << 5 | B >>> 27;
            var J = 20 > z ? v & x | ~v & y : 40 > z ? v ^ x ^ y : 60 > z ? v & x | v & y | x & y : v ^ x ^ y;
            D = ka(ka(D, J), ka(ka(A, q[z]), 20 > z ? 1518500249 : 40 > z ? 1859775393 : 60 > z ? -1894007588 : -899497514));
            A = y;
            y = x;
            x = v << 30 | v >>> 2;
            v = B;
            B = D;
          }
          B = ka(B, E);
          v = ka(v, F);
          x = ka(x, G);
          y = ka(y, H);
          A = ka(A, I);
        }
        r = [B, v, x, y, A];
        q = "";
        for (B = 0; B < 4 * r.length; B++) {
          q += "0123456789abcdef".charAt(r[B >> 2] >> 8 * (3 - B % 4) + 4 & 15) + "0123456789abcdef".charAt(r[B >> 2] >> 8 * (3 - B % 4) & 15);
        }
        r = q;
      }
      this._nativeBridge.getPlatform() === h.IOS ? u = "ios" : this._nativeBridge.getPlatform() === h.ANDROID && (u = "android");
      "undefined" === typeof e && (e = "*null");
      "undefined" === typeof f && (f = "0");
      "undefined" === typeof l && (l = "");
      b = {c1:"19", c2:"23027898", ns_type:"hidden", ns_st_ct:"va00", ns_ap_sv:"2.1602.11", ns_st_it:"a", ns_st_sv:"4.0.0", ns_st_ad:"1", ns_st_sq:"1", c12:"" + r, ns_ap_pn:"" + u, ns_ap_device:"" + d, ns_st_id:"" + g, ns_st_ec:"" + n, ns_st_ev:"" + b, ns_st_cn:"" + t, ns_st_ci:"" + f, ns_st_cl:"" + a, ns_st_pt:"" + c, c3:"" + e, ns_st_ge:"" + l, ns_ts:"" + Date.now()};
      return p.addParameters("https://sb.scorecardresearch.com/p", b);
    };
    return c;
  }(), Ba = ra.Reader, fc = ra.Writer, e = ra.util, qa = ra.roots["default"] || (ra.roots["default"] = {}), jb = qa.unity_proto = function() {
    var c = {};
    c.UnityProto = function() {
      function b(a) {
        this.encryptedBlobs = [];
        if (a) {
          for (var b = Object.keys(a), c = 0; c < b.length; ++c) {
            null != a[b[c]] && (this[b[c]] = a[b[c]]);
          }
        }
      }
      b.prototype.encryptedBlobs = e.emptyArray;
      b.prototype.encryptionMethod = 3;
      b.prototype.protoName = 2;
      b.create = function(a) {
        return new b(a);
      };
      b.encode = function(a, b) {
        b || (b = fc.create());
        if (null != a.encryptedBlobs && a.encryptedBlobs.length) {
          for (var c = 0; c < a.encryptedBlobs.length; ++c) {
            b.uint32(10).bytes(a.encryptedBlobs[c]);
          }
        }
        null != a.protoName && a.hasOwnProperty("protoName") && b.uint32(24).int32(a.protoName);
        null != a.encryptionMethod && a.hasOwnProperty("encryptionMethod") && b.uint32(32).int32(a.encryptionMethod);
        return b;
      };
      b.encodeDelimited = function(a, b) {
        return this.encode(a, b).ldelim();
      };
      b.decode = function(a, b) {
        a instanceof Ba || (a = Ba.create(a));
        b = void 0 === b ? a.len : a.pos + b;
        for (var c = new qa.unity_proto.UnityProto; a.pos < b;) {
          var d = a.uint32();
          switch(d >>> 3) {
            case 1:
              c.encryptedBlobs && c.encryptedBlobs.length || (c.encryptedBlobs = []);
              c.encryptedBlobs.push(a.bytes());
              break;
            case 4:
              c.encryptionMethod = a.int32();
              break;
            case 3:
              c.protoName = a.int32();
              break;
            default:
              a.skipType(d & 7);
          }
        }
        return c;
      };
      b.decodeDelimited = function(a) {
        a instanceof Ba || (a = new Ba(a));
        return this.decode(a, a.uint32());
      };
      b.verify = function(a) {
        if ("object" !== typeof a || null === a) {
          return "object expected";
        }
        if (null != a.encryptedBlobs && a.hasOwnProperty("encryptedBlobs")) {
          if (!Array.isArray(a.encryptedBlobs)) {
            return "encryptedBlobs: array expected";
          }
          for (var b = 0; b < a.encryptedBlobs.length; ++b) {
            if (!(a.encryptedBlobs[b] && "number" === typeof a.encryptedBlobs[b].length || e.isString(a.encryptedBlobs[b]))) {
              return "encryptedBlobs: buffer[] expected";
            }
          }
        }
        if (null != a.encryptionMethod && a.hasOwnProperty("encryptionMethod")) {
          switch(a.encryptionMethod) {
            default:
              return "encryptionMethod: enum value expected";
            case 3:
          }
        }
        if (null != a.protoName && a.hasOwnProperty("protoName")) {
          switch(a.protoName) {
            default:
              return "protoName: enum value expected";
            case 2:
          }
        }
        return null;
      };
      b.fromObject = function(a) {
        if (a instanceof qa.unity_proto.UnityProto) {
          return a;
        }
        var b = new qa.unity_proto.UnityProto;
        if (a.encryptedBlobs) {
          if (!Array.isArray(a.encryptedBlobs)) {
            throw TypeError(".unity_proto.UnityProto.encryptedBlobs: array expected");
          }
          b.encryptedBlobs = [];
          for (var c = 0; c < a.encryptedBlobs.length; ++c) {
            "string" === typeof a.encryptedBlobs[c] ? e.base64.decode(a.encryptedBlobs[c], b.encryptedBlobs[c] = e.newBuffer(e.base64.length(a.encryptedBlobs[c])), 0) : a.encryptedBlobs[c].length && (b.encryptedBlobs[c] = a.encryptedBlobs[c]);
          }
        }
        switch(a.encryptionMethod) {
          case "UNENCRYPTED":
          case 3:
            b.encryptionMethod = 3;
        }
        switch(a.protoName) {
          case "UNITY_INFO":
          case 2:
            b.protoName = 2;
        }
        return b;
      };
      b.toObject = function(a, b) {
        b || (b = {});
        var c = {};
        if (b.arrays || b.defaults) {
          c.encryptedBlobs = [];
        }
        b.defaults && (c.protoName = b.enums === String ? "UNITY_INFO" : 2, c.encryptionMethod = b.enums === String ? "UNENCRYPTED" : 3);
        if (a.encryptedBlobs && a.encryptedBlobs.length) {
          c.encryptedBlobs = [];
          for (var d = 0; d < a.encryptedBlobs.length; ++d) {
            c.encryptedBlobs[d] = b.bytes === String ? e.base64.encode(a.encryptedBlobs[d], 0, a.encryptedBlobs[d].length) : b.bytes === Array ? Array.prototype.slice.call(a.encryptedBlobs[d]) : a.encryptedBlobs[d];
          }
        }
        null != a.protoName && a.hasOwnProperty("protoName") && (c.protoName = b.enums === String ? qa.unity_proto.UnityProto.ProtoName[a.protoName] : a.protoName);
        null != a.encryptionMethod && a.hasOwnProperty("encryptionMethod") && (c.encryptionMethod = b.enums === String ? qa.unity_proto.UnityProto.EncryptionMethod[a.encryptionMethod] : a.encryptionMethod);
        return c;
      };
      b.prototype.toJSON = function() {
        return this.constructor.toObject(this, ra.util.toJSONOptions);
      };
      b.EncryptionMethod = function() {
        var a = {}, b = Object.create(a);
        b[a[3] = "UNENCRYPTED"] = 3;
        return b;
      }();
      b.ProtoName = function() {
        var a = {}, b = Object.create(a);
        b[a[2] = "UNITY_INFO"] = 2;
        return b;
      }();
      return b;
    }();
    c.UnityInfo = function() {
      function b(a) {
        if (a) {
          for (var b = Object.keys(a), c = 0; c < b.length; ++c) {
            null != a[b[c]] && (this[b[c]] = a[b[c]]);
          }
        }
      }
      b.prototype.field_1 = "";
      b.prototype.field_2 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_3 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_4 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_5 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_6 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_7 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_8 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_9 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_10 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_11 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_12 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_13 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_14 = !1;
      b.prototype.field_15 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_16 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_17 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_18 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_19 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_20 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_21 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_22 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_23 = "";
      b.prototype.field_24 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_25 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_26 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_27 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_28 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_29 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_30 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_31 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_32 = !1;
      b.prototype.field_33 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_34 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_35 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_36 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_37 = "";
      b.prototype.field_38 = "";
      b.prototype.field_39 = "";
      b.prototype.field_40 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_41 = "";
      b.prototype.field_42 = "";
      b.prototype.field_43 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_44 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_45 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_46 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_47 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_48 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_49 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.prototype.field_50 = e.Long ? e.Long.fromBits(0, 0, !1) : 0;
      b.create = function(a) {
        return new b(a);
      };
      b.encode = function(a, b) {
        b || (b = fc.create());
        null != a.field_1 && a.hasOwnProperty("field_1") && b.uint32(10).string(a.field_1);
        null != a.field_2 && a.hasOwnProperty("field_2") && b.uint32(16).int64(a.field_2);
        null != a.field_3 && a.hasOwnProperty("field_3") && b.uint32(24).int64(a.field_3);
        null != a.field_4 && a.hasOwnProperty("field_4") && b.uint32(32).int64(a.field_4);
        null != a.field_5 && a.hasOwnProperty("field_5") && b.uint32(40).int64(a.field_5);
        null != a.field_6 && a.hasOwnProperty("field_6") && b.uint32(48).int64(a.field_6);
        null != a.field_7 && a.hasOwnProperty("field_7") && b.uint32(56).int64(a.field_7);
        null != a.field_8 && a.hasOwnProperty("field_8") && b.uint32(64).int64(a.field_8);
        null != a.field_9 && a.hasOwnProperty("field_9") && b.uint32(72).int64(a.field_9);
        null != a.field_10 && a.hasOwnProperty("field_10") && b.uint32(80).int64(a.field_10);
        null != a.field_11 && a.hasOwnProperty("field_11") && b.uint32(88).int64(a.field_11);
        null != a.field_12 && a.hasOwnProperty("field_12") && b.uint32(96).int64(a.field_12);
        null != a.field_13 && a.hasOwnProperty("field_13") && b.uint32(104).int64(a.field_13);
        null != a.field_14 && a.hasOwnProperty("field_14") && b.uint32(112).bool(a.field_14);
        null != a.field_15 && a.hasOwnProperty("field_15") && b.uint32(120).int64(a.field_15);
        null != a.field_16 && a.hasOwnProperty("field_16") && b.uint32(128).int64(a.field_16);
        null != a.field_17 && a.hasOwnProperty("field_17") && b.uint32(136).int64(a.field_17);
        null != a.field_18 && a.hasOwnProperty("field_18") && b.uint32(144).int64(a.field_18);
        null != a.field_19 && a.hasOwnProperty("field_19") && b.uint32(152).int64(a.field_19);
        null != a.field_20 && a.hasOwnProperty("field_20") && b.uint32(160).int64(a.field_20);
        null != a.field_21 && a.hasOwnProperty("field_21") && b.uint32(168).int64(a.field_21);
        null != a.field_22 && a.hasOwnProperty("field_22") && b.uint32(176).int64(a.field_22);
        null != a.field_23 && a.hasOwnProperty("field_23") && b.uint32(186).string(a.field_23);
        null != a.field_24 && a.hasOwnProperty("field_24") && b.uint32(192).int64(a.field_24);
        null != a.field_25 && a.hasOwnProperty("field_25") && b.uint32(200).int64(a.field_25);
        null != a.field_26 && a.hasOwnProperty("field_26") && b.uint32(208).int64(a.field_26);
        null != a.field_27 && a.hasOwnProperty("field_27") && b.uint32(216).int64(a.field_27);
        null != a.field_28 && a.hasOwnProperty("field_28") && b.uint32(224).int64(a.field_28);
        null != a.field_29 && a.hasOwnProperty("field_29") && b.uint32(232).int64(a.field_29);
        null != a.field_30 && a.hasOwnProperty("field_30") && b.uint32(240).int64(a.field_30);
        null != a.field_31 && a.hasOwnProperty("field_31") && b.uint32(248).int64(a.field_31);
        null != a.field_32 && a.hasOwnProperty("field_32") && b.uint32(256).bool(a.field_32);
        null != a.field_33 && a.hasOwnProperty("field_33") && b.uint32(264).int64(a.field_33);
        null != a.field_34 && a.hasOwnProperty("field_34") && b.uint32(272).int64(a.field_34);
        null != a.field_35 && a.hasOwnProperty("field_35") && b.uint32(280).int64(a.field_35);
        null != a.field_36 && a.hasOwnProperty("field_36") && b.uint32(288).int64(a.field_36);
        null != a.field_37 && a.hasOwnProperty("field_37") && b.uint32(298).string(a.field_37);
        null != a.field_38 && a.hasOwnProperty("field_38") && b.uint32(306).string(a.field_38);
        null != a.field_39 && a.hasOwnProperty("field_39") && b.uint32(314).string(a.field_39);
        null != a.field_40 && a.hasOwnProperty("field_40") && b.uint32(320).int64(a.field_40);
        null != a.field_41 && a.hasOwnProperty("field_41") && b.uint32(330).string(a.field_41);
        null != a.field_42 && a.hasOwnProperty("field_42") && b.uint32(338).string(a.field_42);
        null != a.field_43 && a.hasOwnProperty("field_43") && b.uint32(344).int64(a.field_43);
        null != a.field_44 && a.hasOwnProperty("field_44") && b.uint32(352).int64(a.field_44);
        null != a.field_45 && a.hasOwnProperty("field_45") && b.uint32(360).int64(a.field_45);
        null != a.field_46 && a.hasOwnProperty("field_46") && b.uint32(368).int64(a.field_46);
        null != a.field_47 && a.hasOwnProperty("field_47") && b.uint32(376).int64(a.field_47);
        null != a.field_48 && a.hasOwnProperty("field_48") && b.uint32(384).int64(a.field_48);
        null != a.field_49 && a.hasOwnProperty("field_49") && b.uint32(392).int64(a.field_49);
        null != a.field_50 && a.hasOwnProperty("field_50") && b.uint32(400).int64(a.field_50);
        return b;
      };
      b.encodeDelimited = function(a, b) {
        return this.encode(a, b).ldelim();
      };
      b.decode = function(a, b) {
        a instanceof Ba || (a = Ba.create(a));
        b = void 0 === b ? a.len : a.pos + b;
        for (var c = new qa.unity_proto.UnityInfo; a.pos < b;) {
          var d = a.uint32();
          switch(d >>> 3) {
            case 1:
              c.field_1 = a.string();
              break;
            case 2:
              c.field_2 = a.int64();
              break;
            case 3:
              c.field_3 = a.int64();
              break;
            case 4:
              c.field_4 = a.int64();
              break;
            case 5:
              c.field_5 = a.int64();
              break;
            case 6:
              c.field_6 = a.int64();
              break;
            case 7:
              c.field_7 = a.int64();
              break;
            case 8:
              c.field_8 = a.int64();
              break;
            case 9:
              c.field_9 = a.int64();
              break;
            case 10:
              c.field_10 = a.int64();
              break;
            case 11:
              c.field_11 = a.int64();
              break;
            case 12:
              c.field_12 = a.int64();
              break;
            case 13:
              c.field_13 = a.int64();
              break;
            case 14:
              c.field_14 = a.bool();
              break;
            case 15:
              c.field_15 = a.int64();
              break;
            case 16:
              c.field_16 = a.int64();
              break;
            case 17:
              c.field_17 = a.int64();
              break;
            case 18:
              c.field_18 = a.int64();
              break;
            case 19:
              c.field_19 = a.int64();
              break;
            case 20:
              c.field_20 = a.int64();
              break;
            case 21:
              c.field_21 = a.int64();
              break;
            case 22:
              c.field_22 = a.int64();
              break;
            case 23:
              c.field_23 = a.string();
              break;
            case 24:
              c.field_24 = a.int64();
              break;
            case 25:
              c.field_25 = a.int64();
              break;
            case 26:
              c.field_26 = a.int64();
              break;
            case 27:
              c.field_27 = a.int64();
              break;
            case 28:
              c.field_28 = a.int64();
              break;
            case 29:
              c.field_29 = a.int64();
              break;
            case 30:
              c.field_30 = a.int64();
              break;
            case 31:
              c.field_31 = a.int64();
              break;
            case 32:
              c.field_32 = a.bool();
              break;
            case 33:
              c.field_33 = a.int64();
              break;
            case 34:
              c.field_34 = a.int64();
              break;
            case 35:
              c.field_35 = a.int64();
              break;
            case 36:
              c.field_36 = a.int64();
              break;
            case 37:
              c.field_37 = a.string();
              break;
            case 38:
              c.field_38 = a.string();
              break;
            case 39:
              c.field_39 = a.string();
              break;
            case 40:
              c.field_40 = a.int64();
              break;
            case 41:
              c.field_41 = a.string();
              break;
            case 42:
              c.field_42 = a.string();
              break;
            case 43:
              c.field_43 = a.int64();
              break;
            case 44:
              c.field_44 = a.int64();
              break;
            case 45:
              c.field_45 = a.int64();
              break;
            case 46:
              c.field_46 = a.int64();
              break;
            case 47:
              c.field_47 = a.int64();
              break;
            case 48:
              c.field_48 = a.int64();
              break;
            case 49:
              c.field_49 = a.int64();
              break;
            case 50:
              c.field_50 = a.int64();
              break;
            default:
              a.skipType(d & 7);
          }
        }
        return c;
      };
      b.decodeDelimited = function(a) {
        a instanceof Ba || (a = new Ba(a));
        return this.decode(a, a.uint32());
      };
      b.verify = function(a) {
        return "object" !== typeof a || null === a ? "object expected" : null != a.field_1 && a.hasOwnProperty("field_1") && !e.isString(a.field_1) ? "field_1: string expected" : null == a.field_2 || !a.hasOwnProperty("field_2") || e.isInteger(a.field_2) || a.field_2 && e.isInteger(a.field_2.low) && e.isInteger(a.field_2.high) ? null == a.field_3 || !a.hasOwnProperty("field_3") || e.isInteger(a.field_3) || a.field_3 && e.isInteger(a.field_3.low) && e.isInteger(a.field_3.high) ? null == a.field_4 || 
        !a.hasOwnProperty("field_4") || e.isInteger(a.field_4) || a.field_4 && e.isInteger(a.field_4.low) && e.isInteger(a.field_4.high) ? null == a.field_5 || !a.hasOwnProperty("field_5") || e.isInteger(a.field_5) || a.field_5 && e.isInteger(a.field_5.low) && e.isInteger(a.field_5.high) ? null == a.field_6 || !a.hasOwnProperty("field_6") || e.isInteger(a.field_6) || a.field_6 && e.isInteger(a.field_6.low) && e.isInteger(a.field_6.high) ? null == a.field_7 || !a.hasOwnProperty("field_7") || e.isInteger(a.field_7) || 
        a.field_7 && e.isInteger(a.field_7.low) && e.isInteger(a.field_7.high) ? null == a.field_8 || !a.hasOwnProperty("field_8") || e.isInteger(a.field_8) || a.field_8 && e.isInteger(a.field_8.low) && e.isInteger(a.field_8.high) ? null == a.field_9 || !a.hasOwnProperty("field_9") || e.isInteger(a.field_9) || a.field_9 && e.isInteger(a.field_9.low) && e.isInteger(a.field_9.high) ? null == a.field_10 || !a.hasOwnProperty("field_10") || e.isInteger(a.field_10) || a.field_10 && e.isInteger(a.field_10.low) && 
        e.isInteger(a.field_10.high) ? null == a.field_11 || !a.hasOwnProperty("field_11") || e.isInteger(a.field_11) || a.field_11 && e.isInteger(a.field_11.low) && e.isInteger(a.field_11.high) ? null == a.field_12 || !a.hasOwnProperty("field_12") || e.isInteger(a.field_12) || a.field_12 && e.isInteger(a.field_12.low) && e.isInteger(a.field_12.high) ? null == a.field_13 || !a.hasOwnProperty("field_13") || e.isInteger(a.field_13) || a.field_13 && e.isInteger(a.field_13.low) && e.isInteger(a.field_13.high) ? 
        null != a.field_14 && a.hasOwnProperty("field_14") && "boolean" !== typeof a.field_14 ? "field_14: boolean expected" : null == a.field_15 || !a.hasOwnProperty("field_15") || e.isInteger(a.field_15) || a.field_15 && e.isInteger(a.field_15.low) && e.isInteger(a.field_15.high) ? null == a.field_16 || !a.hasOwnProperty("field_16") || e.isInteger(a.field_16) || a.field_16 && e.isInteger(a.field_16.low) && e.isInteger(a.field_16.high) ? null == a.field_17 || !a.hasOwnProperty("field_17") || e.isInteger(a.field_17) || 
        a.field_17 && e.isInteger(a.field_17.low) && e.isInteger(a.field_17.high) ? null == a.field_18 || !a.hasOwnProperty("field_18") || e.isInteger(a.field_18) || a.field_18 && e.isInteger(a.field_18.low) && e.isInteger(a.field_18.high) ? null == a.field_19 || !a.hasOwnProperty("field_19") || e.isInteger(a.field_19) || a.field_19 && e.isInteger(a.field_19.low) && e.isInteger(a.field_19.high) ? null == a.field_20 || !a.hasOwnProperty("field_20") || e.isInteger(a.field_20) || a.field_20 && e.isInteger(a.field_20.low) && 
        e.isInteger(a.field_20.high) ? null == a.field_21 || !a.hasOwnProperty("field_21") || e.isInteger(a.field_21) || a.field_21 && e.isInteger(a.field_21.low) && e.isInteger(a.field_21.high) ? null == a.field_22 || !a.hasOwnProperty("field_22") || e.isInteger(a.field_22) || a.field_22 && e.isInteger(a.field_22.low) && e.isInteger(a.field_22.high) ? null != a.field_23 && a.hasOwnProperty("field_23") && !e.isString(a.field_23) ? "field_23: string expected" : null == a.field_24 || !a.hasOwnProperty("field_24") || 
        e.isInteger(a.field_24) || a.field_24 && e.isInteger(a.field_24.low) && e.isInteger(a.field_24.high) ? null == a.field_25 || !a.hasOwnProperty("field_25") || e.isInteger(a.field_25) || a.field_25 && e.isInteger(a.field_25.low) && e.isInteger(a.field_25.high) ? null == a.field_26 || !a.hasOwnProperty("field_26") || e.isInteger(a.field_26) || a.field_26 && e.isInteger(a.field_26.low) && e.isInteger(a.field_26.high) ? null == a.field_27 || !a.hasOwnProperty("field_27") || e.isInteger(a.field_27) || 
        a.field_27 && e.isInteger(a.field_27.low) && e.isInteger(a.field_27.high) ? null == a.field_28 || !a.hasOwnProperty("field_28") || e.isInteger(a.field_28) || a.field_28 && e.isInteger(a.field_28.low) && e.isInteger(a.field_28.high) ? null == a.field_29 || !a.hasOwnProperty("field_29") || e.isInteger(a.field_29) || a.field_29 && e.isInteger(a.field_29.low) && e.isInteger(a.field_29.high) ? null == a.field_30 || !a.hasOwnProperty("field_30") || e.isInteger(a.field_30) || a.field_30 && e.isInteger(a.field_30.low) && 
        e.isInteger(a.field_30.high) ? null == a.field_31 || !a.hasOwnProperty("field_31") || e.isInteger(a.field_31) || a.field_31 && e.isInteger(a.field_31.low) && e.isInteger(a.field_31.high) ? null != a.field_32 && a.hasOwnProperty("field_32") && "boolean" !== typeof a.field_32 ? "field_32: boolean expected" : null == a.field_33 || !a.hasOwnProperty("field_33") || e.isInteger(a.field_33) || a.field_33 && e.isInteger(a.field_33.low) && e.isInteger(a.field_33.high) ? null == a.field_34 || !a.hasOwnProperty("field_34") || 
        e.isInteger(a.field_34) || a.field_34 && e.isInteger(a.field_34.low) && e.isInteger(a.field_34.high) ? null == a.field_35 || !a.hasOwnProperty("field_35") || e.isInteger(a.field_35) || a.field_35 && e.isInteger(a.field_35.low) && e.isInteger(a.field_35.high) ? null == a.field_36 || !a.hasOwnProperty("field_36") || e.isInteger(a.field_36) || a.field_36 && e.isInteger(a.field_36.low) && e.isInteger(a.field_36.high) ? null != a.field_37 && a.hasOwnProperty("field_37") && !e.isString(a.field_37) ? 
        "field_37: string expected" : null != a.field_38 && a.hasOwnProperty("field_38") && !e.isString(a.field_38) ? "field_38: string expected" : null != a.field_39 && a.hasOwnProperty("field_39") && !e.isString(a.field_39) ? "field_39: string expected" : null == a.field_40 || !a.hasOwnProperty("field_40") || e.isInteger(a.field_40) || a.field_40 && e.isInteger(a.field_40.low) && e.isInteger(a.field_40.high) ? null != a.field_41 && a.hasOwnProperty("field_41") && !e.isString(a.field_41) ? "field_41: string expected" : 
        null != a.field_42 && a.hasOwnProperty("field_42") && !e.isString(a.field_42) ? "field_42: string expected" : null == a.field_43 || !a.hasOwnProperty("field_43") || e.isInteger(a.field_43) || a.field_43 && e.isInteger(a.field_43.low) && e.isInteger(a.field_43.high) ? null == a.field_44 || !a.hasOwnProperty("field_44") || e.isInteger(a.field_44) || a.field_44 && e.isInteger(a.field_44.low) && e.isInteger(a.field_44.high) ? null == a.field_45 || !a.hasOwnProperty("field_45") || e.isInteger(a.field_45) || 
        a.field_45 && e.isInteger(a.field_45.low) && e.isInteger(a.field_45.high) ? null == a.field_46 || !a.hasOwnProperty("field_46") || e.isInteger(a.field_46) || a.field_46 && e.isInteger(a.field_46.low) && e.isInteger(a.field_46.high) ? null == a.field_47 || !a.hasOwnProperty("field_47") || e.isInteger(a.field_47) || a.field_47 && e.isInteger(a.field_47.low) && e.isInteger(a.field_47.high) ? null == a.field_48 || !a.hasOwnProperty("field_48") || e.isInteger(a.field_48) || a.field_48 && e.isInteger(a.field_48.low) && 
        e.isInteger(a.field_48.high) ? null == a.field_49 || !a.hasOwnProperty("field_49") || e.isInteger(a.field_49) || a.field_49 && e.isInteger(a.field_49.low) && e.isInteger(a.field_49.high) ? null == a.field_50 || !a.hasOwnProperty("field_50") || e.isInteger(a.field_50) || a.field_50 && e.isInteger(a.field_50.low) && e.isInteger(a.field_50.high) ? null : "field_50: integer|Long expected" : "field_49: integer|Long expected" : "field_48: integer|Long expected" : "field_47: integer|Long expected" : 
        "field_46: integer|Long expected" : "field_45: integer|Long expected" : "field_44: integer|Long expected" : "field_43: integer|Long expected" : "field_40: integer|Long expected" : "field_36: integer|Long expected" : "field_35: integer|Long expected" : "field_34: integer|Long expected" : "field_33: integer|Long expected" : "field_31: integer|Long expected" : "field_30: integer|Long expected" : "field_29: integer|Long expected" : "field_28: integer|Long expected" : "field_27: integer|Long expected" : 
        "field_26: integer|Long expected" : "field_25: integer|Long expected" : "field_24: integer|Long expected" : "field_22: integer|Long expected" : "field_21: integer|Long expected" : "field_20: integer|Long expected" : "field_19: integer|Long expected" : "field_18: integer|Long expected" : "field_17: integer|Long expected" : "field_16: integer|Long expected" : "field_15: integer|Long expected" : "field_13: integer|Long expected" : "field_12: integer|Long expected" : "field_11: integer|Long expected" : 
        "field_10: integer|Long expected" : "field_9: integer|Long expected" : "field_8: integer|Long expected" : "field_7: integer|Long expected" : "field_6: integer|Long expected" : "field_5: integer|Long expected" : "field_4: integer|Long expected" : "field_3: integer|Long expected" : "field_2: integer|Long expected";
      };
      b.fromObject = function(a) {
        if (a instanceof qa.unity_proto.UnityInfo) {
          return a;
        }
        var b = new qa.unity_proto.UnityInfo;
        null != a.field_1 && (b.field_1 = String(a.field_1));
        null != a.field_2 && (e.Long ? (b.field_2 = e.Long.fromValue(a.field_2)).unsigned = !1 : "string" === typeof a.field_2 ? b.field_2 = parseInt(a.field_2, 10) : "number" === typeof a.field_2 ? b.field_2 = a.field_2 : "object" === typeof a.field_2 && (b.field_2 = (new e.LongBits(a.field_2.low >>> 0, a.field_2.high >>> 0)).toNumber()));
        null != a.field_3 && (e.Long ? (b.field_3 = e.Long.fromValue(a.field_3)).unsigned = !1 : "string" === typeof a.field_3 ? b.field_3 = parseInt(a.field_3, 10) : "number" === typeof a.field_3 ? b.field_3 = a.field_3 : "object" === typeof a.field_3 && (b.field_3 = (new e.LongBits(a.field_3.low >>> 0, a.field_3.high >>> 0)).toNumber()));
        null != a.field_4 && (e.Long ? (b.field_4 = e.Long.fromValue(a.field_4)).unsigned = !1 : "string" === typeof a.field_4 ? b.field_4 = parseInt(a.field_4, 10) : "number" === typeof a.field_4 ? b.field_4 = a.field_4 : "object" === typeof a.field_4 && (b.field_4 = (new e.LongBits(a.field_4.low >>> 0, a.field_4.high >>> 0)).toNumber()));
        null != a.field_5 && (e.Long ? (b.field_5 = e.Long.fromValue(a.field_5)).unsigned = !1 : "string" === typeof a.field_5 ? b.field_5 = parseInt(a.field_5, 10) : "number" === typeof a.field_5 ? b.field_5 = a.field_5 : "object" === typeof a.field_5 && (b.field_5 = (new e.LongBits(a.field_5.low >>> 0, a.field_5.high >>> 0)).toNumber()));
        null != a.field_6 && (e.Long ? (b.field_6 = e.Long.fromValue(a.field_6)).unsigned = !1 : "string" === typeof a.field_6 ? b.field_6 = parseInt(a.field_6, 10) : "number" === typeof a.field_6 ? b.field_6 = a.field_6 : "object" === typeof a.field_6 && (b.field_6 = (new e.LongBits(a.field_6.low >>> 0, a.field_6.high >>> 0)).toNumber()));
        null != a.field_7 && (e.Long ? (b.field_7 = e.Long.fromValue(a.field_7)).unsigned = !1 : "string" === typeof a.field_7 ? b.field_7 = parseInt(a.field_7, 10) : "number" === typeof a.field_7 ? b.field_7 = a.field_7 : "object" === typeof a.field_7 && (b.field_7 = (new e.LongBits(a.field_7.low >>> 0, a.field_7.high >>> 0)).toNumber()));
        null != a.field_8 && (e.Long ? (b.field_8 = e.Long.fromValue(a.field_8)).unsigned = !1 : "string" === typeof a.field_8 ? b.field_8 = parseInt(a.field_8, 10) : "number" === typeof a.field_8 ? b.field_8 = a.field_8 : "object" === typeof a.field_8 && (b.field_8 = (new e.LongBits(a.field_8.low >>> 0, a.field_8.high >>> 0)).toNumber()));
        null != a.field_9 && (e.Long ? (b.field_9 = e.Long.fromValue(a.field_9)).unsigned = !1 : "string" === typeof a.field_9 ? b.field_9 = parseInt(a.field_9, 10) : "number" === typeof a.field_9 ? b.field_9 = a.field_9 : "object" === typeof a.field_9 && (b.field_9 = (new e.LongBits(a.field_9.low >>> 0, a.field_9.high >>> 0)).toNumber()));
        null != a.field_10 && (e.Long ? (b.field_10 = e.Long.fromValue(a.field_10)).unsigned = !1 : "string" === typeof a.field_10 ? b.field_10 = parseInt(a.field_10, 10) : "number" === typeof a.field_10 ? b.field_10 = a.field_10 : "object" === typeof a.field_10 && (b.field_10 = (new e.LongBits(a.field_10.low >>> 0, a.field_10.high >>> 0)).toNumber()));
        null != a.field_11 && (e.Long ? (b.field_11 = e.Long.fromValue(a.field_11)).unsigned = !1 : "string" === typeof a.field_11 ? b.field_11 = parseInt(a.field_11, 10) : "number" === typeof a.field_11 ? b.field_11 = a.field_11 : "object" === typeof a.field_11 && (b.field_11 = (new e.LongBits(a.field_11.low >>> 0, a.field_11.high >>> 0)).toNumber()));
        null != a.field_12 && (e.Long ? (b.field_12 = e.Long.fromValue(a.field_12)).unsigned = !1 : "string" === typeof a.field_12 ? b.field_12 = parseInt(a.field_12, 10) : "number" === typeof a.field_12 ? b.field_12 = a.field_12 : "object" === typeof a.field_12 && (b.field_12 = (new e.LongBits(a.field_12.low >>> 0, a.field_12.high >>> 0)).toNumber()));
        null != a.field_13 && (e.Long ? (b.field_13 = e.Long.fromValue(a.field_13)).unsigned = !1 : "string" === typeof a.field_13 ? b.field_13 = parseInt(a.field_13, 10) : "number" === typeof a.field_13 ? b.field_13 = a.field_13 : "object" === typeof a.field_13 && (b.field_13 = (new e.LongBits(a.field_13.low >>> 0, a.field_13.high >>> 0)).toNumber()));
        null != a.field_14 && (b.field_14 = !!a.field_14);
        null != a.field_15 && (e.Long ? (b.field_15 = e.Long.fromValue(a.field_15)).unsigned = !1 : "string" === typeof a.field_15 ? b.field_15 = parseInt(a.field_15, 10) : "number" === typeof a.field_15 ? b.field_15 = a.field_15 : "object" === typeof a.field_15 && (b.field_15 = (new e.LongBits(a.field_15.low >>> 0, a.field_15.high >>> 0)).toNumber()));
        null != a.field_16 && (e.Long ? (b.field_16 = e.Long.fromValue(a.field_16)).unsigned = !1 : "string" === typeof a.field_16 ? b.field_16 = parseInt(a.field_16, 10) : "number" === typeof a.field_16 ? b.field_16 = a.field_16 : "object" === typeof a.field_16 && (b.field_16 = (new e.LongBits(a.field_16.low >>> 0, a.field_16.high >>> 0)).toNumber()));
        null != a.field_17 && (e.Long ? (b.field_17 = e.Long.fromValue(a.field_17)).unsigned = !1 : "string" === typeof a.field_17 ? b.field_17 = parseInt(a.field_17, 10) : "number" === typeof a.field_17 ? b.field_17 = a.field_17 : "object" === typeof a.field_17 && (b.field_17 = (new e.LongBits(a.field_17.low >>> 0, a.field_17.high >>> 0)).toNumber()));
        null != a.field_18 && (e.Long ? (b.field_18 = e.Long.fromValue(a.field_18)).unsigned = !1 : "string" === typeof a.field_18 ? b.field_18 = parseInt(a.field_18, 10) : "number" === typeof a.field_18 ? b.field_18 = a.field_18 : "object" === typeof a.field_18 && (b.field_18 = (new e.LongBits(a.field_18.low >>> 0, a.field_18.high >>> 0)).toNumber()));
        null != a.field_19 && (e.Long ? (b.field_19 = e.Long.fromValue(a.field_19)).unsigned = !1 : "string" === typeof a.field_19 ? b.field_19 = parseInt(a.field_19, 10) : "number" === typeof a.field_19 ? b.field_19 = a.field_19 : "object" === typeof a.field_19 && (b.field_19 = (new e.LongBits(a.field_19.low >>> 0, a.field_19.high >>> 0)).toNumber()));
        null != a.field_20 && (e.Long ? (b.field_20 = e.Long.fromValue(a.field_20)).unsigned = !1 : "string" === typeof a.field_20 ? b.field_20 = parseInt(a.field_20, 10) : "number" === typeof a.field_20 ? b.field_20 = a.field_20 : "object" === typeof a.field_20 && (b.field_20 = (new e.LongBits(a.field_20.low >>> 0, a.field_20.high >>> 0)).toNumber()));
        null != a.field_21 && (e.Long ? (b.field_21 = e.Long.fromValue(a.field_21)).unsigned = !1 : "string" === typeof a.field_21 ? b.field_21 = parseInt(a.field_21, 10) : "number" === typeof a.field_21 ? b.field_21 = a.field_21 : "object" === typeof a.field_21 && (b.field_21 = (new e.LongBits(a.field_21.low >>> 0, a.field_21.high >>> 0)).toNumber()));
        null != a.field_22 && (e.Long ? (b.field_22 = e.Long.fromValue(a.field_22)).unsigned = !1 : "string" === typeof a.field_22 ? b.field_22 = parseInt(a.field_22, 10) : "number" === typeof a.field_22 ? b.field_22 = a.field_22 : "object" === typeof a.field_22 && (b.field_22 = (new e.LongBits(a.field_22.low >>> 0, a.field_22.high >>> 0)).toNumber()));
        null != a.field_23 && (b.field_23 = String(a.field_23));
        null != a.field_24 && (e.Long ? (b.field_24 = e.Long.fromValue(a.field_24)).unsigned = !1 : "string" === typeof a.field_24 ? b.field_24 = parseInt(a.field_24, 10) : "number" === typeof a.field_24 ? b.field_24 = a.field_24 : "object" === typeof a.field_24 && (b.field_24 = (new e.LongBits(a.field_24.low >>> 0, a.field_24.high >>> 0)).toNumber()));
        null != a.field_25 && (e.Long ? (b.field_25 = e.Long.fromValue(a.field_25)).unsigned = !1 : "string" === typeof a.field_25 ? b.field_25 = parseInt(a.field_25, 10) : "number" === typeof a.field_25 ? b.field_25 = a.field_25 : "object" === typeof a.field_25 && (b.field_25 = (new e.LongBits(a.field_25.low >>> 0, a.field_25.high >>> 0)).toNumber()));
        null != a.field_26 && (e.Long ? (b.field_26 = e.Long.fromValue(a.field_26)).unsigned = !1 : "string" === typeof a.field_26 ? b.field_26 = parseInt(a.field_26, 10) : "number" === typeof a.field_26 ? b.field_26 = a.field_26 : "object" === typeof a.field_26 && (b.field_26 = (new e.LongBits(a.field_26.low >>> 0, a.field_26.high >>> 0)).toNumber()));
        null != a.field_27 && (e.Long ? (b.field_27 = e.Long.fromValue(a.field_27)).unsigned = !1 : "string" === typeof a.field_27 ? b.field_27 = parseInt(a.field_27, 10) : "number" === typeof a.field_27 ? b.field_27 = a.field_27 : "object" === typeof a.field_27 && (b.field_27 = (new e.LongBits(a.field_27.low >>> 0, a.field_27.high >>> 0)).toNumber()));
        null != a.field_28 && (e.Long ? (b.field_28 = e.Long.fromValue(a.field_28)).unsigned = !1 : "string" === typeof a.field_28 ? b.field_28 = parseInt(a.field_28, 10) : "number" === typeof a.field_28 ? b.field_28 = a.field_28 : "object" === typeof a.field_28 && (b.field_28 = (new e.LongBits(a.field_28.low >>> 0, a.field_28.high >>> 0)).toNumber()));
        null != a.field_29 && (e.Long ? (b.field_29 = e.Long.fromValue(a.field_29)).unsigned = !1 : "string" === typeof a.field_29 ? b.field_29 = parseInt(a.field_29, 10) : "number" === typeof a.field_29 ? b.field_29 = a.field_29 : "object" === typeof a.field_29 && (b.field_29 = (new e.LongBits(a.field_29.low >>> 0, a.field_29.high >>> 0)).toNumber()));
        null != a.field_30 && (e.Long ? (b.field_30 = e.Long.fromValue(a.field_30)).unsigned = !1 : "string" === typeof a.field_30 ? b.field_30 = parseInt(a.field_30, 10) : "number" === typeof a.field_30 ? b.field_30 = a.field_30 : "object" === typeof a.field_30 && (b.field_30 = (new e.LongBits(a.field_30.low >>> 0, a.field_30.high >>> 0)).toNumber()));
        null != a.field_31 && (e.Long ? (b.field_31 = e.Long.fromValue(a.field_31)).unsigned = !1 : "string" === typeof a.field_31 ? b.field_31 = parseInt(a.field_31, 10) : "number" === typeof a.field_31 ? b.field_31 = a.field_31 : "object" === typeof a.field_31 && (b.field_31 = (new e.LongBits(a.field_31.low >>> 0, a.field_31.high >>> 0)).toNumber()));
        null != a.field_32 && (b.field_32 = !!a.field_32);
        null != a.field_33 && (e.Long ? (b.field_33 = e.Long.fromValue(a.field_33)).unsigned = !1 : "string" === typeof a.field_33 ? b.field_33 = parseInt(a.field_33, 10) : "number" === typeof a.field_33 ? b.field_33 = a.field_33 : "object" === typeof a.field_33 && (b.field_33 = (new e.LongBits(a.field_33.low >>> 0, a.field_33.high >>> 0)).toNumber()));
        null != a.field_34 && (e.Long ? (b.field_34 = e.Long.fromValue(a.field_34)).unsigned = !1 : "string" === typeof a.field_34 ? b.field_34 = parseInt(a.field_34, 10) : "number" === typeof a.field_34 ? b.field_34 = a.field_34 : "object" === typeof a.field_34 && (b.field_34 = (new e.LongBits(a.field_34.low >>> 0, a.field_34.high >>> 0)).toNumber()));
        null != a.field_35 && (e.Long ? (b.field_35 = e.Long.fromValue(a.field_35)).unsigned = !1 : "string" === typeof a.field_35 ? b.field_35 = parseInt(a.field_35, 10) : "number" === typeof a.field_35 ? b.field_35 = a.field_35 : "object" === typeof a.field_35 && (b.field_35 = (new e.LongBits(a.field_35.low >>> 0, a.field_35.high >>> 0)).toNumber()));
        null != a.field_36 && (e.Long ? (b.field_36 = e.Long.fromValue(a.field_36)).unsigned = !1 : "string" === typeof a.field_36 ? b.field_36 = parseInt(a.field_36, 10) : "number" === typeof a.field_36 ? b.field_36 = a.field_36 : "object" === typeof a.field_36 && (b.field_36 = (new e.LongBits(a.field_36.low >>> 0, a.field_36.high >>> 0)).toNumber()));
        null != a.field_37 && (b.field_37 = String(a.field_37));
        null != a.field_38 && (b.field_38 = String(a.field_38));
        null != a.field_39 && (b.field_39 = String(a.field_39));
        null != a.field_40 && (e.Long ? (b.field_40 = e.Long.fromValue(a.field_40)).unsigned = !1 : "string" === typeof a.field_40 ? b.field_40 = parseInt(a.field_40, 10) : "number" === typeof a.field_40 ? b.field_40 = a.field_40 : "object" === typeof a.field_40 && (b.field_40 = (new e.LongBits(a.field_40.low >>> 0, a.field_40.high >>> 0)).toNumber()));
        null != a.field_41 && (b.field_41 = String(a.field_41));
        null != a.field_42 && (b.field_42 = String(a.field_42));
        null != a.field_43 && (e.Long ? (b.field_43 = e.Long.fromValue(a.field_43)).unsigned = !1 : "string" === typeof a.field_43 ? b.field_43 = parseInt(a.field_43, 10) : "number" === typeof a.field_43 ? b.field_43 = a.field_43 : "object" === typeof a.field_43 && (b.field_43 = (new e.LongBits(a.field_43.low >>> 0, a.field_43.high >>> 0)).toNumber()));
        null != a.field_44 && (e.Long ? (b.field_44 = e.Long.fromValue(a.field_44)).unsigned = !1 : "string" === typeof a.field_44 ? b.field_44 = parseInt(a.field_44, 10) : "number" === typeof a.field_44 ? b.field_44 = a.field_44 : "object" === typeof a.field_44 && (b.field_44 = (new e.LongBits(a.field_44.low >>> 0, a.field_44.high >>> 0)).toNumber()));
        null != a.field_45 && (e.Long ? (b.field_45 = e.Long.fromValue(a.field_45)).unsigned = !1 : "string" === typeof a.field_45 ? b.field_45 = parseInt(a.field_45, 10) : "number" === typeof a.field_45 ? b.field_45 = a.field_45 : "object" === typeof a.field_45 && (b.field_45 = (new e.LongBits(a.field_45.low >>> 0, a.field_45.high >>> 0)).toNumber()));
        null != a.field_46 && (e.Long ? (b.field_46 = e.Long.fromValue(a.field_46)).unsigned = !1 : "string" === typeof a.field_46 ? b.field_46 = parseInt(a.field_46, 10) : "number" === typeof a.field_46 ? b.field_46 = a.field_46 : "object" === typeof a.field_46 && (b.field_46 = (new e.LongBits(a.field_46.low >>> 0, a.field_46.high >>> 0)).toNumber()));
        null != a.field_47 && (e.Long ? (b.field_47 = e.Long.fromValue(a.field_47)).unsigned = !1 : "string" === typeof a.field_47 ? b.field_47 = parseInt(a.field_47, 10) : "number" === typeof a.field_47 ? b.field_47 = a.field_47 : "object" === typeof a.field_47 && (b.field_47 = (new e.LongBits(a.field_47.low >>> 0, a.field_47.high >>> 0)).toNumber()));
        null != a.field_48 && (e.Long ? (b.field_48 = e.Long.fromValue(a.field_48)).unsigned = !1 : "string" === typeof a.field_48 ? b.field_48 = parseInt(a.field_48, 10) : "number" === typeof a.field_48 ? b.field_48 = a.field_48 : "object" === typeof a.field_48 && (b.field_48 = (new e.LongBits(a.field_48.low >>> 0, a.field_48.high >>> 0)).toNumber()));
        null != a.field_49 && (e.Long ? (b.field_49 = e.Long.fromValue(a.field_49)).unsigned = !1 : "string" === typeof a.field_49 ? b.field_49 = parseInt(a.field_49, 10) : "number" === typeof a.field_49 ? b.field_49 = a.field_49 : "object" === typeof a.field_49 && (b.field_49 = (new e.LongBits(a.field_49.low >>> 0, a.field_49.high >>> 0)).toNumber()));
        null != a.field_50 && (e.Long ? (b.field_50 = e.Long.fromValue(a.field_50)).unsigned = !1 : "string" === typeof a.field_50 ? b.field_50 = parseInt(a.field_50, 10) : "number" === typeof a.field_50 ? b.field_50 = a.field_50 : "object" === typeof a.field_50 && (b.field_50 = (new e.LongBits(a.field_50.low >>> 0, a.field_50.high >>> 0)).toNumber()));
        return b;
      };
      b.toObject = function(a, b) {
        b || (b = {});
        var c = {};
        if (b.defaults) {
          c.field_1 = "";
          if (e.Long) {
            var d = new e.Long(0, 0, !1);
            c.field_2 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d;
          } else {
            c.field_2 = b.longs === String ? "0" : 0;
          }
          e.Long ? (d = new e.Long(0, 0, !1), c.field_3 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_3 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_4 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_4 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_5 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_5 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_6 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_6 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_7 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_7 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_8 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_8 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_9 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_9 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_10 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_10 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_11 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_11 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_12 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_12 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_13 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_13 = b.longs === String ? "0" : 0;
          c.field_14 = !1;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_15 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_15 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_16 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_16 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_17 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_17 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_18 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_18 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_19 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_19 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_20 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_20 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_21 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_21 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_22 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_22 = b.longs === String ? "0" : 0;
          c.field_23 = "";
          e.Long ? (d = new e.Long(0, 0, !1), c.field_24 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_24 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_25 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_25 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_26 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_26 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_27 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_27 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_28 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_28 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_29 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_29 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_30 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_30 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_31 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_31 = b.longs === String ? "0" : 0;
          c.field_32 = !1;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_33 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_33 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_34 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_34 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_35 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_35 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_36 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_36 = b.longs === String ? "0" : 0;
          c.field_37 = "";
          c.field_38 = "";
          c.field_39 = "";
          e.Long ? (d = new e.Long(0, 0, !1), c.field_40 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_40 = b.longs === String ? "0" : 0;
          c.field_41 = "";
          c.field_42 = "";
          e.Long ? (d = new e.Long(0, 0, !1), c.field_43 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_43 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_44 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_44 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_45 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_45 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_46 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_46 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_47 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_47 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_48 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_48 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_49 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_49 = b.longs === String ? "0" : 0;
          e.Long ? (d = new e.Long(0, 0, !1), c.field_50 = b.longs === String ? d.toString() : b.longs === Number ? d.toNumber() : d) : c.field_50 = b.longs === String ? "0" : 0;
        }
        null != a.field_1 && a.hasOwnProperty("field_1") && (c.field_1 = a.field_1);
        null != a.field_2 && a.hasOwnProperty("field_2") && (c.field_2 = "number" === typeof a.field_2 ? b.longs === String ? String(a.field_2) : a.field_2 : b.longs === String ? e.Long.prototype.toString.call(a.field_2) : b.longs === Number ? (new e.LongBits(a.field_2.low >>> 0, a.field_2.high >>> 0)).toNumber() : a.field_2);
        null != a.field_3 && a.hasOwnProperty("field_3") && (c.field_3 = "number" === typeof a.field_3 ? b.longs === String ? String(a.field_3) : a.field_3 : b.longs === String ? e.Long.prototype.toString.call(a.field_3) : b.longs === Number ? (new e.LongBits(a.field_3.low >>> 0, a.field_3.high >>> 0)).toNumber() : a.field_3);
        null != a.field_4 && a.hasOwnProperty("field_4") && (c.field_4 = "number" === typeof a.field_4 ? b.longs === String ? String(a.field_4) : a.field_4 : b.longs === String ? e.Long.prototype.toString.call(a.field_4) : b.longs === Number ? (new e.LongBits(a.field_4.low >>> 0, a.field_4.high >>> 0)).toNumber() : a.field_4);
        null != a.field_5 && a.hasOwnProperty("field_5") && (c.field_5 = "number" === typeof a.field_5 ? b.longs === String ? String(a.field_5) : a.field_5 : b.longs === String ? e.Long.prototype.toString.call(a.field_5) : b.longs === Number ? (new e.LongBits(a.field_5.low >>> 0, a.field_5.high >>> 0)).toNumber() : a.field_5);
        null != a.field_6 && a.hasOwnProperty("field_6") && (c.field_6 = "number" === typeof a.field_6 ? b.longs === String ? String(a.field_6) : a.field_6 : b.longs === String ? e.Long.prototype.toString.call(a.field_6) : b.longs === Number ? (new e.LongBits(a.field_6.low >>> 0, a.field_6.high >>> 0)).toNumber() : a.field_6);
        null != a.field_7 && a.hasOwnProperty("field_7") && (c.field_7 = "number" === typeof a.field_7 ? b.longs === String ? String(a.field_7) : a.field_7 : b.longs === String ? e.Long.prototype.toString.call(a.field_7) : b.longs === Number ? (new e.LongBits(a.field_7.low >>> 0, a.field_7.high >>> 0)).toNumber() : a.field_7);
        null != a.field_8 && a.hasOwnProperty("field_8") && (c.field_8 = "number" === typeof a.field_8 ? b.longs === String ? String(a.field_8) : a.field_8 : b.longs === String ? e.Long.prototype.toString.call(a.field_8) : b.longs === Number ? (new e.LongBits(a.field_8.low >>> 0, a.field_8.high >>> 0)).toNumber() : a.field_8);
        null != a.field_9 && a.hasOwnProperty("field_9") && (c.field_9 = "number" === typeof a.field_9 ? b.longs === String ? String(a.field_9) : a.field_9 : b.longs === String ? e.Long.prototype.toString.call(a.field_9) : b.longs === Number ? (new e.LongBits(a.field_9.low >>> 0, a.field_9.high >>> 0)).toNumber() : a.field_9);
        null != a.field_10 && a.hasOwnProperty("field_10") && (c.field_10 = "number" === typeof a.field_10 ? b.longs === String ? String(a.field_10) : a.field_10 : b.longs === String ? e.Long.prototype.toString.call(a.field_10) : b.longs === Number ? (new e.LongBits(a.field_10.low >>> 0, a.field_10.high >>> 0)).toNumber() : a.field_10);
        null != a.field_11 && a.hasOwnProperty("field_11") && (c.field_11 = "number" === typeof a.field_11 ? b.longs === String ? String(a.field_11) : a.field_11 : b.longs === String ? e.Long.prototype.toString.call(a.field_11) : b.longs === Number ? (new e.LongBits(a.field_11.low >>> 0, a.field_11.high >>> 0)).toNumber() : a.field_11);
        null != a.field_12 && a.hasOwnProperty("field_12") && (c.field_12 = "number" === typeof a.field_12 ? b.longs === String ? String(a.field_12) : a.field_12 : b.longs === String ? e.Long.prototype.toString.call(a.field_12) : b.longs === Number ? (new e.LongBits(a.field_12.low >>> 0, a.field_12.high >>> 0)).toNumber() : a.field_12);
        null != a.field_13 && a.hasOwnProperty("field_13") && (c.field_13 = "number" === typeof a.field_13 ? b.longs === String ? String(a.field_13) : a.field_13 : b.longs === String ? e.Long.prototype.toString.call(a.field_13) : b.longs === Number ? (new e.LongBits(a.field_13.low >>> 0, a.field_13.high >>> 0)).toNumber() : a.field_13);
        null != a.field_14 && a.hasOwnProperty("field_14") && (c.field_14 = a.field_14);
        null != a.field_15 && a.hasOwnProperty("field_15") && (c.field_15 = "number" === typeof a.field_15 ? b.longs === String ? String(a.field_15) : a.field_15 : b.longs === String ? e.Long.prototype.toString.call(a.field_15) : b.longs === Number ? (new e.LongBits(a.field_15.low >>> 0, a.field_15.high >>> 0)).toNumber() : a.field_15);
        null != a.field_16 && a.hasOwnProperty("field_16") && (c.field_16 = "number" === typeof a.field_16 ? b.longs === String ? String(a.field_16) : a.field_16 : b.longs === String ? e.Long.prototype.toString.call(a.field_16) : b.longs === Number ? (new e.LongBits(a.field_16.low >>> 0, a.field_16.high >>> 0)).toNumber() : a.field_16);
        null != a.field_17 && a.hasOwnProperty("field_17") && (c.field_17 = "number" === typeof a.field_17 ? b.longs === String ? String(a.field_17) : a.field_17 : b.longs === String ? e.Long.prototype.toString.call(a.field_17) : b.longs === Number ? (new e.LongBits(a.field_17.low >>> 0, a.field_17.high >>> 0)).toNumber() : a.field_17);
        null != a.field_18 && a.hasOwnProperty("field_18") && (c.field_18 = "number" === typeof a.field_18 ? b.longs === String ? String(a.field_18) : a.field_18 : b.longs === String ? e.Long.prototype.toString.call(a.field_18) : b.longs === Number ? (new e.LongBits(a.field_18.low >>> 0, a.field_18.high >>> 0)).toNumber() : a.field_18);
        null != a.field_19 && a.hasOwnProperty("field_19") && (c.field_19 = "number" === typeof a.field_19 ? b.longs === String ? String(a.field_19) : a.field_19 : b.longs === String ? e.Long.prototype.toString.call(a.field_19) : b.longs === Number ? (new e.LongBits(a.field_19.low >>> 0, a.field_19.high >>> 0)).toNumber() : a.field_19);
        null != a.field_20 && a.hasOwnProperty("field_20") && (c.field_20 = "number" === typeof a.field_20 ? b.longs === String ? String(a.field_20) : a.field_20 : b.longs === String ? e.Long.prototype.toString.call(a.field_20) : b.longs === Number ? (new e.LongBits(a.field_20.low >>> 0, a.field_20.high >>> 0)).toNumber() : a.field_20);
        null != a.field_21 && a.hasOwnProperty("field_21") && (c.field_21 = "number" === typeof a.field_21 ? b.longs === String ? String(a.field_21) : a.field_21 : b.longs === String ? e.Long.prototype.toString.call(a.field_21) : b.longs === Number ? (new e.LongBits(a.field_21.low >>> 0, a.field_21.high >>> 0)).toNumber() : a.field_21);
        null != a.field_22 && a.hasOwnProperty("field_22") && (c.field_22 = "number" === typeof a.field_22 ? b.longs === String ? String(a.field_22) : a.field_22 : b.longs === String ? e.Long.prototype.toString.call(a.field_22) : b.longs === Number ? (new e.LongBits(a.field_22.low >>> 0, a.field_22.high >>> 0)).toNumber() : a.field_22);
        null != a.field_23 && a.hasOwnProperty("field_23") && (c.field_23 = a.field_23);
        null != a.field_24 && a.hasOwnProperty("field_24") && (c.field_24 = "number" === typeof a.field_24 ? b.longs === String ? String(a.field_24) : a.field_24 : b.longs === String ? e.Long.prototype.toString.call(a.field_24) : b.longs === Number ? (new e.LongBits(a.field_24.low >>> 0, a.field_24.high >>> 0)).toNumber() : a.field_24);
        null != a.field_25 && a.hasOwnProperty("field_25") && (c.field_25 = "number" === typeof a.field_25 ? b.longs === String ? String(a.field_25) : a.field_25 : b.longs === String ? e.Long.prototype.toString.call(a.field_25) : b.longs === Number ? (new e.LongBits(a.field_25.low >>> 0, a.field_25.high >>> 0)).toNumber() : a.field_25);
        null != a.field_26 && a.hasOwnProperty("field_26") && (c.field_26 = "number" === typeof a.field_26 ? b.longs === String ? String(a.field_26) : a.field_26 : b.longs === String ? e.Long.prototype.toString.call(a.field_26) : b.longs === Number ? (new e.LongBits(a.field_26.low >>> 0, a.field_26.high >>> 0)).toNumber() : a.field_26);
        null != a.field_27 && a.hasOwnProperty("field_27") && (c.field_27 = "number" === typeof a.field_27 ? b.longs === String ? String(a.field_27) : a.field_27 : b.longs === String ? e.Long.prototype.toString.call(a.field_27) : b.longs === Number ? (new e.LongBits(a.field_27.low >>> 0, a.field_27.high >>> 0)).toNumber() : a.field_27);
        null != a.field_28 && a.hasOwnProperty("field_28") && (c.field_28 = "number" === typeof a.field_28 ? b.longs === String ? String(a.field_28) : a.field_28 : b.longs === String ? e.Long.prototype.toString.call(a.field_28) : b.longs === Number ? (new e.LongBits(a.field_28.low >>> 0, a.field_28.high >>> 0)).toNumber() : a.field_28);
        null != a.field_29 && a.hasOwnProperty("field_29") && (c.field_29 = "number" === typeof a.field_29 ? b.longs === String ? String(a.field_29) : a.field_29 : b.longs === String ? e.Long.prototype.toString.call(a.field_29) : b.longs === Number ? (new e.LongBits(a.field_29.low >>> 0, a.field_29.high >>> 0)).toNumber() : a.field_29);
        null != a.field_30 && a.hasOwnProperty("field_30") && (c.field_30 = "number" === typeof a.field_30 ? b.longs === String ? String(a.field_30) : a.field_30 : b.longs === String ? e.Long.prototype.toString.call(a.field_30) : b.longs === Number ? (new e.LongBits(a.field_30.low >>> 0, a.field_30.high >>> 0)).toNumber() : a.field_30);
        null != a.field_31 && a.hasOwnProperty("field_31") && (c.field_31 = "number" === typeof a.field_31 ? b.longs === String ? String(a.field_31) : a.field_31 : b.longs === String ? e.Long.prototype.toString.call(a.field_31) : b.longs === Number ? (new e.LongBits(a.field_31.low >>> 0, a.field_31.high >>> 0)).toNumber() : a.field_31);
        null != a.field_32 && a.hasOwnProperty("field_32") && (c.field_32 = a.field_32);
        null != a.field_33 && a.hasOwnProperty("field_33") && (c.field_33 = "number" === typeof a.field_33 ? b.longs === String ? String(a.field_33) : a.field_33 : b.longs === String ? e.Long.prototype.toString.call(a.field_33) : b.longs === Number ? (new e.LongBits(a.field_33.low >>> 0, a.field_33.high >>> 0)).toNumber() : a.field_33);
        null != a.field_34 && a.hasOwnProperty("field_34") && (c.field_34 = "number" === typeof a.field_34 ? b.longs === String ? String(a.field_34) : a.field_34 : b.longs === String ? e.Long.prototype.toString.call(a.field_34) : b.longs === Number ? (new e.LongBits(a.field_34.low >>> 0, a.field_34.high >>> 0)).toNumber() : a.field_34);
        null != a.field_35 && a.hasOwnProperty("field_35") && (c.field_35 = "number" === typeof a.field_35 ? b.longs === String ? String(a.field_35) : a.field_35 : b.longs === String ? e.Long.prototype.toString.call(a.field_35) : b.longs === Number ? (new e.LongBits(a.field_35.low >>> 0, a.field_35.high >>> 0)).toNumber() : a.field_35);
        null != a.field_36 && a.hasOwnProperty("field_36") && (c.field_36 = "number" === typeof a.field_36 ? b.longs === String ? String(a.field_36) : a.field_36 : b.longs === String ? e.Long.prototype.toString.call(a.field_36) : b.longs === Number ? (new e.LongBits(a.field_36.low >>> 0, a.field_36.high >>> 0)).toNumber() : a.field_36);
        null != a.field_37 && a.hasOwnProperty("field_37") && (c.field_37 = a.field_37);
        null != a.field_38 && a.hasOwnProperty("field_38") && (c.field_38 = a.field_38);
        null != a.field_39 && a.hasOwnProperty("field_39") && (c.field_39 = a.field_39);
        null != a.field_40 && a.hasOwnProperty("field_40") && (c.field_40 = "number" === typeof a.field_40 ? b.longs === String ? String(a.field_40) : a.field_40 : b.longs === String ? e.Long.prototype.toString.call(a.field_40) : b.longs === Number ? (new e.LongBits(a.field_40.low >>> 0, a.field_40.high >>> 0)).toNumber() : a.field_40);
        null != a.field_41 && a.hasOwnProperty("field_41") && (c.field_41 = a.field_41);
        null != a.field_42 && a.hasOwnProperty("field_42") && (c.field_42 = a.field_42);
        null != a.field_43 && a.hasOwnProperty("field_43") && (c.field_43 = "number" === typeof a.field_43 ? b.longs === String ? String(a.field_43) : a.field_43 : b.longs === String ? e.Long.prototype.toString.call(a.field_43) : b.longs === Number ? (new e.LongBits(a.field_43.low >>> 0, a.field_43.high >>> 0)).toNumber() : a.field_43);
        null != a.field_44 && a.hasOwnProperty("field_44") && (c.field_44 = "number" === typeof a.field_44 ? b.longs === String ? String(a.field_44) : a.field_44 : b.longs === String ? e.Long.prototype.toString.call(a.field_44) : b.longs === Number ? (new e.LongBits(a.field_44.low >>> 0, a.field_44.high >>> 0)).toNumber() : a.field_44);
        null != a.field_45 && a.hasOwnProperty("field_45") && (c.field_45 = "number" === typeof a.field_45 ? b.longs === String ? String(a.field_45) : a.field_45 : b.longs === String ? e.Long.prototype.toString.call(a.field_45) : b.longs === Number ? (new e.LongBits(a.field_45.low >>> 0, a.field_45.high >>> 0)).toNumber() : a.field_45);
        null != a.field_46 && a.hasOwnProperty("field_46") && (c.field_46 = "number" === typeof a.field_46 ? b.longs === String ? String(a.field_46) : a.field_46 : b.longs === String ? e.Long.prototype.toString.call(a.field_46) : b.longs === Number ? (new e.LongBits(a.field_46.low >>> 0, a.field_46.high >>> 0)).toNumber() : a.field_46);
        null != a.field_47 && a.hasOwnProperty("field_47") && (c.field_47 = "number" === typeof a.field_47 ? b.longs === String ? String(a.field_47) : a.field_47 : b.longs === String ? e.Long.prototype.toString.call(a.field_47) : b.longs === Number ? (new e.LongBits(a.field_47.low >>> 0, a.field_47.high >>> 0)).toNumber() : a.field_47);
        null != a.field_48 && a.hasOwnProperty("field_48") && (c.field_48 = "number" === typeof a.field_48 ? b.longs === String ? String(a.field_48) : a.field_48 : b.longs === String ? e.Long.prototype.toString.call(a.field_48) : b.longs === Number ? (new e.LongBits(a.field_48.low >>> 0, a.field_48.high >>> 0)).toNumber() : a.field_48);
        null != a.field_49 && a.hasOwnProperty("field_49") && (c.field_49 = "number" === typeof a.field_49 ? b.longs === String ? String(a.field_49) : a.field_49 : b.longs === String ? e.Long.prototype.toString.call(a.field_49) : b.longs === Number ? (new e.LongBits(a.field_49.low >>> 0, a.field_49.high >>> 0)).toNumber() : a.field_49);
        null != a.field_50 && a.hasOwnProperty("field_50") && (c.field_50 = "number" === typeof a.field_50 ? b.longs === String ? String(a.field_50) : a.field_50 : b.longs === String ? e.Long.prototype.toString.call(a.field_50) : b.longs === Number ? (new e.LongBits(a.field_50.low >>> 0, a.field_50.high >>> 0)).toNumber() : a.field_50);
        return c;
      };
      b.prototype.toJSON = function() {
        return this.constructor.toObject(this, ra.util.toJSONOptions);
      };
      return b;
    }();
    return c;
  }(), cg = window && window.__extends || function() {
    var c = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(b, a) {
      b.__proto__ = a;
    } || function(b, a) {
      for (var c in a) {
        a.hasOwnProperty(c) && (b[c] = a[c]);
      }
    };
    return function(b, a) {
      function d() {
        this.constructor = b;
      }
      c(b, a);
      b.prototype = null === a ? Object.create(a) : (d.prototype = a.prototype, new d);
    };
  }(), dg = function(c) {
    function b() {
      return c.call(this, "AdMobSignal", {sdkVersion:["string"], batteryLevel:["number"], batteryState:["number"], accelerometerX:["number"], accelerometerY:["number"], accelerometerZ:["number"], networkType:["number"], deviceOrientation:["number"], touchXUp:["number"], touchXDown:["number"], touchYUp:["number"], touchYDown:["number"], touchDuration:["number"], touchPressure:["number"], touchDiameter:["number"], cpuCount:["number"], touchUpTotal:["number"], touchDownTotal:["number"], touchMoveTotal:["number"], 
      touchCancelTotal:["number"], osVersion:["string"], timeZoneOffset:["number"], usbConnected:["number"], appActive:["boolean"], appUptime:["number"], appStartTime:["number"], rooted:["number"], eventTimestamp:["number"], apkHash:["string"], apkDeveloperSigningCertificateHash:["string"], appVersionName:["string"], appVersionCode:["number"], appIdName:["string"], appInstaller:["string"], deviceUptime:["number"], deviceElapsedRealtime:["number"], adbEnabled:["number"], timeOnScreen:["number"], minimumAlpha:["number"], 
      adViewWidth:["number"], adViewHeight:["number"], androidTouchObscured:["boolean"], touchToolType:["number"], touchSource:["number"], touchDeviceId:["number"], touchDistance:["number"], adViewX:["number"], adViewY:["number"], screenWidth:["number"], screenHeight:["number"]}) || this;
    }
    cg(b, c);
    b.prototype.getSdkVersion = function() {
      return this.get("sdkVersion");
    };
    b.prototype.setSdkVersion = function(a) {
      this.set("sdkVersion", a);
    };
    b.prototype.getBatteryLevel = function() {
      return this.get("batteryLevel");
    };
    b.prototype.setBatteryLevel = function(a) {
      this.set("batteryLevel", a);
    };
    b.prototype.getBatteryState = function() {
      return this.get("batteryState");
    };
    b.prototype.setBatteryState = function(a) {
      this.set("batteryState", a);
    };
    b.prototype.getAccelerometerX = function() {
      return this.get("accelerometerX");
    };
    b.prototype.setAccelerometerX = function(a) {
      this.set("accelerometerX", a);
    };
    b.prototype.getAccelerometerY = function() {
      return this.get("accelerometerY");
    };
    b.prototype.setAccelerometerY = function(a) {
      this.set("accelerometerY", a);
    };
    b.prototype.getAccelerometerZ = function() {
      return this.get("accelerometerZ");
    };
    b.prototype.setAccelerometerZ = function(a) {
      this.set("accelerometerZ", a);
    };
    b.prototype.getNetworkType = function() {
      return this.get("networkType");
    };
    b.prototype.setNetworkType = function(a) {
      this.set("networkType", a);
    };
    b.prototype.getDeviceOrientation = function() {
      return this.get("deviceOrientation");
    };
    b.prototype.setDeviceOrientation = function(a) {
      this.set("deviceOrientation", a);
    };
    b.prototype.getTouchXUp = function() {
      return this.get("touchXUp");
    };
    b.prototype.setTouchXUp = function(a) {
      this.set("touchXUp", a);
    };
    b.prototype.getTouchXDown = function() {
      return this.get("touchXDown");
    };
    b.prototype.setTouchXDown = function(a) {
      this.set("touchXDown", a);
    };
    b.prototype.getTouchYUp = function() {
      return this.get("touchYUp");
    };
    b.prototype.setTouchYUp = function(a) {
      this.set("touchYUp", a);
    };
    b.prototype.getTouchYDown = function() {
      return this.get("touchYDown");
    };
    b.prototype.setTouchYDown = function(a) {
      this.set("touchYDown", a);
    };
    b.prototype.getTouchDuration = function() {
      return this.get("touchDuration");
    };
    b.prototype.setTouchDuration = function(a) {
      this.set("touchDuration", a);
    };
    b.prototype.getTouchPressure = function() {
      return this.get("touchPressure");
    };
    b.prototype.setTouchPressure = function(a) {
      this.set("touchPressure", a);
    };
    b.prototype.getTouchDiameter = function() {
      return this.get("touchDiameter");
    };
    b.prototype.setTouchDiameter = function(a) {
      this.set("touchDiameter", a);
    };
    b.prototype.getCpuCount = function() {
      return this.get("cpuCount");
    };
    b.prototype.setCpuCount = function(a) {
      this.set("cpuCount", a);
    };
    b.prototype.getTouchUpTotal = function() {
      return this.get("touchUpTotal");
    };
    b.prototype.setTouchUpTotal = function(a) {
      this.set("touchUpTotal", a);
    };
    b.prototype.getTouchDownTotal = function() {
      return this.get("touchDownTotal");
    };
    b.prototype.setTouchDownTotal = function(a) {
      this.set("touchDownTotal", a);
    };
    b.prototype.getTouchMoveTotal = function() {
      return this.get("touchMoveTotal");
    };
    b.prototype.setTouchMoveTotal = function(a) {
      this.set("touchMoveTotal", a);
    };
    b.prototype.getTouchCancelTotal = function() {
      return this.get("touchCancelTotal");
    };
    b.prototype.setTouchCancelTotal = function(a) {
      this.set("touchCancelTotal", a);
    };
    b.prototype.getOsVersion = function() {
      return this.get("osVersion");
    };
    b.prototype.setOsVersion = function(a) {
      this.set("osVersion", a);
    };
    b.prototype.getTimeZoneOffset = function() {
      return this.get("timeZoneOffset");
    };
    b.prototype.setTimeZoneOffset = function(a) {
      this.set("timeZoneOffset", a);
    };
    b.prototype.getUsbConnected = function() {
      return this.get("usbConnected");
    };
    b.prototype.setUsbConnected = function(a) {
      this.set("usbConnected", a);
    };
    b.prototype.getAppActive = function() {
      return this.get("appActive");
    };
    b.prototype.setAppActive = function(a) {
      this.set("appActive", a);
    };
    b.prototype.getAppUptime = function() {
      return this.get("appUptime");
    };
    b.prototype.setAppUptime = function(a) {
      this.set("appUptime", a);
    };
    b.prototype.getAppStartTime = function() {
      return this.get("appStartTime");
    };
    b.prototype.setAppStartTime = function(a) {
      this.set("appStartTime", a);
    };
    b.prototype.getRooted = function() {
      return this.get("rooted");
    };
    b.prototype.setRooted = function(a) {
      this.set("rooted", a);
    };
    b.prototype.getEventTimestamp = function() {
      return this.get("eventTimestamp");
    };
    b.prototype.setEventTimestamp = function(a) {
      this.set("eventTimestamp", a);
    };
    b.prototype.getApkHash = function() {
      return this.get("apkHash");
    };
    b.prototype.setApkHash = function(a) {
      this.set("apkHash", a);
    };
    b.prototype.getApkDeveloperSigningCertificateHash = function() {
      return this.get("apkDeveloperSigningCertificateHash");
    };
    b.prototype.setApkDeveloperSigningCertificateHash = function(a) {
      this.set("apkDeveloperSigningCertificateHash", a);
    };
    b.prototype.getAppVersionName = function() {
      return this.get("appVersionName");
    };
    b.prototype.setAppVersionName = function(a) {
      this.set("appVersionName", a);
    };
    b.prototype.getAppVersionCode = function() {
      return this.get("appVersionCode");
    };
    b.prototype.setAppVersionCode = function(a) {
      this.set("appVersionCode", a);
    };
    b.prototype.getAppIdName = function() {
      return this.get("appIdName");
    };
    b.prototype.setAppIdName = function(a) {
      this.set("appIdName", a);
    };
    b.prototype.getAppInstaller = function() {
      return this.get("appInstaller");
    };
    b.prototype.setAppInstaller = function(a) {
      this.set("appInstaller", a);
    };
    b.prototype.getDeviceUptime = function() {
      return this.get("deviceUptime");
    };
    b.prototype.setDeviceUptime = function(a) {
      this.set("deviceUptime", a);
    };
    b.prototype.getDeviceElapsedRealtime = function() {
      return this.get("deviceElapsedRealtime");
    };
    b.prototype.setDeviceElapsedRealtime = function(a) {
      this.set("deviceElapsedRealtime", a);
    };
    b.prototype.getAdbEnabled = function() {
      return this.get("adbEnabled");
    };
    b.prototype.setAdbEnabled = function(a) {
      this.set("adbEnabled", a);
    };
    b.prototype.getTimeOnScreen = function() {
      return this.get("timeOnScreen");
    };
    b.prototype.setTimeOnScreen = function(a) {
      this.set("timeOnScreen", a);
    };
    b.prototype.getMinimumAlpha = function() {
      return this.get("minimumAlpha");
    };
    b.prototype.setMinimumAlpha = function(a) {
      this.set("minimumAlpha", a);
    };
    b.prototype.getAdViewWidth = function() {
      return this.get("adViewWidth");
    };
    b.prototype.setAdViewWidth = function(a) {
      this.set("adViewWidth", a);
    };
    b.prototype.getAdViewHeight = function() {
      return this.get("adViewHeight");
    };
    b.prototype.setAdViewHeight = function(a) {
      this.set("adViewHeight", a);
    };
    b.prototype.getAndroidTouchObscured = function() {
      return this.get("androidTouchObscured");
    };
    b.prototype.setAndroidTouchObscured = function(a) {
      this.set("androidTouchObscured", a);
    };
    b.prototype.getTouchToolType = function() {
      return this.get("touchToolType");
    };
    b.prototype.setTouchToolType = function(a) {
      this.set("touchToolType", a);
    };
    b.prototype.getTouchSource = function() {
      return this.get("touchSource");
    };
    b.prototype.setTouchSource = function(a) {
      this.set("touchSource", a);
    };
    b.prototype.getTouchDeviceId = function() {
      return this.get("touchDeviceId");
    };
    b.prototype.setTouchDeviceId = function(a) {
      this.set("touchDeviceId", a);
    };
    b.prototype.getTouchDistance = function() {
      return this.get("touchDistance");
    };
    b.prototype.setTouchDistance = function(a) {
      this.set("touchDistance", a);
    };
    b.prototype.getAdViewX = function() {
      return this.get("adViewX");
    };
    b.prototype.setAdViewX = function(a) {
      this.set("adViewX", a);
    };
    b.prototype.getAdViewY = function() {
      return this.get("adViewY");
    };
    b.prototype.setAdViewY = function(a) {
      this.set("adViewY", a);
    };
    b.prototype.getScreenWidth = function() {
      return this.get("screenWidth");
    };
    b.prototype.setScreenWidth = function(a) {
      this.set("screenWidth", a);
    };
    b.prototype.getScreenHeight = function() {
      return this.get("screenHeight");
    };
    b.prototype.setScreenHeight = function(a) {
      this.set("screenHeight", a);
    };
    b.prototype.getBase64ProtoBuf = function() {
      var a = {field_1:this.getSdkVersion(), field_2:this.getBatteryLevel(), field_3:this.getBatteryState(), field_4:this.getAccelerometerX(), field_5:this.getAccelerometerY(), field_6:this.getAccelerometerZ(), field_7:this.getTouchXUp(), field_8:this.getTouchYUp(), field_9:this.getTouchXDown(), field_10:this.getTouchYDown(), field_11:this.getTouchDuration(), field_12:this.getTouchPressure(), field_13:this.getTouchDiameter(), field_14:this.getAndroidTouchObscured(), field_15:this.getTouchToolType(), 
      field_16:this.getTouchSource(), field_17:this.getTouchDeviceId(), field_18:this.getTouchDistance(), field_19:this.getTouchUpTotal(), field_20:this.getTouchDownTotal(), field_21:this.getTouchMoveTotal(), field_22:this.getTouchCancelTotal(), field_23:this.getOsVersion(), field_24:this.getCpuCount(), field_25:this.getDeviceUptime(), field_26:this.getDeviceElapsedRealtime(), field_27:this.getTimeZoneOffset(), field_28:this.getUsbConnected(), field_29:this.getAdbEnabled(), field_30:this.getRooted(), 
      field_31:this.getNetworkType(), field_32:this.getAppActive(), field_33:this.getAppUptime(), field_34:this.getAppStartTime(), field_35:this.getEventTimestamp(), field_36:this.getTimeOnScreen(), field_37:this.getApkHash(), field_38:this.getApkDeveloperSigningCertificateHash(), field_39:this.getAppVersionName(), field_40:this.getAppVersionCode(), field_41:this.getAppIdName(), field_42:this.getAppInstaller(), field_43:this.getAdViewWidth(), field_44:this.getAdViewHeight(), field_45:this.getAdViewX(), 
      field_46:this.getAdViewY(), field_47:this.getMinimumAlpha(), field_48:this.getScreenWidth(), field_49:this.getScreenHeight(), field_50:this.getDeviceOrientation()};
      a = {encryptedBlobs:[jb.UnityInfo.encode(a).finish()], encryptionMethod:jb.UnityProto.EncryptionMethod.UNENCRYPTED, protoName:jb.UnityProto.ProtoName.UNITY_INFO};
      a = jb.UnityProto.encode(a).finish();
      return ra.util.base64.encode(a, 0, a.byteLength);
    };
    b.prototype.getBase64ProtoBufNonEncoded = function() {
      var a = this.getBase64ProtoBuf();
      a = a.replace(/\//g, "_");
      a = a.replace(/\+/g, "-");
      return a = a.replace(/[=]+$/, "");
    };
    b.prototype.getDTO = function() {
      return {sdkVersion:this.getSdkVersion(), batteryLevel:this.getBatteryLevel(), batteryState:this.getBatteryState(), accelerometerX:this.getAccelerometerX(), accelerometerY:this.getAccelerometerY(), accelerometerZ:this.getAccelerometerZ(), networkType:this.getNetworkType(), deviceOrientation:this.getDeviceOrientation(), touchXUp:this.getTouchXUp(), touchXDown:this.getTouchXDown(), touchYUp:this.getTouchYUp(), touchYDown:this.getTouchYDown(), touchDuration:this.getTouchDuration(), touchPressure:this.getTouchPressure(), 
      touchDiameter:this.getTouchDiameter(), cpuCount:this.getCpuCount(), touchUpTotal:this.getTouchUpTotal(), touchDownTotal:this.getTouchDownTotal(), touchMoveTotal:this.getTouchMoveTotal(), touchCancelTotal:this.getTouchCancelTotal(), osVersion:this.getOsVersion(), timeZoneOffset:this.getTimeZoneOffset(), usbConnected:this.getUsbConnected(), appActive:this.getAppActive(), appUptime:this.getAppUptime(), appStartTime:this.getAppStartTime(), rooted:this.getRooted(), eventTimestamp:this.getEventTimestamp(), 
      apkHash:this.getApkHash(), apkDeveloperSigningCertificateHash:this.getApkDeveloperSigningCertificateHash(), appVersionName:this.getAppVersionName(), appVersionCode:this.getAppVersionCode(), appIdName:this.getAppIdName(), appInstaller:this.getAppInstaller(), deviceUptime:this.getDeviceUptime(), deviceElapsedRealtime:this.getDeviceElapsedRealtime(), adbEnabled:this.getAdbEnabled(), timeOnScreen:this.getTimeOnScreen(), minimumAlpha:this.getMinimumAlpha(), adViewWidth:this.getAdViewWidth(), adViewHeight:this.getAdViewHeight(), 
      androidTouchObscured:this.getAndroidTouchObscured(), touchToolType:this.getTouchToolType(), touchSource:this.getTouchSource(), touchDeviceId:this.getTouchDeviceId(), touchDistance:this.getTouchDistance(), adViewX:this.getAdViewX(), adViewY:this.getAdViewY(), screenWidth:this.getScreenWidth(), screenHeight:this.getScreenHeight()};
    };
    return b;
  }(J), eg = function() {
    function c(b, a, c, e) {
      this._nativeBridge = b;
      this._clientInfo = a;
      this._deviceInfo = c;
      this._focusManager = e;
    }
    c.prototype.getAdRequestSignal = function() {
      return this.getCommonSignal();
    };
    c.prototype.getClickSignal = function() {
      var b = this;
      return this.getCommonSignal().then(function(a) {
        a.getScreenWidth() && a.getScreenHeight() && (b._clientInfo.getPlatform() === h.IOS && b._deviceInfo.getScreenScale() ? (a.setAdViewWidth(b.getIosViewWidth(a.getScreenWidth(), b._deviceInfo.getScreenScale())), a.setAdViewHeight(b.getIosViewHeight(a.getScreenHeight(), b._deviceInfo.getScreenScale()))) : b._deviceInfo.getScreenDensity() && (a.setAdViewWidth(b.getAndroidViewWidth(a.getScreenWidth(), b._deviceInfo.getScreenDensity())), a.setAdViewHeight(b.getAndroidViewHeight(a.getScreenHeight(), 
        b._deviceInfo.getScreenDensity()))));
        a.setAdViewX(0);
        a.setAdViewY(0);
        return a;
      });
    };
    c.prototype.getCommonSignal = function() {
      var b = this, a = this._nativeBridge, c = new dg;
      c.setEventTimestamp(this.getEventTimestamp());
      c.setSdkVersion(this.getSdkVersion(this._clientInfo));
      c.setOsVersion(this.getOsVersion(this._clientInfo, this._deviceInfo));
      c.setTimeZoneOffset(this.getTimeZoneOffset());
      c.setAppActive(this._focusManager.isAppForeground());
      c.setAppUptime(this.getAppUptime(this._clientInfo));
      c.setAppStartTime(this.getAppStartTime(this._clientInfo));
      c.setRooted(this.getRooted(this._deviceInfo));
      c.setAppVersionName(this._clientInfo.getApplicationVersion());
      c.setAppIdName(this._clientInfo.getApplicationName());
      var e = [];
      e.push(this._deviceInfo.getBatteryLevel().then(function(a) {
        c.setBatteryLevel(b.getBatteryLevel(a));
      }).catch(function() {
        b.logFailure(a, "batteryLevel");
      }));
      e.push(this._deviceInfo.getBatteryStatus().then(function(a) {
        c.setBatteryState(b.getBatteryStatus(b._clientInfo, a));
      }).catch(function() {
        b.logFailure(a, "batteryStatus");
      }));
      e.push(this._deviceInfo.getConnectionType().then(function(a) {
        c.setNetworkType(b.getNetworkType(a));
      }).catch(function() {
        b.logFailure(a, "connectionType");
      }));
      e.push(Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(a) {
        var d = a[0];
        a = a[1];
        b._nativeBridge.getPlatform() === h.IOS ? (c.setScreenWidth(d * b._deviceInfo.getScreenScale()), c.setScreenHeight(a * b._deviceInfo.getScreenScale())) : (c.setScreenWidth(d), c.setScreenHeight(a));
        c.setDeviceOrientation(b.getDeviceScreenOrientation(d, a));
      }).catch(function() {
        b.logFailure(a, "screenWidth");
      }));
      a.getPlatform() === h.ANDROID && e.push(a.DeviceInfo.Android.getPackageInfo(this._clientInfo.getApplicationName()).then(function(a) {
        a.installer ? c.setAppInstaller(a.installer) : c.setAppInstaller("unknown");
        a.versionCode && c.setAppVersionCode(a.versionCode);
      }).catch(function() {
        b.logFailure(a, "packageInfo");
      }));
      return Promise.all(e).then(function() {
        return c;
      });
    };
    c.prototype.logFailure = function(b, a) {
      t.trigger("signal_failed", {signal:a});
    };
    c.prototype.getEventTimestamp = function() {
      return Math.round(Date.now() / 1000);
    };
    c.prototype.getSdkVersion = function() {
      return this._clientInfo.getPlatform() === h.IOS ? "unity-ios-v" + this._clientInfo.getSdkVersionName() : "unity-android-v" + this._clientInfo.getSdkVersionName();
    };
    c.prototype.getBatteryLevel = function(b) {
      return -1 === b ? -1 : Math.round(100 * b);
    };
    c.prototype.getNetworkType = function(b) {
      return "wifi" === b ? 1 : "cellular" === b ? 0 : -1;
    };
    c.prototype.getOsVersion = function(b, a) {
      return b.getPlatform() === h.IOS ? a.getModel().split(" ")[0].replace(/[0-9]+,[0-9]+$/, "") + " " + a.getOsVersion() : a.getOsVersion();
    };
    c.prototype.getTimeZoneOffset = function() {
      return -1 * (new Date).getTimezoneOffset() + 1440;
    };
    c.prototype.getAppUptime = function(b) {
      return Math.round((Date.now() - b.getInitTimestamp()) / 1000);
    };
    c.prototype.getAppStartTime = function(b) {
      return Math.round(b.getInitTimestamp() / 1000);
    };
    c.prototype.getRooted = function(b) {
      return b.isSimulator() ? 2 : b.isRooted() ? 1 : 0;
    };
    c.prototype.getIosViewWidth = function(b, a) {
      return b / a;
    };
    c.prototype.getIosViewHeight = function(b, a) {
      return b / a;
    };
    c.prototype.getAndroidViewWidth = function(b, a) {
      return b / (a / 160);
    };
    c.prototype.getAndroidViewHeight = function(b, a) {
      return b / (a / 160);
    };
    c.prototype.getBatteryStatus = function(b, a) {
      if (b.getPlatform() === h.IOS) {
        return a;
      }
      switch(a) {
        case 1:
          return 0;
        case 2:
          return 2;
        case 3:
          return 1;
        case 4:
          return 1;
        case 5:
          return 3;
        default:
          return 0;
      }
    };
    c.prototype.getDeviceScreenOrientation = function(b, a) {
      return b === a ? 20 : b > a ? 3 : 1;
    };
    return c;
  }(), fg = function() {
    function c(b) {
      var a = this;
      this._mustReinitialize = this._initialized = this._showing = !1;
      this._nativeBridge = b;
      window && window.addEventListener && window.addEventListener("error", function(b) {
        return a.onError(b);
      }, !1);
    }
    c.prototype.initialize = function() {
      var b = this;
      return this._nativeBridge.Sdk.loadComplete().then(function(a) {
        b._deviceInfo = new id(b._nativeBridge);
        b._focusManager = new Yf(b._nativeBridge);
        b._wakeUpManager = new He(b._nativeBridge, b._focusManager);
        b._request = new Ja(b._nativeBridge, b._wakeUpManager);
        b._cache = new Kd(b._nativeBridge, b._wakeUpManager, b._request);
        b._resolve = new Ge(b._nativeBridge);
        b._clientInfo = new De(b._nativeBridge.getPlatform(), a);
        b._thirdPartyEventManager = new Fe(b._nativeBridge, b._request);
        b._metadataManager = new Wf(b._nativeBridge);
        b._adMobSignalFactory = new eg(b._nativeBridge, b._clientInfo, b._deviceInfo, b._focusManager);
        aa.setRequest(b._request);
        aa.setClientInfo(b._clientInfo);
        K.setInitTimestamp();
        return Promise.all([b._deviceInfo.fetch(), b.setupTestEnvironment()]);
      }).then(function() {
        if (b._clientInfo.getPlatform() === h.ANDROID) {
          document.body.classList.add("android"), b._nativeBridge.setApiLevel(b._deviceInfo.getApiLevel()), b._container = new Tf(b._nativeBridge, b._deviceInfo);
        } else {
          if (b._clientInfo.getPlatform() === h.IOS) {
            var a = b._deviceInfo.getModel();
            a.match(/iphone/i) || a.match(/ipod/i) ? document.body.classList.add("iphone") : a.match(/ipad/i) && document.body.classList.add("ipad");
            b._container = new Vf(b._nativeBridge, b._deviceInfo, b._focusManager);
          }
        }
        aa.setDeviceInfo(b._deviceInfo);
        b._sessionManager = new Xb(b._nativeBridge);
        b._operativeEventManager = new ec(b._nativeBridge, b._request, b._metadataManager, b._sessionManager, b._clientInfo, b._deviceInfo);
        b._initializedAt = b._configJsonCheckedAt = Date.now();
        b._nativeBridge.Sdk.initComplete();
        b._wakeUpManager.setListenConnectivity(!0);
        b._nativeBridge.getPlatform() === h.IOS ? (b._focusManager.setListenAppForeground(!0), b._focusManager.setListenAppBackground(!0)) : (b._focusManager.setListenScreen(!0), b._focusManager.setListenAndroidLifecycle(!0));
        a = b._creativeUrl ? Promise.resolve(new Kb(Ga.parse('{\n  "enabled": true,\n  "coppaCompliant": false,\n  "assetCaching": "disabled",\n  "projectId": "0a379f5a-c4fa-4f7f-a5c1-e49fd3dd63d4",\n  "placements": [{\n    "id": "defaultVideoAndPictureZone",\n    "name": "Placement",\n    "default": true,\n    "allowSkip": true,\n    "disableBackButton": true,\n    "muteVideo": false,\n    "useDeviceOrientationForVideo": false,\n    "adTypes": ["MRAID", "VIDEO"],\n    "skipInSeconds": 5\n  }, {\n    "id": "incentivizedZone",\n    "name": "Placement",\n    "default": false,\n    "allowSkip": false,\n    "disableBackButton": true,\n    "muteVideo": false,\n    "useDeviceOrientationForVideo": false,\n    "adTypes": ["MRAID", "VIDEO"]\n  }],\n  "properties": "tynbvvQLwnpf382fQqw4MzIk8YYdMj8DWebgn+QoOgpVVRYNFXY=",\n  "country": "FI",\n  "gamerId": "59a964fd13dcc10984985e6d",\n  "abGroup": 0\n}\n'))) : 
        bb.fetch(b._nativeBridge, b._request, b._clientInfo, b._deviceInfo, b._metadataManager);
        var c = b._cache.cleanCache().catch(function(a) {
          b._nativeBridge.Sdk.logError("Unity Ads cleaning cache failed: " + a);
          t.trigger("cleaning_cache_failed", a);
        });
        return Promise.all([a, c]);
      }).then(function(a) {
        b._configuration = a[0];
        aa.setConfiguration(b._configuration);
        if (!b._configuration.isEnabled()) {
          throw a = Error("Game with ID " + b._clientInfo.getGameId() + " is not enabled"), a.name = "DisabledGame", a;
        }
        if (b._configuration.isAnalyticsEnabled() || "14850" === b._clientInfo.getGameId() || "14851" === b._clientInfo.getGameId()) {
          return b._analyticsManager = new Xf(b._nativeBridge, b._wakeUpManager, b._request, b._clientInfo, b._deviceInfo, b._configuration, b._focusManager), b._analyticsManager.init().then(function() {
            b._sessionManager.setGameSessionId(b._analyticsManager.getGameSessionId());
            return Promise.resolve();
          });
        }
        var c = new dc(b._nativeBridge);
        return c.getSessionId(b._clientInfo.isReinitialized()).then(function(a) {
          c.setSessionId(a);
          b._sessionManager.setGameSessionId(a);
          return Promise.resolve();
        });
      }).then(function() {
        0 === b._sessionManager.getGameSessionId() % 10000 && b._cache.setDiagnostics(!0);
        var a = b._configuration.getDefaultPlacement();
        b._nativeBridge.Placement.setDefaultPlacement(a.getId());
        b._assetManager = new Rf(b._cache, b._configuration.getCacheMode(), b._deviceInfo);
        b._campaignManager = new La(b._nativeBridge, b._configuration, b._assetManager, b._sessionManager, b._adMobSignalFactory, b._request, b._clientInfo, b._deviceInfo, b._metadataManager);
        b._campaignRefreshManager = new Nb(b._nativeBridge, b._wakeUpManager, b._campaignManager, b._configuration, b._focusManager);
        K.initialize(b._nativeBridge, b._request, b._configuration, b._sessionManager, b._campaignManager, b._metadataManager, b._clientInfo);
        return b._campaignRefreshManager.refresh();
      }).then(function() {
        b._wakeUpManager.onNetworkConnected.subscribe(function() {
          return b.onNetworkConnected();
        });
        b._initialized = !0;
        return b._sessionManager.sendUnsentSessions(b._operativeEventManager);
      }).catch(function(a) {
        if (a instanceof Mb) {
          a = {message:a.message, name:a.name}, b._nativeBridge.Listener.sendErrorEvent(N[N.INITIALIZE_FAILED], a.message);
        } else {
          if (a instanceof Error && "DisabledGame" === a.name) {
            return;
          }
          a instanceof Error && (a = {message:a.message, name:a.name, stack:a.stack}, a.message === N[N.INVALID_ARGUMENT] && b._nativeBridge.Listener.sendErrorEvent(N[N.INVALID_ARGUMENT], "Game ID is not valid"));
        }
        b._nativeBridge.Sdk.logError(JSON.stringify(a));
        t.trigger("initialization_error", a);
      });
    };
    c.prototype.show = function(b, a, c) {
      var d = this;
      c(ba.OK);
      if (this._showing) {
        this.showError(!1, b, "Can't show a new ad unit when ad unit is already open");
      } else {
        var e = this._configuration.getPlacement(b);
        if (e) {
          var l = this._campaignRefreshManager.getCampaign(b);
          l ? (K.sendShowEvent(b), l.isExpired() ? (this.showError(!0, b, "Campaign has expired"), this._campaignRefreshManager.refresh(), c = new H(Error("Campaign expired"), {id:l.getId(), willExpireAt:l.getWillExpireAt()}), t.trigger("campaign_expired", c, l.getSession())) : (this._showing = !0, this.shouldReinitialize().then(function(a) {
            d._mustReinitialize = a;
            d._campaignRefreshManager.setRefreshAllowed(!a);
          }), this._configuration.getCacheMode() !== M.DISABLED && this._assetManager.stopCaching(), Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight(), this._deviceInfo.getConnectionType()]).then(function(c) {
            var f = c[0], g = c[1];
            c = c[2];
            if (l.isConnectionNeeded() && "none" === c) {
              d._showing = !1, d.showError(!0, b, "No connection"), f = new H(Error("No connection is available"), {id:l.getId()}), t.trigger("mraid_no_connection", f, l.getSession());
            } else {
              f = f >= g ? q.LANDSCAPE : q.PORTRAIT;
              d._comScoreTrackingService = new bg(d._thirdPartyEventManager, d._nativeBridge, d._deviceInfo);
              d._currentAdUnit = Qf.createAdUnit(d._nativeBridge, {forceOrientation:f, focusManager:d._focusManager, container:d._container, deviceInfo:d._deviceInfo, clientInfo:d._clientInfo, thirdPartyEventManager:d._thirdPartyEventManager, operativeEventManager:d._operativeEventManager, comScoreTrackingService:d._comScoreTrackingService, placement:e, campaign:l, configuration:d._configuration, request:d._request, options:a, adMobSignalFactory:d._adMobSignalFactory});
              d._campaignRefreshManager.setCurrentAdUnit(d._currentAdUnit);
              d._currentAdUnit.onClose.subscribe(function() {
                return d.onAdUnitClose();
              });
              if (d._nativeBridge.getPlatform() === h.IOS && l instanceof da && !eb.isAppSheetBroken(d._deviceInfo.getOsVersion()) && !l.getBypassAppSheet()) {
                var k = {id:parseInt(l.getAppStoreId(), 10)};
                d._nativeBridge.AppSheet.prepare(k).then(function() {
                  var a = d._nativeBridge.AppSheet.onClose.subscribe(function() {
                    d._nativeBridge.AppSheet.prepare(k);
                  });
                  d._currentAdUnit.onClose.subscribe(function() {
                    d._nativeBridge.AppSheet.onClose.unsubscribe(a);
                    d._nativeBridge.AppSheet.destroy(k);
                  });
                });
              }
              d._operativeEventManager.setPreviousPlacementId(d._campaignManager.getPreviousPlacementId());
              d._campaignManager.setPreviousPlacementId(b);
              d._currentAdUnit.show();
            }
          }))) : this.showError(!0, b, "Campaign not found");
        } else {
          this.showError(!0, b, "No such placement: " + b);
        }
      }
    };
    c.prototype.showError = function(b, a, c) {
      this._nativeBridge.Sdk.logError("Show invocation failed: " + c);
      this._nativeBridge.Listener.sendErrorEvent(N[N.SHOW_ERROR], c);
      b && this._nativeBridge.Listener.sendFinishEvent(a, u.ERROR);
    };
    c.prototype.onAdUnitClose = function() {
      this._nativeBridge.Sdk.logInfo("Closing Unity Ads ad unit");
      this._showing = !1;
      this._mustReinitialize && (this._nativeBridge.Sdk.logInfo("Unity Ads webapp has been updated, reinitializing Unity Ads"), this.reinitialize());
    };
    c.prototype.isShowing = function() {
      return this._showing;
    };
    c.prototype.onNetworkConnected = function() {
      var b = this;
      !this.isShowing() && this._initialized && this.shouldReinitialize().then(function(a) {
        a ? b.isShowing() ? (b._mustReinitialize = !0, b._campaignRefreshManager.setRefreshAllowed(!1)) : (b._nativeBridge.Sdk.logInfo("Unity Ads webapp has been updated, reinitializing Unity Ads"), b.reinitialize()) : (b._campaignRefreshManager.refresh(), b._sessionManager.sendUnsentSessions(b._operativeEventManager));
      });
    };
    c.prototype.onError = function(b) {
      t.trigger("js_error", {message:b.message, url:b.filename, line:b.lineno, column:b.colno, object:b.error});
      return !0;
    };
    c.prototype.reinitialize = function() {
      var b = this;
      this._cache.isPaused() ? Promise.all([this._nativeBridge.Storage.set(n.PUBLIC, "caching.pause.value", !0), this._nativeBridge.Storage.write(n.PUBLIC)]).then(function() {
        b._nativeBridge.Sdk.reinitialize();
      }).catch(function() {
        b._nativeBridge.Sdk.reinitialize();
      }) : this._nativeBridge.Sdk.reinitialize();
    };
    c.prototype.getConfigJson = function() {
      return this._request.get(this._clientInfo.getConfigUrl() + "?ts=" + Date.now() + "&sdkVersion=" + this._clientInfo.getSdkVersion());
    };
    c.prototype.shouldReinitialize = function() {
      var b = this;
      return !this._clientInfo.getWebviewHash() || 9E5 >= Date.now() - this._configJsonCheckedAt ? Promise.resolve(!1) : this.getConfigJson().then(function(a) {
        b._configJsonCheckedAt = Date.now();
        return Ga.parse(a.response).hash !== b._clientInfo.getWebviewHash();
      }).catch(function() {
        return !1;
      });
    };
    c.prototype.setupTestEnvironment = function() {
      var b = this;
      return y.setup(new Lb(this._nativeBridge)).then(function() {
        y.get("serverUrl") && (bb.setTestBaseUrl(y.get("serverUrl")), ec.setTestBaseUrl(y.get("serverUrl")), La.setBaseUrl(y.get("serverUrl")));
        y.get("configUrl") && bb.setTestBaseUrl(y.get("configUrl"));
        y.get("kafkaUrl") && aa.setTestBaseUrl(y.get("kafkaUrl"));
        y.get("abGroup") && (bb.setAbGroup(y.get("abGroup")), La.setAbGroup(y.get("abGroup")));
        y.get("campaignId") && La.setCampaignId(y.get("campaignId"));
        y.get("country") && La.setCountry(y.get("country"));
        y.get("autoSkip") && wb.setAutoSkip(y.get("autoSkip"));
        y.get("autoClose") && I.setAutoClose(y.get("autoClose"));
        y.get("autoCloseDelay") && I.setAutoCloseDelay(y.get("autoCloseDelay"));
        y.get("forcedOrientation") && Xa.setForcedOrientation(y.get("forcedOrientation"));
        if (y.get("creativeUrl")) {
          var a = b._creativeUrl = y.get("creativeUrl");
          b._nativeBridge.getPlatform() === h.ANDROID ? La.setCampaignResponse('{\n  "correlationId": "PFweE7m9HRHUg2y08qU1PL",\n  "placements": {\n    "defaultVideoAndPictureZone": "000000000000000000000000",\n    "incentivizedZone": "000000000000000000000000"\n  },\n  "media": {\n    "000000000000000000000000": {\n      "contentType": "comet/campaign",\n      "content": "{\\"id\\":\\"000000000000000000000000\\",\\"platform\\":\\"android\\",\\"store\\":\\"google\\",\\"appStoreId\\":\\"com.iUnity.angryBots\\",\\"gameId\\":11017,\\"gameName\\":\\"Test game android\\",\\"gameIcon\\":\\"http://cdn-highwinds.unityads.unity3d.com/impact/11017/test_game_icon.png\\",\\"rating\\":4.5,\\"ratingCount\\":10000,\\"bypassAppSheet\\":false,\\"mraidUrl\\":\\"{CREATIVE_URL_PLACEHOLDER}\\"}",\n      "trackingUrls": {},\n      "campaignId": "000000000000000000000000",\n      "seatId": 9000,\n      "adType": "MRAID"\n    }\n  },\n  "auctionId": "a15a4fb6-f9ce-4b09-a0cc-0672f1de4d20"\n}\n'.replace("{CREATIVE_URL_PLACEHOLDER}", 
          a)) : b._nativeBridge.getPlatform() === h.IOS && La.setCampaignResponse('{\n  "correlationId": "S8z40tOCRnTjCmX59PWh48",\n  "placements": {\n    "defaultVideoAndPictureZone": "000000000000000000000000",\n    "incentivizedZone": "000000000000000000000000"\n  },\n  "media": {\n    "000000000000000000000000": {\n      "contentType": "comet/campaign",\n      "content": "{\\"id\\":\\"000000000000000000000000\\",\\"platform\\":\\"ios\\",\\"store\\":\\"apple\\",\\"appStoreId\\":\\"453467175\\",\\"gameId\\":11017,\\"gameName\\":\\"Test game ios\\",\\"gameIcon\\":\\"https://cdn-highwinds.unityads.unity3d.com/impact/11017/test_game_icon.png\\",\\"rating\\":4.5,\\"ratingCount\\":10000,\\"bypassAppSheet\\":false,\\"mraidUrl\\":\\"{CREATIVE_URL_PLACEHOLDER}\\"}",\n      "trackingUrls": {},\n      "campaignId": "000000000000000000000000",\n      "seatId": 9000,\n      "adType": "MRAID"\n    }\n  },\n  "auctionId": "a15a4fb6-f9ce-4b09-a0cc-0672f1de4d20"\n}\n'.replace("{CREATIVE_URL_PLACEHOLDER}", 
          a));
        }
      });
    };
    return c;
  }(), gg = function() {
    function c() {
    }
    c.prototype.handleInvocation = function(b) {
      window.webkit.messageHandlers.handleInvocation.postMessage(b);
    };
    c.prototype.handleCallback = function(b, a, c) {
      window.webkit.messageHandlers.handleCallback.postMessage({id:b, status:a, parameters:c});
    };
    return c;
  }(), hg = function() {
    function c() {
    }
    c.prototype.handleInvocation = function(b) {
      var a = new XMLHttpRequest;
      a.open("POST", c._nativeUrl + "/handleInvocation", !1);
      a.send(b);
    };
    c.prototype.handleCallback = function(b, a, d) {
      var e = new XMLHttpRequest;
      e.open("POST", c._nativeUrl + "/handleCallback", !1);
      e.send('{"id":"' + b + '","status":"' + a + '","parameters":' + d + "}");
    };
    c._nativeUrl = "https://webviewbridge.unityads.unity3d.com";
    return c;
  }(), mb = null;
  "undefined" !== typeof location && (mb = p.getQueryParameter(location.search, "platform"));
  var Cb = null;
  "undefined" !== typeof navigator && (Cb = navigator.userAgent.match(/(iPad|iPhone|iPod);.*CPU.*OS 7_\d/i));
  var Ab = window.requestAnimationFrame || window.webkitRequestAnimationFrame, lb = !1;
  zb();
  window.addEventListener("resize", zb, !1);
  if ("undefined" !== typeof location) {
    var kb = void 0;
    switch(mb) {
      case "android":
        kb = new qb(window.webviewbridge, h.ANDROID);
        break;
      case "ios":
        kb = window.webkit ? new qb(new gg, h.IOS, !1) : new qb(new hg, h.IOS, !1);
        break;
      default:
        throw Error("Unity Ads webview init failure: no platform defined, unable to initialize native bridge");
    }
    var yb = window;
    yb.nativebridge = kb;
    yb.webview = new fg(kb);
    yb.webview.initialize();
  }
})(protobuf);

 }, false);</script>
</head>
  <body></body>
</html>
